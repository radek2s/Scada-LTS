(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function o(t){return r.p+"js/"+({canvg:"canvg","cmp-component":"cmp-component","example-chart-cmp":"example-chart-cmp","isalive-component":"isalive-component","live-alarms-component":"live-alarms-component",pdfmake:"pdfmake",ph:"ph","simple-component-svg":"simple-component-svg","sleep-and-reactivation-ds-component":"sleep-and-reactivation-ds-component","step-line-chart-component":"step-line-chart-component","test-component":"test-component",xlsx:"xlsx"}[t]||t)+".js"}function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[],i=s[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,n){i=s[t]=[e,n]}));e.push(i[2]=n);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=o(t);var l=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(d);var i=s[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",l.name="ChunkLoadError",l.type=n,l.request=a,i[1](l)}s[t]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"008c":function(t,e,i){"use strict";i("a838")},"0105":function(t,e,i){},"0354":function(t,e,i){},"07e37":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[t._v(t._s(t.label))]),i("div",{ref:"chartdiv",staticClass:"hello",style:{height:this.height+"px",width:this.width+"px"}}),t.errorMessage?i("div",[i("p",{staticClass:"error"},[t._v(t._s(t.errorMessage))])]):t._e(),t.showReload?i("div",[i("button",{on:{click:function(e){return t.reload()}}},[t._v("Reload")])]):t._e(),t.showDebug?i("div",[i("button",{on:{click:function(e){return t.debug()}}},[t._v("Debug")])]):t._e()])},s=[],a=(i("ac4d"),i("8a81"),i("1c4c"),i("6b54"),i("2397"),i("28a5"),i("c5f6"),i("768b")),o=(i("ac6a"),i("5df3"),i("f400"),i("7f7f"),i("d225")),r=i("b0b4"),c=i("2a88"),l=i("4e2b"),d=i("308d"),u=i("6bb5"),m=i("71c9"),h=(i("c497"),i("5a54")),p=(i("bc3a"),i("2bf5"));function g(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=v(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw a}}}}function v(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function y(t){var e=b();return function(){var i,n=Object(u["a"])(t);if(e){var s=Object(u["a"])(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Object(d["a"])(this,i)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}m["g"](h["a"]);var _=function(t){Object(l["a"])(i,t);var e=y(i);function i(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return Object(o["a"])(this,i),e.call(this,t,"XYChart",n,s)}return Object(r["a"])(i,[{key:"displayControls",value:function(t,e,i){void 0!==t&&"true"==t?this.showScrollbarX=!0:void 0!==t&&"false"==t&&(this.showScrollbarX=!1),void 0!==e&&"true"==e?this.showScrollbarY=!0:void 0!==e&&"false"==e&&(this.showScrollbarY=!1),void 0!==i&&"true"==i?this.showLegend=!0:void 0!==i&&"false"==i&&(this.showLegend=!1)}},{key:"loadData",value:function(t,e,n,s){var a=this;return new Promise((function(o,r){Object(c["a"])(Object(u["a"])(i.prototype),"loadData",a).call(a,t,e,n,s).then((function(e){if(void 0==a.pointCurrentValue.get(t)&&a.pointCurrentValue.set(t,{name:e.name,suffix:e.textRenderer.suffix,type:e.type,labels:new Map}),"Multistate"===e.type){var i=e.textRenderer.multistateValues;if("textRendererMultistate"===e.textRenderer.typeName&&void 0!==i){for(var n=new Map,s=0;s<i.length;s++)n.set(String(i[s].key),i[s].text);a.pointCurrentValue.get(t).labels=n}}if("Binary"===e.type&&"textRendererBinary"===e.textRenderer.typeName){var r=new Map;r.set("0",e.textRenderer.zeroLabel),r.set("1",e.textRenderer.oneLabel),a.pointCurrentValue.get(t).labels=r}e.values.forEach((function(t){a.addValue(t,e.name,a.pointPastValues)})),o("done")}))}))}},{key:"setupChart",value:function(){this.chart.data=p["a"].prepareChartData(p["a"].sortMapKeys(this.pointPastValues)),this.createAxisX("DateAxis",null),this.createAxisY(),this.createScrollBarsAndLegend(this.showScrollbarX,this.showScrollbarY,this.showLegend),this.createExportMenu(!0,"Scada_StepLineChart");var t,e=g(this.pointCurrentValue);try{for(e.s();!(t=e.n()).done;){var i=Object(a["a"])(t.value,2),n=(i[0],i[1]),s=this.createSeries(n.name,n.name,n.suffix);if("Multistate"===n.type){var o=this.createAxisY(n.labels);s.yAxis=o,o.renderer.line.stroke=s.stroke,o.title.text=n.name}if("Binary"===n.type&&n.labels.size>0){var r=this.createAxisY(n.labels);s.yAxis=r,r.renderer.line.stroke=s.stroke,r.title.text=n.name}}}catch(c){e.e(c)}finally{e.f()}}},{key:"createSeries",value:function(t,e,n){return Object(c["a"])(Object(u["a"])(i.prototype),"createSeries",this).call(this,"StepLine","date",t,e,n)}}]),i}(p["a"]),S={name:"StepLineChartComponent",props:["pointId","pointXid","color","label","startDate","endDate","refreshRate","width","height","polylineStep","rangeValue","rangeColor","rangeLabel","showScrollbarX","showScrollbarY","showLegend","showReload","showDebug"],data:function(){return{errorMessage:void 0,chartClass:void 0,isExportId:!1}},mounted:function(){this.generateChart()},methods:{generateChart:function(){var t=this;Number(this.polylineStep)>1&&_.setPolylineStep(Number(this.polylineStep)),this.chartClass=new _(this.$refs.chartdiv,this.color),this.chartClass.displayControls(this.showScrollbarX,this.showScrollbarY,this.showLegend),void 0===this.pointXid||null===this.pointXid||null!==this.pointId&&void 0!==this.pointId||(this.isExportId=!0);var e,i=[];e=this.isExportId?this.pointXid.split(","):this.pointId.split(",");for(var n=0;n<e.length;n++)i.push(this.chartClass.loadData(e[n],this.startDate,this.endDate,this.isExportId));Promise.all(i).then((function(e){for(var i=0;i<e.length;i++)"done"!==e[i]&&(t.errorMessage="Point given with index ["+i+"] has not been loaded!");t.chartClass.showChart(),void 0!==t.rangeValue&&null!==t.rangeValue&&t.chartClass.addRangeValue(Number(t.rangeValue),t.rangeColor,t.rangeLabel),void 0!=t.refreshRate&&null!==t.refreshRate&&t.chartClass.startLiveUpdate(Number(t.refreshRate),t.isExportId)}))},reload:function(){this.generateChart()},debug:function(){console.debug(this.chartClass)}}},w=S,x=(i("2be5"),i("0c7c")),T=Object(x["a"])(w,n,s,!1,null,"017905aa",null);e["a"]=T.exports},"150f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ag-grid-vue",{staticClass:"ag-theme-balham",staticStyle:{height:"350px"},attrs:{columnDefs:t.columnDefs,rowData:t.rowData}})],1)},s=[],a=i("401b"),o=i("c1df"),r=i.n(o),c=i("4360"),l={name:"history-cmp",props:["pxIdViewAndIdCmp","value"],data:function(){return{columnDefs:null,rowData:null,xIdViewAndIdCmp:this.pxIdViewAndIdCmp}},components:{AgGridVue:a["AgGridVue"]},beforeMount:function(){this.columnDefs=[{headerName:"user",field:"userName",width:120,resizable:!0},{headerName:"time",field:"unixTime",width:200,resizable:!0,sortable:!0,cellRenderer:function(t){return r()(t.value).format("Do MMMM YYYY, HH:mm:ss ")}},{headerName:"to state",field:"interpretedState",width:120,resizable:!0},{headerName:"values",field:"values",resizable:!0,cellRenderer:function(t){return JSON.stringify(t.value)}}]},mounted:function(){},watch:{value:function(t,e){var i=this;1==t?c["a"].dispatch("getHisotryCMP",this.xIdViewAndIdCmp).then((function(t){i.rowData=i._.orderBy(t.data.history,["unixTime"],["desc"])})):this.rowData=null}}},d=l,u=i("0c7c"),m=Object(u["a"])(d,n,s,!1,null,null,null);e["a"]=m.exports},"1b4c6":function(t,e,i){"use strict";i("bdad")},"1d5b":function(t,e,i){},"2be5":function(t,e,i){"use strict";i("0105")},"2be7":function(t,e,i){},"2bf5":function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));i("ac4d"),i("8a81"),i("1c4c"),i("6b54"),i("c5f6");var n=i("75fc"),s=(i("55dd"),i("f559"),i("7f7f"),i("768b")),a=(i("28a5"),i("ac6a"),i("5df3"),i("f400"),i("d225")),o=i("b0b4"),r=i("71c9"),c=i("c497"),l=i("bc3a"),d=i.n(l);function u(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=m(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw a}}}}function m(t,e){if(t){if("string"===typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var p=function(){function t(e,i,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(Object(a["a"])(this,t),"XYChart"===i?this.chart=r["d"](e,c["l"]):"PieChart"===i?this.chart=r["d"](e,c["h"]):"GaugeChart"===i?this.chart=r["d"](e,c["e"]):"JsonChart"===i&&("XYChart"===l?this.chart=r["e"](o,e,c["l"]):"PieChart"===l?this.chart=r["e"](o,e,c["h"]):"GaugeChart"===l&&(this.chart=r["e"](o,e,c["e"]))),this.pointPastValues=new Map,this.pointCurrentValue=new Map,this.liveUpdatePointValues=new Map,this.lastUpdate=0,this.lastTimestamp=(new Date).getTime(),this.liveUpdateInterval=5e3,this.domain=s,void 0!=o){var d=[r["c"]("#39B54A"),r["c"]("#69FF7D"),r["c"]("#166921"),r["c"]("#690C24"),r["c"]("#B53859"),r["c"]("#734FC1"),r["c"]("#824F1B"),r["c"]("#69421B")];if(void 0!==n&&null!==n&&(n=n.split(","),n.length>0))for(var u=n.length-1;u>=0;u--)d.unshift(r["c"](n[u].trim()));this.chart.colors.list=d}this.yAxesCount=0}return Object(o["a"])(t,[{key:"showChart",value:function(){this.setupChart()}},{key:"loadData",value:function(e,i,n,s){var a;return void 0===i||null===i?(i=(new Date).getTime()-36e5,n=(new Date).getTime()):void 0===i||null===i||void 0!==n&&null!==n?void 0!==i&&null!==i&&void 0!==n&&null!==n&&(i=new Date(i).getTime(),n=new Date(n).getTime(),(isNaN(i)||isNaN(n))&&(console.warn("Parameter [start-date | end-date] are not valid!\nConnecting to API with default values"),i=(new Date).getTime()-36e5,n=(new Date).getTime())):(i=t.convertDate(i),n=(new Date).getTime(),isNaN(i)&&(console.warn("Parameter start-date is not valid!\nConnecting to API with default values"),i=(new Date).getTime()-36e5)),a=s?"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/xid/").concat(e,"/").concat(i,"/").concat(n):"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/").concat(e,"/").concat(i,"/").concat(n),new Promise((function(t,e){try{d.a.get(a,{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}catch(i){e(i)}}))}},{key:"startLiveUpdate",value:function(t,e){var i=this;this.liveUpdateInterval=setInterval((function(){i.refreshPointValues(e)}),t)}},{key:"loadLiveData",value:function(){var e,i=this,n=u(this.pointCurrentValue);try{for(n.s();!(e=n.n()).done;){var a=Object(s["a"])(e.value,2),o=a[0];a[1];d.a.get("".concat(this.domain,"/api/point_value/getValue/id/").concat(o),{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(t){isNaN(t.data.value)&&("true"==t.data.value?t.data.value=1:t.data.value=0);var e={name:t.data.name,value:t.data.value};void 0==i.liveUpdatePointValues.get(t.data.ts)?i.liveUpdatePointValues.set(t.data.ts,[e]):i.liveUpdatePointValues.get(t.data.ts).push(e)}))}}catch(r){n.e(r)}finally{n.f()}this.chart.addData(t.prepareChartData(t.sortMapKeys(this.liveUpdatePointValues))),void 0!=this.liveUpdatePointValues&&this.liveUpdatePointValues.clear()}},{key:"getPointValue",value:function(t){var e=this;return new Promise((function(i,n){try{d.a.get("".concat(e.domain,"/api/point_value/getValue/id/").concat(t),{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(t){i(t.data)})).catch((function(t){n(t)}))}catch(s){n(s)}}))}},{key:"getPointValueXid",value:function(t){var e=this;return new Promise((function(i,n){try{d.a.get("".concat(e.domain,"/api/point_value/getValue/").concat(t),{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(t){i(t.data)})).catch((function(t){n(t)}))}catch(s){n(s)}}))}},{key:"getPeriodicUpdate",value:function(t,e,i){var n,s=(new Date).getTime();return n=i?"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/xid/").concat(t,"/").concat(e,"/").concat(s):"".concat(this.domain,"/api/point_value/getValuesFromTimePeriod/").concat(t,"/").concat(e,"/").concat(s),new Promise((function(t,e){try{d.a.get(n,{timeout:5e3,useCredentails:!0,credentials:"same-origin"}).then((function(e){t(e.data)})).catch((function(t){e(t)}))}catch(i){e(i)}}))}},{key:"addValue",value:function(t,e,i){isNaN(t.value)&&("true"==t.value?t.value=1:t.value=0);var n={name:e,value:t.value};void 0==i.get(t.ts)?i.set(t.ts,[n]):i.get(t.ts).push(n)}},{key:"refreshPointValues",value:function(e){var i,n=this,a=[],o=u(this.pointCurrentValue);try{for(o.s();!(i=o.n()).done;){var r=Object(s["a"])(i.value,2),c=r[0];r[1];a.push(this.getPeriodicUpdate(c,this.lastTimestamp,e).then((function(t){t.values.forEach((function(e){n.addValue(e,t.name,n.liveUpdatePointValues)}))})))}}catch(l){o.e(l)}finally{o.f()}Promise.all(a).then((function(){var e=t.prepareChartData(n.liveUpdatePointValues);e.length>0&&e[e.length-1].date>n.lastUpdate&&(n.chart.addData(e,1),n.lastTimestamp=(new Date).getTime(),n.lastUpdate=e[e.length-1].date,n.liveUpdatePointValues.clear())}))}},{key:"stopLiveUpdate",value:function(){clearInterval(this.liveUpdateInterval),this.pointCurrentValue.clear(),this.pointPastValues.clear(),this.liveUpdatePointValues.clear()}},{key:"setupChart",value:function(){this.chart.data=t.prepareChartData(t.sortMapKeys(this.pointPastValues)),this.createAxisX("DateAxis",null),this.createAxisY(),this.createScrollBarsAndLegend(),this.createExportMenu();var e,i=u(this.pointCurrentValue);try{for(i.s();!(e=i.n()).done;){var n=Object(s["a"])(e.value,2),a=(n[0],n[1]);this.createSeries("StepLine","date",a.name,a.name)}}catch(o){i.e(o)}finally{i.f()}}},{key:"createSeries",value:function(t,e,i,n){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("Column"===t?s=this.chart.series.push(new c["c"]):"Line"===t?s=this.chart.series.push(new c["g"]):"StepLine"===t?(s=this.chart.series.push(new c["j"]),s.startLocation=.5):"Pie"===t&&(s=this.chart.series.push(new c["i"])),"Column"===t)s.dataFields.categoryX=e,s.dataFields.valueY=i,s.columns.template.tooltipText="{valueY.value}",s.columns.template.tooltipY=0,s.columns.template.strokeOpacity=0;else if("Pie"===t)s.dataFields.value=i,s.dataFields.category=e,s.slices.template.strokeWidth=2,s.slices.template.strokeOpacity=1;else{s.dataFields.dateX=e,s.dataFields.valueY=i,a.trim().startsWith("[")&&(a="[".concat(a,"]")),s.tooltipText="{name}: [bold]{valueY}[/] "+a,s.tooltip.background.cornerRadius=20,s.tooltip.background.strokeOpacity=0,s.tooltip.pointerOrientation="vertical",s.tooltip.label.minWidth=40,s.tooltip.label.minHeight=40,s.tooltip.label.textAlign="middle",s.tooltip.label.textValign="middle",s.strokeWidth=3,s.fillOpacity=.3,s.minBulletDistance=15;var o=s.bullets.push(new c["b"]);o.circle.strokeWidth=2,o.circle.radius=5,o.circle.fill=r["c"]("#fff")}return s.name=n,this.chart.scrollbarX&&this.chart.scrollbarX.series.push(s),s}},{key:"createAxisX",value:function(t,e){var i;"ValueAxis"===t?(i=this.chart.xAxes.push(new c["k"]),i.min=0,i.max=100,i.renderer.grid.template.strokeOpacity=.3):"DateAxis"===t?(i=this.chart.xAxes.push(new c["d"]),i.dateFormats.setKey("second","HH:mm:ss"),i.dateFormats.setKey("minute","HH:mm:ss"),i.dateFormats.setKey("hour","HH:mm"),i.dateFormats.setKey("day","MMM dd"),i.periodChangeDateFormats.setKey("hour","[bold]dd MMM HH:mm[/]"),i.periodChangeDateFormats.setKey("day","[bold]MMM[/] dd"),i.periodChangeDateFormats.setKey("month","[bold]yyyy[/] MMM")):"CategoryAxis"===t&&(i=this.chart.xAxes.push(new c["a"]),i.dataFields.category=e,i.renderer.grid.template.location=0,i.renderer.minGridDistance=30,i.renderer.labels.template.horizontalCenter="right",i.renderer.labels.template.verticalCenter="middle",i.renderer.labels.template.rotation=315,i.tooltip.disabled=!0,i.renderer.minHeight=110)}},{key:"createAxisY",value:function(t){var e;return e=this.chart.yAxes.push(new c["k"]),e.tooltip.disabled=!1,e.renderer.opposite=Boolean(this.yAxesCount%2),void 0!==t&&t.size>0&&e.renderer.labels.template.adapter.add("text",(function(e){return void 0!==t.get(e)?t.get(e):""})),this.yAxesCount=this.yAxesCount+1,e}},{key:"addRangeValue",value:function(t,e,i){void 0!==e&&""!==e||(e="#FF150A"),void 0===i&&(i="");var n=this.chart.yAxes.getIndex(0).axisRanges.create();n.value=t,n.grid.stroke=r["c"](e),n.grid.strokeWidth=2,n.grid.strokeOpacity=1,n.label.inside=!0,n.label.text=i,n.label.fill=n.grid.stroke,n.label.verticalCenter="bottom"}},{key:"createScrollBarsAndLegend",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t&&(this.chart.scrollbarX=new c["m"],this.chart.scrollbarX.parent=this.chart.bottomAxesContainer),e&&(this.chart.scrollbarY=new r["b"],this.chart.scrollbarY.parent=this.chart.leftAxesContainer),i&&(this.chart.legend=new c["f"]),n&&(this.chart.cursor=new c["n"],this.chart.cursor.behavior="panXY")}},{key:"createExportMenu",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Scada_Chart";t&&(this.chart.exporting.menu=new r["a"],this.chart.exporting.menu.align="right",this.chart.exporting.menu.vetricalAlign="top",this.chart.exporting.filePrefix=e+"_"+String((new Date).getTime()))}}],[{key:"setPolylineStep",value:function(t){r["f"].minPolylineStep=t}},{key:"sortMapKeys",value:function(t){var e=function(t,e){return t[0]>e[0]?1:-1};return new Map(Object(n["a"])(t).sort(e))}},{key:"prepareChartData",value:function(t){var e=[];return t.forEach((function(t,i){var n='{ "date":'+i;t.forEach((function(t){isNaN(Number(t.value))||(n=n+', "'+t.name+'":'+t.value)})),n+="}",e.push(JSON.parse(n))})),e}},{key:"convertDate",value:function(t){var e=new Date(t);if("Invalid Date"==e){if(e=t.split("-"),2===e.length){var i=new Date,n=1;switch(e[1]){case"hour":case"hours":n=36e5;break;case"day":case"days":n=864e5;break;case"week":case"weeks":n=6048e5;break;case"month":case"months":n=26784e5;break}return i.getTime()-Number(e[0])*n}return console.warn("Not vaild date. Use for example ['1-day' | '2-months' | '3-days']\nReturning default value!"),dateNow.getTime()-36e5}return e.getTime()}}]),t}()},"37ea":function(t,e,i){},"3e3b":function(t,e,i){},"421d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"historical-alarms-components"},["true"==t.showMainToolbar?i("SimplePanel",{staticClass:"panel_top"},[t._v(" To refresh "+t._s(t.toRefresh)+" "),i("div",{staticClass:"action"},["true"==t.showSelectToAcknowledge?i("input",{directives:[{name:"model",rawName:"v-model",value:t.sellAll,expression:"sellAll"}],ref:"selectAll",attrs:{type:"checkbox",id:"select_all",name:"Select_All",value:"0"},domProps:{checked:Array.isArray(t.sellAll)?t._i(t.sellAll,"0")>-1:t.sellAll},on:{click:function(e){return t.toggleSelectAll()},change:function(e){var i=t.sellAll,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a="0",o=t._i(i,a);n.checked?o<0&&(t.sellAll=i.concat([a])):o>-1&&(t.sellAll=i.slice(0,o).concat(i.slice(o+1)))}else t.sellAll=s}}}):t._e(),t._v(" "),i("label",{staticClass:"selall",attrs:{for:"select_all"},on:{click:function(e){return t.toggleSelectAll()}}},[t._v("Select All")]),i("br")])]):t._e(),i("table",[i("tr",["true"==t.showSelectToAcknowledge?i("th"):t._e(),i("th",[t._v("Activation Timestamp")]),i("th",[t._v("Inactivation Timestamp")]),i("th",[t._v("Variable name")])]),t._l(t.alarms,(function(e,n){return i("tr",{key:n,class:{activation:t.isActivation(e["activation-time"],e["inactivation-time"],e.level),activation_alarm:t.isActivationAlarm(e["activation-time"],e["inactivation-time"],e.level),inactivation:t.isInactivation(e["activation-time"],e["inactivation-time"],e.level)}},["true"==t.showSelectToAcknowledge?i("td",[void 0!=e&&void 0!=e["inactivation-time"]&&e["inactivation-time"].trim().length>0?i("input",{directives:[{name:"model",rawName:"v-model",value:t.to_acknowledges,expression:"to_acknowledges"}],attrs:{type:"checkbox",name:"ActivationAction"},domProps:{value:e.id,checked:Array.isArray(t.to_acknowledges)?t._i(t.to_acknowledges,e.id)>-1:t.to_acknowledges},on:{change:function(i){var n=t.to_acknowledges,s=i.target,a=!!s.checked;if(Array.isArray(n)){var o=e.id,r=t._i(n,o);s.checked?r<0&&(t.to_acknowledges=n.concat([o])):r>-1&&(t.to_acknowledges=n.slice(0,r).concat(n.slice(r+1)))}else t.to_acknowledges=a}}}):t._e()]):t._e(),i("td",[t._v(t._s(e["activation-time"]))]),i("td",[t._v(t._s(e["inactivation-time"]))]),i("td",[t._v(t._s(e.name))])])}))],2),"true"==t.showPagination?i("SimplePanel",[i("div",{staticClass:"pagination"},[i("SimplePagination",{attrs:{"current-page":t.currentPage,"page-count":t.pageCount,"visible-pages-count":8},on:{nextPage:function(e){return t.pageChangeHandle("next")},previousPage:function(e){return t.pageChangeHandle("pref")},loadPage:t.pageChangeHandle}})],1)]):t._e(),"true"==t.showAcknowledgeBtn?i("div",{staticClass:"action_bottom"},[i("button",{on:{click:function(e){return t.acknowledge()}}},[t._v("Acknowledge Störung/Alarms")])]):t._e()],1)},s=[],a=(i("8e6e"),i("ac6a"),i("456d"),i("c5f6"),i("bd86")),o=i("4360"),r=i("59c1"),c=i.n(r);function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var u={el:"#alarms_component",name:"alarmsComponent",components:d({},c.a),props:["pShowAcknowledgeBtn","pShowMainToolbar","pShowSelectToAcknowledge","pShowPagination","pMaximumNumbersOfRows"],data:function(){return{LEVEL_FAULT:1,LEVEL_ALARM:2,alarms:[],currentPage:1,pageCount:10,toRefresh:5,to_acknowledges:[],sellAll:!1,showAcknowledgeBtn:this.pShowAcknowledgeBtn,showMainToolbar:this.pShowMainToolbar,showSelectToAcknowledge:this.pShowSelectToAcknowledge,showPagination:this.pShowPagination,maximumNumbersOfRows:this.pMaximumNumbersOfRows,hidePagination:!1}},methods:{getAlarms:function(t){var e=this,i=this.maximumNumbersOfRows,n=String(i*(t-1)),s=String(i);o["a"].dispatch("getLiveAlarms",{offset:n,limit:s}).then((function(i){e.alarms=i,e.alarms.length>=e.maximumNumbersOfRows||t>1?("false"==e.showPagination&&(e.hidePagination=!0),e.showPagination="true"):1==e.hidePagination&&(e.showPagination="false")}))},acknowledge:function(){for(var t=this,e=0;e<this.to_acknowledges.length;e++){var i=this.to_acknowledges[e];o["a"].dispatch("setAcknowledge",{id:i}).then((function(e){console.log("ackn:".concat(e)),t.sellAll=!1})).catch((function(t){console.log("ackn-err:".concat(t))}))}this.getAlarms(this.currentPage)},toggleSelectAll:function(){var t=document.getElementsByName("ActivationAction");if(this.sellAll)this.to_acknowledges=[];else if(null!=t&&void 0!=t)for(var e=0;e<t.length;e++)this.to_acknowledges.push(t[e]._value)},checkPrm:function(t,e,i){return void 0!==t&&void 0!==e&&void 0!==i&&(null!==t&&null!==e&&null!==i)},isActivation:function(t,e,i){return!!this.checkPrm(t,e,i)&&(t.trim().length>0&&0==e.trim().length&&i==this.LEVEL_FAULT)},isActivationAlarm:function(t,e,i){return!!this.checkPrm(t,e,i)&&(t.trim().length>0&&0==e.trim().length&&i==this.LEVEL_ALARM)},isInactivation:function(t,e,i){return!!this.checkPrm(t,e,i)&&(t.trim().length>0&&e.trim().length>0)},pageChangeHandle:function(t){this.to_acknowledges=[],this.sellAll=!1;try{if("next"===t)return void(this.currentPage<9&&(this.currentPage=Number(this.currentPage+1),this.getAlarms(this.currentPage)));if("pref"===t)return void(this.currentPage>1&&(this.currentPage=Number(this.currentPage-1),this.getAlarms(this.currentPage)));this.currentPage=Number(t),this.getAlarms(this.currentPage)}catch(e){console.log("pageCH:".concat(e))}}},created:function(){void 0===this.showAcknowledgeBtn&&(this.showAcknowledgeBtn="true"),void 0===this.showMainToolbar&&(this.showMainToolbar="true"),void 0===this.showSelectToAcknowledge&&(this.showSelectToAcknowledge="true"),void 0===this.showPagination&&(this.showPagination="true"),void 0==this.maximumNumbersOfRows&&(this.maximumNumbersOfRows=20),this.getAlarms(1)},mounted:function(){var t=this;setInterval((function(){0==t.toRefresh?(t.getAlarms(t.currentPage),t.toRefresh=5,console.log("getAlarms")):t.toRefresh=t.toRefresh-1}),1e3)}},m=u,h=(i("b641"),i("0c7c")),p=Object(h["a"])(m,n,s,!1,null,"488794fa",null);e["a"]=p.exports},"42d3":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[t._v(t._s(t.label))]),i("svg",{attrs:{width:"100",height:"20"}},[i("rect",{staticStyle:{fill:"rgb(255, 255, 255)","stroke-width":"2",stroke:"rgb(0, 0, 0)"},attrs:{width:"100",height:"20"}}),i("text",{attrs:{x:"5",y:"16",fill:"red"}},[t._v(t._s(t.value))])])])},s=[],a=i("bc3a"),o=i.n(a),r={name:"simple-component-svg",props:["pxidPoint","ptimeRefresh","plabel","pvalue"],data:function(){return{xidPoint:this.pxidPoint,timeRefresh:this.ptimeRefresh,label:this.plabel,value:this.pvalue,count:0}},methods:{getData:function(){var t=this,e="./api/point_value/getValue/".concat(this.xidPoint);o.a.get(e).then((function(e){t.value=e.data.value,t.count++})).catch((function(t){console.log(t)}))}},created:function(){void 0!=this.timeRefresh&&setInterval(function(){this.getData()}.bind(this),this.timeRefresh)}},c=r,l=i("0c7c"),d=Object(l["a"])(c,n,s,!1,null,null,null);e["a"]=d.exports},4360:function(t,e,i){"use strict";var n=i("2b0e"),s=i("2f62"),a=i("bc3a"),o=i.n(a),r={state:{datasourcesApiUrl:"./api/datasource",requestOptions:{timeout:5e3,useCredentials:!0,credentials:"same-origin"}},mutations:{},actions:{getAllDataSources:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.datasourcesApiUrl,"/getAll"),t.state.requestOptions).then((function(t){200===t.status?e(t.data):i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getAllPlcDataSources:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.datasourcesApiUrl,"/getAllPlc"),t.state.requestOptions).then((function(t){200===t.status?e(t.data):i(!1)})).catch((function(t){console.error(t),i(!1)}))}))}},getters:{}},c=r,l={state:{warning:!1,success:!1,danger:!0,timeWarningEpoch:5e3,timeErrorEpoch:1e3,timeRefreshEpoch:2e3,timeServerEpoch:-1,timeInWebEpoch:-1,msgErr:"",lastTimeCheck:-1},mutations:{SET_INIT:function(t,e){t.warning=!1,t.success=!1,t.danger=!0,t.timeWarningEpoch=e.tw,t.timeErrorEpoch=e.te,t.timeRefreshEpoch=e.tr},CHECK_IS_ALIVE:function(t,e){t.lastTimeCheck=e},ERR:function(t,e){t.msgErr=e}},actions:{calculateStateIsAlive:function(t,e){var i=t.commit,n=t.state;return new Promise((function(t){n.timeServerEpoch=e,n.timeInWebEpoch=Date.now()/1e3,n.danger=1e3*(n.timeInWebEpoch-n.timeServerEpoch)>=n.timeErrorEpoch,n.danger?(n.warning=!1,n.success=!1):(n.warning=1e3*(n.timeInWebEpoch-n.timeServerEpoch)>=n.timeWarningEpoch,n.warning?(n.danger=!1,n.success=!1):(n.danger=!1,n.warning=!1,n.success=!0)),i("CHECK_IS_ALIVE",e),t()}))},isAlive:function(t){var e=t.state,i=t.commit,n=t.dispatch;return new Promise((function(t,s){o.a.get("./api/is_alive/time",{timeout:e.timeRefreshEpoch}).then((function(e){n("calculateStateIsAlive",e.data).then((function(){t(e)}))})).catch((function(t){n("calculateStateIsAlive",e.timeServerEpoch).then((function(){i("ERR",t),s(t)}))}))}))},setInitIsAlive:function(t,e){var i=t.commit;i("SET_INIT",e)}},getters:{warningIsAlive:function(t){return t.warning},successIsAlive:function(t){return t.success},dangerIsAlive:function(t){return t.danger},timeWarningEpochIsAlive:function(t){return t.timeWarningEpoch},timeErrorEpochIsAlive:function(t){return t.timeErrorEpoch},timeRefreshIsAlive:function(t){return t.timeRefreshEpoch},timeFromServerIsAlive:function(t){return t.timeServerEpoch},timeInWebIsAlive:function(t){return t.timeInWebEpoch},msgErrorIsAlive:function(t){return t.msgErr}}},d=l,u=5e3,m={state:{msgErr:""},mutations:{ERR:function(t,e){t.msgErr=e}},actions:{getHisotryCMP:function(t,e){var i=t.commit;return new Promise((function(t,n){o.a.get("./api/cmp/history/".concat(e),{timeout:u}).then((function(e){t(e)})).catch((function(t){i("ERR",t),n()}))}))}},getters:{msgErrorHistoryCMP:function(t){return t.msgErr}}},h=m,p={state:{msgErr:""},mutations:{ERR:function(t,e){t.msgErr=e}},actions:{checkViewModificationTime:function(t,e){var i=t.commit,n=t.state;return new Promise((function(t,s){o.a.get("./api/view/getModificationTime/".concat(e),{timeout:n.timeRefreshEpoch}).then((function(e){t(e)})).catch((function(t){i("ERR",t),s(t)}))}))}},getters:{msgErrorRefreshViews:function(t){return t.msgErr}}},g=p,v={modules:{storeIsAlive:d,storeHistoryCMP:h,storeRefreshViews:g},state:{},mutations:{},actions:{},getters:{}},f=v,y={state:{},mutations:{},actions:{},getters:{}},b=y,_=i("2bf5"),S={modules:{},state:{domain:".",timeout:2e3},mutations:{},actions:{loadData:function(t,e,i,n){var s=t.state,a=(t.dispatch,"".concat(s.domain,"/api/point_value/getValuesFromTimePeriod")),r=w(i,n);return new Promise((function(t,i){try{o.a.get("".concat(a,"/").concat(e,"/").concat(r.start,"/").concat(r.end),{timeout:s.timeout,useCredentails:!0,credentials:"same-origin"}).then((function(e){t(e.data)})).catch((function(t){i(t)}))}catch(n){i(n)}}))},getPointValueById:function(t,e){t.dispatch;var i="".concat(state.domain,"/api/point_value/getValue/id");return new Promise((function(t,n){try{o.a.get("".concat(i,"/").concat(e),{timeout:state.timeout,useCredentails:!0,credentials:"same-origin"}).then((function(e){t(e.data)})).catch((function(t){n(t)}))}catch(s){n(s)}}))}},getters:{}};function w(t,e){return void 0===t||null===t?(t=(new Date).getTime()-36e5,e=(new Date).getTime()):void 0===t||null===t||void 0!==e&&null!==e?void 0!==t&&null!==t&&void 0!==e&&null!==e&&(t=new Date(t).getTime(),e=new Date(e).getTime(),(isNaN(t)||isNaN(e))&&(console.warn("Parameter [start-date | end-date] are not valid!\nConnecting to API with default values"),t=(new Date).getTime()-36e5,e=(new Date).getTime())):(t=_["a"].convertDate(t),e=(new Date).getTime(),isNaN(t)&&(console.warn("Parameter start-date is not valid!\nConnecting to API with default values"),t=(new Date).getTime()-36e5)),{start:t,end:e}}var x=S,T={state:{msgErr:""},mutations:{ERR:function(t,e){t.msgErr=e}},actions:{getLiveAlarms:function(t,e){var i=t.commit,n=e.offset,s=e.limit;return new Promise((function(t,e){o.a.get("./api/alarms/live/".concat(n,"/").concat(s)).then((function(e){console.log("axios:res:".concat(JSON.stringify(e))),t(e.data)})).catch((function(t){i("ERR",t),e()}))}))},getHistoryAlarms:function(t,e){var i=t.commit,n=e.dateDay,s=e.filterRLike,a=e.offset,r=e.limit;return new Promise((function(t,e){var c="./api/alarms/history/".concat(n,"/").concat(s,"/").concat(a,"/").concat(r);console.log(c),o.a.get(c).then((function(e){t(e.data)})).catch((function(t){i("ERR",t),e()}))}))},setAcknowledge:function(t,e){var i=t.commit,n=e.id;return new Promise((function(t,e){o.a.post("./api/alarms/acknowledge/".concat(n)).then((function(e){t(e.data)})).catch((function(t){i("ERR",t),e()}))}))},fakeGetLiveAlarms:function(t,e){t.commit,e.offset,e.limit;return new Promise((function(t){setTimeout((function(){t([{"id:":111,"activation-time":"2020-03-10 07:13:34","inactivation-time":"",name:"Be ST ALG_StoAllg1.0 Durchflussmessung Drosselkammer Störung Steuersicherung ausgelöst",level:"5"},{"id:":112,"activation-time":"2020-03-10 07:13:24","inactivation-time":"",name:"Be AL GM01 gas alarm",level:"4"},{"id:":113,"activation-time":"2020-03-10 07:13:24","inactivation-time":"2020-03-10 06:33:54",name:"Se AL GM02 gas alarm",level:"4"},{"id:":114,"activation-time":"2020-02-10 05:13:24","inactivation-time":"2020-03-10 06:30:54",name:"Bx AL GM03 gas alarm",level:"4"}])}),500)}))},fakeGetHistoryAlarms:function(t,e){t.commit,e.dateDay,e.filterRLike,e.offset,e.limit;return new Promise((function(t){setTimeout(t([{time:"2020-03-10 07:13:24",name:"Be ST ALG_StoAllg1.0 Durchflussmessung Drosselkammer Störung Steuersicherung ausgelöst",description:"Störung kommt"},{time:"2020-03-10 07:13:42",name:"Be ST ALG_StoAllg1.0 Durchflussmessung Drosselkammer Störung Steuersicherung ausgelöst",description:"Störung ist gegangen"},{time:"2020-03-10 07:13:24",name:"Be AL GM01 gas alarm",description:"Alarm ausgelöst"},{time:"2020-03-10 07:13:42",name:"Be AL GM01 gas alarm",description:"ist gegangen"}]))}))},fakeAcknowledge:function(t,e){t.commit,e.id;return new Promise((function(t){setTimeout(t({id:111,request:"OK",error:"none"}))}))}},getters:{msgError:function(t){return t.msgErr}}},C=T,E=(i("96cf"),i("3b8d")),D={state:{pedTemplate:{xid:"PED-PLC",alias:"PlcEventDetector",alarmLevel:0,duration:0,durationType:1,binartState:!0},ehTemplate:{id:-1,xid:"PLC_0001",alias:"PLC-EventHandler",disabled:!1,activeRecipients:null,sendEscalation:!1,escalationDelayType:1,escalationDelay:0,escalationRecipients:null,sendInactive:!1,inactiveOverride:!1,inactiveRecipients:null}},mutations:{},actions:{getPlcDataPoints:function(t,e){var i=t.dispatch;return i("requestGet","/datapoint/".concat(e,"/getAllPlc"))},getPlcEventHandlers:function(t){var e=t.dispatch;return e("requestGet","/eventHandler/getAllPlc")},getPlcEventHandlerById:function(t,e){var i=t.dispatch;return i("requestGet","/eventHandler/get/id/".concat(e))},deleteEventHandler:function(t,e){var i=t.dispatch;return i("requestDelete","/eventHandler/delete/id/".concat(e))},getAllMailingLists:function(t){var e=t.dispatch;return e("requestGet","/mailingList/getAll")},createPointEventDetector:function(t,e){var i=t.state,n=t.dispatch;return i.pedTemplate.xid=i.pedTemplate.xid+"_".concat(e),i.pedTemplate.alias=i.pedTemplate.alias+"_".concat(e),n("requestPost",{url:"/eventDetector/set/binary/state/".concat(e),data:i.pedTemplate})},deleteEventDetector:function(t,e){var i=t.dispatch;return i("requestDelete","/eventDetector/delete/".concat(e.dpId,"/").concat(e.edId))},deleteMailingListFromEventHandler:function(t,e){return e.eventHandler.activeRecipients=e.eventHandler.activeRecipients.filter((function(t){return t.referenceId!==e.activeMailingList})),e.eventHandler},addMailingListToEventHandler:function(t,e){e.eventHandler.activeRecipients||(e.eventHandler.activeRecipients=[]);var i={recipientType:1,referenceId:e.activeMailingList,referenceAddress:null};return e.eventHandler.activeRecipients.push(i),console.log(e.eventHandler),e.eventHandler},updateEventHandler:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,i){var n,s,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,n("getPlcEventHandlerById",i.ehId);case 3:if(s=t.sent,"add"!==i.method){t.next=10;break}return t.next=7,n("addMailingListToEventHandler",{eventHandler:s,activeMailingList:i.activeMailingList});case 7:s=t.sent,t.next=14;break;case 10:if("delete"!==i.method){t.next=14;break}return t.next=13,n("deleteMailingListFromEventHandler",{eventHandler:s,activeMailingList:i.activeMailingList});case 13:s=t.sent;case 14:if(0!==s.activeRecipients.length){t.next=24;break}return t.next=17,n("deleteEventHandler",s.id);case 17:return a=t.sent,t.next=20,n("deleteEventDetector",{dpId:i.typeRef1,edId:i.typeRef2});case 20:return o=t.sent,t.abrupt("return",a&&o);case 24:return t.abrupt("return",n("requestPut",{url:"/eventHandler/update/1/".concat(i.typeRef1,"/").concat(i.typeRef2),data:s}));case 25:case"end":return t.stop()}}),t)})));function e(e,i){return t.apply(this,arguments)}return e}(),createEventHandler:function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(e,i){var n,s,a,o,r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,s=e.dispatch,t.next=3,s("createPointEventDetector",i.datapointId);case 3:return a=t.sent,o=a.id,r=i.datapointId,c=i.mailingListId,n.ehTemplate.xid="EH_"+n.ehTemplate.xid+"_".concat(r,"_").concat(o,"_").concat(c),n.ehTemplate.alias=n.ehTemplate.alias+"_".concat(r,"_").concat(o,"_").concat(c),l=[{recipientType:1,referenceId:c,referenceAddress:null}],n.ehTemplate.activeRecipients=l,t.abrupt("return",s("requestPost",{url:"/eventHandler/set/1/".concat(r,"/").concat(o,"/").concat(i.handlerType),data:n.ehTemplate}));case 12:case"end":return t.stop()}}),t)})));function e(e,i){return t.apply(this,arguments)}return e}()},getters:{}},A=D,P=(i("ac6a"),i("456d"),i("c5f6"),{state:{systemSettingsApiUrl:"./api/systemSettings",requestOptions:{timeout:5e3,useCredentials:!0,credentials:"same-origin"},databaseType:void 0,databaseInfo:void 0,systemEventTypes:void 0,auditEventTypes:void 0,systemInfoSettings:void 0,emailSettings:void 0,httpSettings:void 0,miscSettings:void 0,smsDomainSettings:void 0,systemStartupTime:void 0,schemaVersion:void 0,scadaConfig:void 0,defaultLoggingType:void 0},mutations:{setDatabaseType:function(t,e){t.databaseType=e},setDatabaseInfo:function(t,e){t.databaseInfo=e},setSystemEventTypes:function(t,e){t.systemEventTypes=e},setAuditEventTypes:function(t,e){t.auditEventTypes=e},setSystemInfoSettings:function(t,e){t.systemInfoSettings=e},setEmailSettings:function(t,e){t.emailSettings=e},setHttpSettings:function(t,e){t.httpSettings=e},setMiscSettings:function(t,e){t.miscSettings=e},setSmsDomainSettings:function(t,e){t.smsDomainSettings=e},setSystemStartupTime:function(t,e){t.systemStartupTime=new Date(Number(e))},setSchemaVersion:function(t,e){t.schemaVersion=e},setScadaConfig:function(t,e){t.scadaConfig=e},setDefaultLoggingType:function(t,e){t.defaultLoggingType=e}},actions:{getDatabaseType:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getDatabaseType"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setDatabaseType",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},saveDatabaseType:function(t,e){return new Promise((function(i,n){o.a.get("".concat(t.state.systemSettingsApiUrl,"/saveDatabaseType/").concat(e)).then((function(t){200==t.status&&i(!0),i(!1)})).catch((function(t){n()}))}))},getSchemaVersion:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getSchemaVersion"),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(i){200==i.status&&t.commit("setSchemaVersion",i.data.schemaVersion),e(!0)})).catch((function(t){i(t)}))}))},getSystemInfoSettings:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getSystemInfo"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setSystemInfoSettings",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getSystemStartupTime:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getStartupTime"),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(i){200==i.status&&t.commit("setSystemStartupTime",i.data.startupTime),e(!0)})).catch((function(t){i(t)}))}))},getAllSettings:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getSettings"),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(i){200==i.status&&(t.commit("setDatabaseType",i.data.databaseType),t.commit("setSystemEventTypes",i.data.systemEventTypes),t.commit("setAuditEventTypes",i.data.auditEventTypes),t.commit("setSystemInfoSettings",i.data.systemInfoSettings),t.commit("setEmailSettings",i.data.emailSettings),t.commit("setHttpSettings",i.data.httpSettings),t.commit("setMiscSettings",i.data.miscSettings),t.commit("setScadaConfig",i.data.scadaConfig)),e(!0)})).catch((function(t){i(t)}))}))},getAuditEventTypes:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getAuditEventAlarmLevels"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setAuditEventTypes",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getSystemEventTypes:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getSystemEventAlarmLevels"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setSystemEventTypes",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getEmailSettings:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getEmail"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setEmailSettings",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getHttpSettings:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getHttp"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setHttpSettings",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getMiscSettings:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getMisc"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setMiscSettings",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getSmsDomainSettings:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getSMSDomain"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setSmsDomainSettings",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getScadaConfiguration:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getScadaConfig"),t.state.requestOptions).then((function(n){200==n.status&&(t.commit("setScadaConfig",n.data),e(n.data)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},getDatabaseSize:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getDatabaseSize"),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(i){200==i.status&&t.commit("setDatabaseInfo",i.data),e(!0)})).catch((function(t){i(t)}))}))},saveEmailSettings:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveEmail"),t.state.emailSettings,{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},saveMiscSettings:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveMisc"),t.state.miscSettings,{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},saveSmsDomainSettings:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveSMSDomain/").concat(t.state.smsDomainSettings),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},saveHttpSettings:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveHttp"),t.state.httpSettings,{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},saveSystemEventTypes:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveSystemEventAlarmLevels"),t.state.systemEventTypes,{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},saveAuditEventTypes:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveAuditEventAlarmLevels"),t.state.auditEventTypes,{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},sendTestEmail:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/sendTestEmail"),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(t.data):i(!1)})).catch((function(t){i(t)}))}))},purgeData:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/purgeData"),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},saveSystemInfoSettings:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveSystemInfo"),t.state.systemInfoSettings,{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200==t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},saveDefaultLoggingType:function(t){return new Promise((function(e,i){o.a.post("".concat(t.state.systemSettingsApiUrl,"/saveDefaultLoggingType/").concat(t.state.defaultLoggingType),{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(t){200===t.status?e(!0):i(!1)})).catch((function(t){i(t)}))}))},getDefaultLoggingType:function(t){return new Promise((function(e,i){o.a.get("".concat(t.state.systemSettingsApiUrl,"/getDefaultLoggingType"),t.state.requestOptions).then((function(n){200===n.status&&(console.debug(n.data),t.commit("setDefaultLoggingType",n.data.defaultLoggingType),e(n.data.defaultLoggingType)),i(!1)})).catch((function(t){console.error(t),i(!1)}))}))},configurationEqual:function(t,e){return new Promise((function(t,i){var n=Object.keys(e.object1),s=Object.keys(e.object2);n.length!==s.length&&t(!1);for(var a=0,o=n;a<o.length;a++){var r=o[a];e.object1[r]!==e.object2[r]&&t(!1)}t(!0)}))}},getters:{}}),k=P;n["default"].use(s["a"]);var I=function(t){t.subscribe((function(t,e){}))};e["a"]=new s["a"].Store({modules:{dataSource:c,graphicView:f,pointHierarchy:b,amcharts:x,alarms:C,systemSettings:k,storeAlarmsNotifications:A},state:{packageVersion:"0.1.0",packageTag:"2.3.2",scadaLtsMilestone:"2.4.0",scadaLtsBuild:"1",scadaLtsBranch:"local",applicationUrl:"./api",applicationDebug:!1,requestConfig:{timeout:5e3,useCredentials:!0,credentials:"same-origin"}},mutations:{},actions:{getUserRole:function(){return new Promise((function(t,e){o.a.get("./api/auth/isRoleAdmin",{timeout:5e3,useCredentials:!0,credentials:"same-origin"}).then((function(e){t(e.data)})).catch((function(t){console.error(t),e(t)}))}))},requestGet:function(t,e){var i=t.state;return new Promise((function(t,n){o.a.get(i.applicationUrl+e,i.requestConfig).then((function(e){200===e.status?t(e.data):n(!1)})).catch((function(t){console.error(t),n(!1)}))}))},requestPost:function(t,e){var i=t.state;return new Promise((function(t,n){o.a.post(i.applicationUrl+e.url,e.data,i.requestConfig).then((function(e){201===e.status||200===e.status?t(e.data):n(!1)})).catch((function(t){console.error(t),n(!1)}))}))},requestDelete:function(t,e){var i=t.state;return new Promise((function(t,n){o.a.delete(i.applicationUrl+e,i.requestConfig).then((function(e){200===e.status?t(e.data):n(!1)})).catch((function(t){console.error(t),n(!1)}))}))},requestPut:function(t,e){var i=t.state;return new Promise((function(t,n){o.a.put(i.applicationUrl+e.url,e.data,i.requestConfig).then((function(e){201===e.status||200===e.status?t(e.data):n(!1)})).catch((function(t){console.error(t),n(!1)}))}))}},getters:{appVersion:function(t){return t.packageVersion},appTag:function(t){return t.packageTag},appMilestone:function(t){return t.scadaLtsMilestone},appBuild:function(t){return t.scadaLtsBuild},appBranch:function(t){return t.scadaLtsBranch}},plugins:[I]})},4678:function(t,e,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=a,t.exports=s,s.id="4678"},"49f8":function(t,e,i){var n={"./de.json":"6ce2","./en.json":"edd4"};function s(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=a,t.exports=s,s.id="49f8"},5352:function(t,e,i){},"53f9":function(t,e,i){"use strict";i("b45b")},"56d7":function(t,e,i){"use strict";i.r(e);i("7f7f"),i("cadf"),i("551c"),i("f751"),i("097d"),i("ab8b");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-navigation-drawer",{attrs:{app:"",dark:"",permanent:"","expand-on-hover":"",color:"primary"}},[i("v-list",{attrs:{nav:"",dense:""}},[i("v-list-item",{attrs:{link:"",href:"#/alarms"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-bell")])],1),i("v-list-item-title",[t._v("Alarms")])],1),i("v-list-item",{attrs:{link:"",href:"#/historical-alarms"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-bell-sleep")])],1),i("v-list-item-title",[t._v("Historical Alarms")])],1),i("v-list-item",{attrs:{link:"",href:"#/alarm-notifications"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-alert-decagram")])],1),i("v-list-item-title",[t._v(t._s(t.$t("plcalarms.notification")))])],1),i("v-list-item",{attrs:{link:"",href:"#/system-settings"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-tune")])],1),i("v-list-item-title",[t._v(t._s(t.$t("systemsettings.title")))])],1),i("v-list-item",{attrs:{link:"",href:"#/about"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-information")])],1),i("v-list-item-title",[t._v("About")])],1),i("v-list-item",{attrs:{link:"",href:"./watch_list.shtm"}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-bank")])],1),i("v-list-item-title",[t._v("Old UI")])],1)],1)],1),i("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",{staticClass:"title"},[t._v(" Scada-LTS ")]),i("v-list-item-subtitle",[t._v(" version 2.5.0 ")])],1)],1),i("v-spacer"),i("v-menu",{attrs:{bottom:"",rounded:"","max-width":"250","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-btn",t._g({attrs:{icon:""}},n),[i("v-icon",[t._v("mdi-account")])],1)]}}])},[i("v-card",[i("v-list-item-content",{staticClass:"justify-center text-center"},[i("v-icon",[t._v("mdi-account")]),i("h3",[t._v("Admin")]),i("p",[t._v("admin@user.com")]),i("v-divider"),i("v-btn",{attrs:{block:"",text:"",link:"",href:"./users.shtm"}},[i("span",[t._v("Edit profile")]),i("v-icon",[t._v("mdi-account-box")])],1),i("v-btn",{attrs:{block:"",text:"",link:"",href:"./logout.htm"}},[i("span",[t._v("Logout")]),i("v-icon",[t._v("mdi-logout")])],1)],1)],1)],1)],1),i("v-main",[i("v-container",{attrs:{fluid:""}},[i("router-view")],1)],1),i("v-footer",{attrs:{app:""}})],1)},a=[],o=(i("96cf"),i("3b8d")),r=i("4360"),c={name:"app",components:{},data:function(){return{isUserRoleAdmin:!1}},mounted:function(){this.getUserRole()},methods:{getUserRole:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].dispatch("getUserRole");case 2:this.isUserRoleAdmin=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},l=c,d=(i("5f26"),i("0c7c")),u=i("6544"),m=i.n(u),h=i("7496"),p=i("40dc"),g=i("8336"),v=i("b0af"),f=i("a523"),y=i("ce7e6"),b=i("553a"),_=i("132d"),S=i("8860"),w=i("da13"),x=i("5d23"),T=i("34c3"),C=i("f6c4"),E=i("e449"),D=i("f774"),A=i("2fa4"),P=Object(d["a"])(l,s,a,!1,null,"66e6e04a",null),k=P.exports;m()(P,{VApp:h["a"],VAppBar:p["a"],VBtn:g["a"],VCard:v["a"],VContainer:f["a"],VDivider:y["a"],VFooter:b["a"],VIcon:_["a"],VList:S["a"],VListItem:w["a"],VListItemContent:x["a"],VListItemIcon:T["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VMain:C["a"],VMenu:E["a"],VNavigationDrawer:D["a"],VSpacer:A["a"]});var I=i("8c4f"),O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"alarms"},[i("AlarmsComponent")],1)},R=[],F=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),M=i("59c1"),L=i.n(M),N=i("421d");function $(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function j(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$(Object(i),!0).forEach((function(e){Object(F["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var V={el:"#alarms",name:"alarms",components:j({AlarmsComponent:N["a"]},L.a),methods:{}},U=V,H=(i("aeba"),Object(d["a"])(U,O,R,!1,null,"ecc9199a",null)),B=H.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("h1",[t._v(t._s(t.$t("about")))])])},z=[],Y={name:"AboutI18n"},G=Y,q=Object(d["a"])(G,W,z,!1,null,null,null),X=q.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"historical-alarms"},[i("HistoricalAlarmsComponent")],1)},J=[],Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"historical-alarms-components"},[i("SimplePanel",[i("datepicker",{ref:"datapicker",class:{input_disabled:1==t.filterOn},staticStyle:{"margin-top":"5px","margin-left":"5px",position:"relative",width:"120px",float:"left","line-height":"30px"},attrs:{format:t.formatter,disabled:1==t.filterOn},model:{value:t.fdate,callback:function(e){t.fdate=e},expression:"fdate"}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.frlike,expression:"frlike"}],staticClass:"min-gb-input",class:{input_disabled:1==t.filterOn},staticStyle:{"margin-left":"45px","font-family":"arial, sans-serif"},attrs:{placeholder:"rLike filter",readonly:1==t.filterOn},domProps:{value:t.frlike},on:{input:function(e){e.target.composing||(t.frlike=e.target.value)}}}),i("button",{staticClass:"min-gb-button",class:{filter_on:1==t.filterOn},staticStyle:{"margin-top":"4px"},on:{click:t.onFilter}},[t._v(" Filter ")])],1),i("SimpleTable",{attrs:{data:t.historicalAlarms,columns:t.columns}}),i("SimplePanel",[i("div",{staticClass:"pagination"},[i("SimplePagination",{attrs:{"current-page":t.currentPage,"page-count":t.pageCount,"visible-pages-count":8},on:{nextPage:function(e){return t.pageChangeHandle("next")},previousPage:function(e){return t.pageChangeHandle("pref")},loadPage:t.pageChangeHandle}})],1)])],1)},Q=[],tt=(i("c5f6"),i("55dd"),i("7514"),i("7618")),et=i("c1df"),it=i.n(et),nt=i("fa33"),st=(i("4917"),i("a925"));function at(){var t=i("49f8"),e={};return t.keys().forEach((function(i){var n=i.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){var s=n[1];e[s]=t(i)}})),e}n["default"].use(st["a"]);var ot=new st["a"]({locale:"en",fallbackLocale:"en",messages:at()});function rt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ct(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(i),!0).forEach((function(e){Object(F["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var lt={el:"#historicalAlarms_component",name:"historicalAlarmsComponent",components:ct(ct({},L.a),{},{Datepicker:nt["a"]}),data:function(){return{filterOn:!1,fdate:new Date,frlike:"",columns:[{name:"time"},{name:"name"},{name:"description"}],historicalAlarms:[],currentPage:1,pageCount:10,FORMAT_DT:"YYYY-MM-DD",RLIKE_NULL:"EMPTY"}},methods:{formatter:function(t){return it()(t).format(this.FORMAT_DT)},getHistoricalAlarms:function(t,e,i,n){var s=this;try{var a="",o=20,c=String(o*(i-1)),l=String(o*i),d=this.RLIKE_NULL;console.log("filterOn: ".concat(this.filterOn," typeof:").concat(Object(tt["a"])(this.filterOn))),console.log("afilterOn: ".concat(n," typeof:").concat(Object(tt["a"])(n))),a=0==n?it()(new Date).format(this.FORMAT_DT):void 0===t||null===t||0==t?it()(this.fdate).format(this.FORMAT_DT):it()(t).format(this.FORMAT_DT),d=!1===n||void 0===e||null===e||0===e.trim().length?String(this.RLIKE_NULL):String(e),r["a"].dispatch("getHistoryAlarms",{dateDay:a,filterRLike:d,offset:c,limit:l}).then((function(t){console.log(t);var e=[];t.find((function(t){if(void 0!=t.acknowledgeTime&&""!=t.acknowledgeTime.trim()&&t.acknowledgeTime.length>0){var i={};i.time=t.acknowledgeTime,i.utc=new Date(t.time),2===t.level?i.description=ot.t("plcalarms.alarm.acknowledge"):i.description=ot.t("plcalarms.fault.acknowledge"),e.push(i)}if(void 0!=t.inactiveTime&&""!=t.inactiveTime.trim()&&t.inactiveTime.length>0){var n={};n.time=t.inactiveTime,n.utc=new Date(t.time),2===t.level?n.description=ot.t("plcalarms.alarm.inactive"):n.description=ot.t("plcalarms.fault.inactive"),e.push(n)}if(void 0!=t.activeTime&&""!=t.activeTime.trim()&&t.activeTime.length>0){var s={};s.time=t.activeTime,s.utc=new Date(t.time),2===t.level?s.description=ot.t("plcalarms.alarm.active"):s.description=ot.t("plcalarms.fault.active"),e.push(s)}})),console.log(e),e.sort((function(t,e){return t.utc-e.utc})),console.log(t),s.historicalAlarms=e})).catch((function(t){s.historicalAlarms=[],console.log("getHA:".concat(t))}))}catch(u){this.historicalAlarms=[],console.log("getHA1:".concat(u))}},pageChangeHandle:function(t){try{if("next"===t)return void console.log("pageChangeHandle next");if("pref"===t)return void console.log("pageChangeHandle pref");this.currentPage=Number(t),this.getHistoricalAlarms(this.fdate,this.rlikeFilter,this.currentPage)}catch(e){console.log("pageCH:".concat(e))}},onFilter:function(){this.filterOn=!this.filterOn;try{this.getHistoricalAlarms(this.fdate,this.frlike,this.currentPage,this.filterOn)}catch(t){console.log("created:".concat(t))}}},created:function(){try{this.getHistoricalAlarms(this.fdate,this.frlike,this.currentPage)}catch(t){console.log("created:".concat(t))}},mounted:function(){}},dt=lt,ut=(i("b25c"),Object(d["a"])(dt,Z,Q,!1,null,"095443a4",null)),mt=ut.exports,ht={el:"#alarms",name:"alarms",components:{HistoricalAlarmsComponent:mt},methods:{}},pt=ht,gt=(i("1b4c6"),Object(d["a"])(pt,K,J,!1,null,"94e73eb8",null)),vt=gt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isUserRoleAdmin?i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"9"}},[i("v-row",{attrs:{dense:""}},[i("v-col",{staticClass:"d-flex flex-row justify-space-between",attrs:{cols:"12"}},[i("h1",[t._v(t._s(t.$t("systemsettings.title")))]),i("v-spacer"),t.componentsEdited.length>0?i("v-btn",{attrs:{fab:"",elevation:"2",color:"primary"},on:{click:function(e){t.openModal=!t.openModal}}},[i("v-icon",[t._v("mdi-content-save")])],1):t._e()],1),i("v-col",{attrs:{cols:"12"}},[i("v-row",{attrs:{dense:""}},[i("AuditEventTypesComponent",{ref:"auditEventTypesComponent",on:{changed:t.componentChanged}}),i("SystemEventTypesComponent",{ref:"systemEventTypesComponent",on:{changed:t.componentChanged}}),i("EmailSettingsComponent",{ref:"emailSettingsComponent",on:{changed:t.componentChanged}}),i("MiscSettingsComponent",{ref:"miscSettingsComponent",on:{changed:t.componentChanged}}),i("HttpSettingsComponent",{ref:"httpSettingsComponent",on:{changed:t.componentChanged}}),i("DefaultLoggingTypeSettingsComponent",{ref:"defaultLoggingTypeSettingsComponent",on:{changed:t.componentChanged}}),i("SmsDomainSettingsComponent",{ref:"smsDomainSettingsComponent",on:{changed:t.componentChanged}}),i("ScadaConfigurationComponent")],1)],1)],1)],1),i("v-col",{attrs:{cols:"12",md:"3"}},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("IsAlive",{attrs:{plabel:t.$t("systemsettings.info.title"),"ptime-refresh":4e3,"ptime-warning":9e3,"ptime-error":11e3}})],1)],1),t.systemRunningTime?i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.info.systemtime")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.systemRunningTime))])])],1):t._e(),i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.info.milestone")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(" "+t._s(t.$store.getters.appMilestone)+" build "+t._s(t.$store.getters.appBuild)+" ")])])],1),i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.info.branch")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.$store.getters.appBranch))])])],1),i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.info.tag")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.$store.getters.appTag))])])],1),i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.info.uiversion")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.$store.getters.appVersion))])])],1),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.info.instance"),dense:""},on:{input:function(e){return t.saveSystemInfoSettings()}},model:{value:t.systemInfoSettings.instanceDescription,callback:function(e){t.$set(t.systemInfoSettings,"instanceDescription",e)},expression:"systemInfoSettings.instanceDescription"}})],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-select",{attrs:{items:t.languageItems,"item-value":"value","item-text":"text",label:t.$t("systemsettings.info.language"),dense:""},on:{change:function(e){return t.saveSystemInfoSettings()}},model:{value:t.systemInfoSettings.language,callback:function(e){t.$set(t.systemInfoSettings,"language",e)},expression:"systemInfoSettings.language"}})],1)],1),t.databaseType?i("v-row",[i("v-col",{staticClass:"d-flex flex-row justify-space-between",attrs:{cols:"12"}},[i("h2",[t._v(t._s(t.$t("systemsettings.database.title")))]),i("v-spacer"),i("v-btn",{attrs:{fab:"",icon:""},on:{click:function(e){return t.initDatabaseSection()}}},[i("v-icon",[t._v("mdi-refresh")])],1)],1),i("v-col",{attrs:{cols:"12"}},[t.schemaVersion?i("v-row",[i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.database.schemaVersion")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.schemaVersion))])]),i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.database.size")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.databaseInfo.databaseSize))])]),i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.database.file")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.databaseInfo.filedataCount))])]),i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.database.total")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.databaseInfo.filedataSize))])]),i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.database.histroy")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.databaseInfo.historyCount))])]),i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.database.event")))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t.databaseInfo.eventCount))])]),i("v-col",{attrs:{cols:"12"}},[i("p",[t._v(t._s(t.$t("systemsettings.database.top")))])]),t._l(t.databaseInfo.topPoints,(function(e){return i("v-col",{key:e.pointId,attrs:{cols:"12"}},[i("p",[t._v(" "+t._s(e.pointName)+" (Point ID: "+t._s(e.pointId)+" - count: "+t._s(e.count)+") ")])])}))],2):t._e()],1)],1):t._e()],1)],1)],1):t._e(),i("v-dialog",{attrs:{"max-width":"750"},model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.label.summary"))+" ")]),t.componentsEdited?i("v-card-text",t._l(t.componentsEdited,(function(e){return i("v-row",{key:e},[i("v-col",{staticClass:"d-flex flex-row justify-space-between",attrs:{cols:"12"}},[i("h4",[t._v(t._s(t.$t(e.title)))]),i("v-spacer"),i("div",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on,a=n.attrs;return[i("v-btn",t._g(t._b({attrs:{fab:"",icon:""},on:{click:function(i){return t.restoreComponent(e.component)}}},"v-btn",a,!1),s),[i("v-icon",[t._v("mdi-redo-variant")])],1)]}}],null,!0)},[i("span",[t._v(t._s(t.$t("systemsettings.label.restore")))])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var s=n.on,a=n.attrs;return[i("v-btn",t._g(t._b({attrs:{fab:"",icon:""},on:{click:function(i){return t.saveComponent(e.component)}}},"v-btn",a,!1),s),[i("v-icon",[t._v("mdi-content-save")])],1)]}}],null,!0)},[i("span",[t._v(t._s(t.$t("systemsettings.label.save")))])])],1)],1),t._l(e.data,(function(e){return i("v-col",{key:e,attrs:{cols:"12"}},[i("v-row",[i("v-col",{attrs:{cols:"4"}},[t._v(t._s(t.$t(e.label)))]),i("v-col",{staticClass:"red",attrs:{cols:"4"}},[t._v(t._s(t._f("convert")(t._f("blank")(e.originalData))))]),i("v-col",{staticClass:"green",attrs:{cols:"4"}},[t._v(t._s(t._f("convert")(t._f("blank")(e.changedData))))])],1)],1)}))],2)})),1):t._e(),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(e){t.openModal=!1}}},[t._v(t._s(t.$t("uiv.modal.cancel")))]),i("v-btn",{attrs:{text:""},on:{click:function(e){return t.restoreAllComponents()}}},[t._v(t._s(t.$t("systemsettings.label.restoreall")))]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.saveAllComponents()}}},[t._v(t._s(t.$t("systemsettings.label.saveall")))])],1)],1)],1),t.isUserRoleAdmin?t._e():i("v-container",{staticClass:"d-flex justify-center",attrs:{fluid:""}},[i("v-spacer"),i("h2",[t._v("Not allowed to see that page")]),i("v-spacer")],1)],1)},yt=[],bt=(i("20d6"),i("d08a")),_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{staticClass:"align-stretch",attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.audit.title"))+" "),t.isAuditEventEdited?i("span",[t._v("*")]):t._e()]),i("v-card-text",t._l(t.auditEventTypes,(function(e){return i("v-row",{key:e.i1,attrs:{dense:""}},[i("v-col",{attrs:{cols:"10"}},[i("v-select",{attrs:{items:t.alarmLevels,"item-value":"value","item-text":"text",label:t.$t(""+e.translation),dense:""},on:{change:function(e){return t.watchDataChange()}},model:{value:e.i2,callback:function(i){t.$set(e,"i2",i)},expression:"event.i2"}})],1),i("v-col",{attrs:{cols:"2"}},[1===e.i2?i("img",{attrs:{src:"images/flag_blue.png",title:"Information",alt:"Information"}}):t._e(),2===e.i2?i("img",{attrs:{src:"images/flag_yellow.png",title:"Urgent",alt:"Urgent"}}):t._e(),3===e.i2?i("img",{attrs:{src:"images/flag_orange.png",title:"Critical",alt:"Critical"}}):t._e(),4===e.i2?i("img",{attrs:{src:"images/flag_red.png",title:"Life Safety",alt:"Life Safety"}}):t._e()])],1)})),1)],1)],1)},St=[],wt=i("71c9"),xt={name:"AuditEventTypesComponent",data:function(){return{auditEventTypes:void 0,auditEventTypesStore:void 0,isAuditEventEdited:!1,alarmLevels:[{text:this.$t("alarmlevels.none"),value:0},{text:this.$t("alarmlevels.information"),value:1},{text:this.$t("alarmlevels.urgent"),value:2},{text:this.$t("alarmlevels.critical"),value:3},{text:this.$t("alarmlevels.lifesafety"),value:4}]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getAuditEventTypes");case 2:this.auditEventTypes=t.sent,this.auditEventTypesStore=this.copyDataFromStore();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=this;console.log("Saved Audit!"),this.$store.commit("setAuditEventTypes",this.auditEventTypes),this.auditEventTypesStore=this.copyDataFromStore(),this.$store.dispatch("saveAuditEventTypes").then((function(e){e&&(t.restoreData(),t.$notify({placement:"top-right",type:"success",content:ot.t("systemsettings.notification.save.auditevent")}))})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:ot.t("systemsettings.notification.fail")})}))},restoreData:function(){console.log("Restored Audit!"),this.fetchData(),this.isAuditEventEdited=!1},copyDataFromStore:function(){return JSON.parse(JSON.stringify(this.$store.state.systemSettings.auditEventTypes))},watchDataChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.isDataChanged();case 2:this.isAuditEventEdited=t.sent,this.emitData(this.isAuditEventEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isDataChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.auditEventTypes.length)){t.next=9;break}return t.next=4,this.$store.dispatch("configurationEqual",{object1:this.auditEventTypes[e],object2:this.auditEventTypesStore[e]});case 4:if(t.sent){t.next=6;break}return t.abrupt("return",!0);case 6:e++,t.next=1;break;case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emitData:function(t){this.$emit("changed",{component:"auditEventTypesComponent",title:"systemsettings.audit.title",changed:t,data:this.sumarizeDataChanges()})},sumarizeDataChanges:function(){for(var t=[],e=0;e<this.auditEventTypes.length;e++)this.auditEventTypes[e].i2!==this.auditEventTypesStore[e].i2&&t.push({label:this.auditEventTypes[e].translation,originalData:this.convertInfoLevel(this.auditEventTypesStore[e].i2),changedData:this.convertInfoLevel(this.auditEventTypes[e].i2)});return t},convertInfoLevel:function(t){switch(Number(t)){case 0:return ot.t("alarmlevels.none");case 1:return ot.t("alarmlevels.information");case 2:return ot.t("alarmlevels.urgent");case 3:return ot.t("alarmlevels.critical");case 4:return ot.t("alarmlevels.lifesafety")}return t}}},Tt=xt,Ct=i("99d9"),Et=i("62ad"),Dt=i("0fd9"),At=i("b974"),Pt=Object(d["a"])(Tt,_t,St,!1,null,null,null),kt=Pt.exports;m()(Pt,{VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VRow:Dt["a"],VSelect:At["a"]});var It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{staticClass:"align-stretch",attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.event.title"))+" "),t.isSystemEventEdited?i("span",[t._v("*")]):t._e()]),i("v-card-text",t._l(t.systemEventTypes,(function(e){return i("v-row",{key:e.i1,attrs:{dense:""}},[i("v-col",{attrs:{cols:"10"}},[i("v-select",{attrs:{items:t.alarmLevels,"item-value":"value","item-text":"text",label:t.$t(""+e.translation),dense:""},on:{change:function(e){return t.watchDataChange()}},model:{value:e.i2,callback:function(i){t.$set(e,"i2",i)},expression:"event.i2"}})],1),i("v-col",{attrs:{cols:"2"}},[1===e.i2?i("img",{attrs:{src:"images/flag_blue.png",title:"Information",alt:"Information"}}):t._e(),2===e.i2?i("img",{attrs:{src:"images/flag_yellow.png",title:"Urgent",alt:"Urgent"}}):t._e(),3===e.i2?i("img",{attrs:{src:"images/flag_orange.png",title:"Critical",alt:"Critical"}}):t._e(),4===e.i2?i("img",{attrs:{src:"images/flag_red.png",title:"Life Safety",alt:"Life Safety"}}):t._e()])],1)})),1)],1)],1)},Ot=[],Rt={name:"SystemEventTypesComponent",data:function(){return{systemEventTypes:void 0,systemEventTypesStore:void 0,isSystemEventEdited:!1,alarmLevels:[{text:this.$t("alarmlevels.none"),value:0},{text:this.$t("alarmlevels.information"),value:1},{text:this.$t("alarmlevels.urgent"),value:2},{text:this.$t("alarmlevels.critical"),value:3},{text:this.$t("alarmlevels.lifesafety"),value:4}]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getSystemEventTypes");case 2:this.systemEventTypes=t.sent,this.systemEventTypesStore=this.copyDataFromStore();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=this;console.log("Saved System!"),this.$store.commit("setSystemEventTypes",this.systemEventTypes),this.systemEventTypesStore=this.copyDataFromStore(),this.$store.dispatch("saveSystemEventTypes").then((function(e){e&&(t.restoreData(),t.$notify({placement:"top-right",type:"success",content:ot.t("systemsettings.notification.save.systemevent")}))})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:ot.t("systemsettings.notification.fail")})}))},restoreData:function(){console.log("Restored System!"),this.fetchData(),this.isSystemEventEdited=!1},copyDataFromStore:function(){return JSON.parse(JSON.stringify(this.$store.state.systemSettings.systemEventTypes))},watchDataChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.isDataChanged();case 2:this.isSystemEventEdited=t.sent,this.emitData(this.isSystemEventEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isDataChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.systemEventTypes.length)){t.next=9;break}return t.next=4,this.$store.dispatch("configurationEqual",{object1:this.systemEventTypes[e],object2:this.systemEventTypesStore[e]});case 4:if(t.sent){t.next=6;break}return t.abrupt("return",!0);case 6:e++,t.next=1;break;case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emitData:function(t){this.$emit("changed",{component:"systemEventTypesComponent",title:"systemsettings.event.title",changed:t,data:this.sumarizeDataChanges()})},sumarizeDataChanges:function(){for(var t=[],e=0;e<this.systemEventTypes.length;e++)this.systemEventTypes[e].i2!==this.systemEventTypesStore[e].i2&&t.push({label:this.systemEventTypes[e].translation,originalData:this.convertInfoLevel(this.systemEventTypesStore[e].i2),changedData:this.convertInfoLevel(this.systemEventTypes[e].i2)});return t},convertInfoLevel:function(t){switch(Number(t)){case 0:return ot.t("alarmlevels.none");case 1:return ot.t("alarmlevels.information");case 2:return ot.t("alarmlevels.urgent");case 3:return ot.t("alarmlevels.critical");case 4:return ot.t("alarmlevels.lifesafety")}return t}}},Ft=Rt,Mt=Object(d["a"])(Ft,It,Ot,!1,null,null,null),Lt=Mt.exports;m()(Mt,{VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VRow:Dt["a"],VSelect:At["a"]});var Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.email.title"))+" "),t.isEmailSettingsEdited?i("span",[t._v("*")]):t._e(),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{fab:"",icon:""},on:{click:function(e){return t.sendTestEmail()}}},"v-btn",s,!1),n),[i("v-icon",[t._v("mdi-send")])],1)]}}])},[i("span",[t._v(t._s(t.$t("systemsettings.tooltip.sendtestemail")))])])],1),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.email.host"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.emailSettings.host,callback:function(e){t.$set(t.emailSettings,"host",e)},expression:"emailSettings.host"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.email.port"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.emailSettings.port,callback:function(e){t.$set(t.emailSettings,"port",e)},expression:"emailSettings.port"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.email.address"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.emailSettings.from,callback:function(e){t.$set(t.emailSettings,"from",e)},expression:"emailSettings.from"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.email.name"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.emailSettings.name,callback:function(e){t.$set(t.emailSettings,"name",e)},expression:"emailSettings.name"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-select",{attrs:{items:t.contentTypeItems,"item-value":"value","item-text":"text",label:t.$t("systemsettings.email.contentType"),dense:""},on:{change:function(e){return t.watchDataChange()}},model:{value:t.emailSettings.contentType,callback:function(e){t.$set(t.emailSettings,"contentType",e)},expression:"emailSettings.contentType"}})],1),i("v-col",{attrs:{cols:"12"}},[i("v-switch",{attrs:{label:t.$t("systemsettings.email.auth.enable")},on:{click:function(e){return t.watchRadioDataChagne(t.emailSettings.auth,"auth")}},model:{value:t.emailSettings.auth,callback:function(e){t.$set(t.emailSettings,"auth",e)},expression:"emailSettings.auth"}})],1),t.emailSettings.auth?i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.email.username"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.emailSettings.username,callback:function(e){t.$set(t.emailSettings,"username",e)},expression:"emailSettings.username"}})],1):t._e(),t.emailSettings.auth?i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",type:t.show1?"text":"password",label:t.$t("systemsettings.email.password"),dense:""},on:{input:function(e){return t.watchDataChange()},"click:append":function(e){t.show1=!t.show1}},model:{value:t.emailSettings.password,callback:function(e){t.$set(t.emailSettings,"password",e)},expression:"emailSettings.password"}})],1):t._e(),i("v-col",{attrs:{cols:"12"}},[i("v-switch",{attrs:{label:t.$t("systemsettings.email.tls.enable")},on:{click:function(e){return t.watchRadioDataChagne(t.emailSettings.tls,"tls")}},model:{value:t.emailSettings.tls,callback:function(e){t.$set(t.emailSettings,"tls",e)},expression:"emailSettings.tls"}})],1)],1)],1)],1)],1)},$t=[],jt={name:"EmailSettingsComponent",data:function(){return{emailSettings:void 0,emailSettingsStore:void 0,isEmailSettingsEdited:!1,show1:!1,contentTypeItems:[{value:0,text:this.$t("systemsettings.email.contenttype.htmltext")},{value:1,text:this.$t("systemsettings.email.contenttype.html")},{value:2,text:this.$t("systemsettings.email.contenttype.text")}]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getEmailSettings");case 2:this.emailSettings=t.sent,this.emailSettingsStore=this.copyDataFromStore();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=this;console.log("Saved Email!"),this.$store.commit("setEmailSettings",this.emailSettings),this.emailSettingsStore=this.copyDataFromStore(),this.$store.dispatch("saveEmailSettings").then((function(e){e&&(t.restoreData(),t.$notify({placement:"top-right",type:"success",content:ot.t("systemsettings.notification.save.email")}))})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:ot.t("systemsettings.notification.fail")})}))},restoreData:function(){console.log("Restored Email!"),this.fetchData(),this.isEmailSettingsEdited=!1},copyDataFromStore:function(){return JSON.parse(JSON.stringify(this.$store.state.systemSettings.emailSettings))},watchRadioDataChagne:function(t,e){"auth"==e?this.emailSettings.auth=t:"tls"==e&&(this.emailSettings.tls=t),this.watchDataChange()},watchDataChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.isDataChanged();case 2:this.isEmailSettingsEdited=t.sent,this.emitData(this.isEmailSettingsEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isDataChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("configurationEqual",{object1:this.emailSettings,object2:this.emailSettingsStore});case 2:return t.abrupt("return",!t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emitData:function(t){this.$emit("changed",{component:"emailSettingsComponent",title:"systemsettings.email.title",changed:t,data:this.sumarizeDataChanges()})},sumarizeDataChanges:function(){var t=[];for(var e in this.emailSettings)this.emailSettings[e]!==this.emailSettingsStore[e]&&t.push({label:"systemsettings.email.".concat(e),originalData:this.emailSettingsStore[e],changedData:this.emailSettings[e]});return t},togglePassword:function(t){var e=document.getElementById(t);"password"===e.type?e.type="text":e.type="password"},sendTestEmail:function(){var t=this;this.$store.dispatch("sendTestEmail").then((function(e){e&&t.$notify({placement:"top-right",type:"success",content:"".concat(ot.t("systemsettings.notification.send.email")," ").concat(e.recipient)})})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:ot.t("systemsettings.notification.fail")})}))}}},Vt=jt,Ut=i("b73d"),Ht=i("8654"),Bt=i("3a2f"),Wt=Object(d["a"])(Vt,Nt,$t,!1,null,null,null),zt=Wt.exports;m()(Wt,{VBtn:g["a"],VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VIcon:_["a"],VRow:Dt["a"],VSelect:At["a"],VSpacer:A["a"],VSwitch:Ut["a"],VTextField:Ht["a"],VTooltip:Bt["a"]});var Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.http.title"))+" "),t.isHttpSettingsEdited?i("span",[t._v("*")]):t._e()]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-switch",{attrs:{label:t.$t("systemsettings.http.proxy.enable")},on:{click:function(e){return t.watchRadioDataChagne(t.emailSettings.tls)}},model:{value:t.httpSettings.useProxy,callback:function(e){t.$set(t.httpSettings,"useProxy",e)},expression:"httpSettings.useProxy"}})],1),t.httpSettings.useProxy?i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.http.proxy.host"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.httpSettings.host,callback:function(e){t.$set(t.httpSettings,"host",e)},expression:"httpSettings.host"}})],1):t._e(),t.httpSettings.useProxy?i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{type:"number",label:t.$t("systemsettings.http.proxy.port"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.httpSettings.port,callback:function(e){t.$set(t.httpSettings,"port",e)},expression:"httpSettings.port"}})],1):t._e(),t.httpSettings.useProxy?i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.http.proxy.username"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.httpSettings.username,callback:function(e){t.$set(t.httpSettings,"username",e)},expression:"httpSettings.username"}})],1):t._e(),t.httpSettings.useProxy?i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{"append-icon":t.passwordVisible?"mdi-eye":"mdi-eye-off",type:t.passwordVisible?"text":"password",label:t.$t("systemsettings.http.proxy.password"),dense:""},on:{input:function(e){return t.watchDataChange()},"click:append":function(e){t.passwordVisible=!t.passwordVisible}},model:{value:t.httpSettings.password,callback:function(e){t.$set(t.httpSettings,"password",e)},expression:"httpSettings.password"}})],1):t._e()],1)],1)],1)],1)},Gt=[],qt={name:"HttpSettingsComponent",data:function(){return{httpSettings:void 0,httpSettingsStore:void 0,isHttpSettingsEdited:!1,passwordVisible:!1}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getHttpSettings");case 2:this.httpSettings=t.sent,this.httpSettingsStore=this.copyDataFromStore();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=this;console.log("Saved!"),this.$store.commit("setHttpSettings",this.httpSettings),this.httpSettingsStore=this.copyDataFromStore(),this.$store.dispatch("saveHttpSettings").then((function(e){e&&(t.restoreData(),t.$notify({placement:"top-right",type:"success",content:ot.t("systemsettings.notification.save.http")}))})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:ot.t("systemsettings.notification.fail")})}))},restoreData:function(){this.fetchData(),this.isHttpSettingsEdited=!1},copyDataFromStore:function(){return JSON.parse(JSON.stringify(this.$store.state.systemSettings.httpSettings))},watchRadioDataChagne:function(t){this.httpSettings.useProxy=t,this.watchDataChange()},watchDataChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.isDataChanged();case 2:this.isHttpSettingsEdited=t.sent,this.emitData(this.isHttpSettingsEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isDataChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("configurationEqual",{object1:this.httpSettings,object2:this.httpSettingsStore});case 2:return t.abrupt("return",!t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emitData:function(t){this.$emit("changed",{component:"httpSettingsComponent",title:"systemsettings.http.title",changed:t,data:this.sumarizeDataChanges()})},sumarizeDataChanges:function(){var t=[];for(var e in this.httpSettings)this.httpSettings[e]!==this.httpSettingsStore[e]&&t.push({label:"systemsettings.http.proxy.".concat(e),originalData:this.httpSettingsStore[e],changedData:this.httpSettings[e]});return t},togglePassword:function(t){var e=document.getElementById(t);"password"===e.type?e.type="text":e.type="password"}}},Xt=qt,Kt=Object(d["a"])(Xt,Yt,Gt,!1,null,null,null),Jt=Kt.exports;m()(Kt,{VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VRow:Dt["a"],VSwitch:Ut["a"],VTextField:Ht["a"]});var Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.misc.title"))+" "),t.isMiscSettingsEdited?i("span",[t._v("*")]):t._e(),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{fab:"",icon:""},on:{click:function(e){return t.purgeData()}}},"v-btn",s,!1),n),[i("v-icon",[t._v("mdi-delete")])],1)]}}])},[i("span",[t._v(t._s(t.$t("systemsettings.tooltip.purgedata")))])])],1),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-select",{attrs:{items:t.uiPerformanceItems,"item-value":"value","item-text":"text",label:t.$t("systemsettings.misc.uiPerformance"),dense:""},on:{change:function(e){return t.watchDataChange()}},model:{value:t.miscSettings.uiPerformance,callback:function(e){t.$set(t.miscSettings,"uiPerformance",e)},expression:"miscSettings.uiPerformance"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{type:"number",label:t.$t("systemsettings.misc.purge.events"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.miscSettings.eventPurgePeriods,callback:function(e){t.$set(t.miscSettings,"eventPurgePeriods",e)},expression:"miscSettings.eventPurgePeriods"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-select",{attrs:{items:t.eventPurgePeriodTypeItems,"item-value":"value","item-text":"text",dense:""},on:{change:function(e){return t.watchDataChange()}},model:{value:t.miscSettings.eventPurgePeriodType,callback:function(e){t.$set(t.miscSettings,"eventPurgePeriodType",e)},expression:"miscSettings.eventPurgePeriodType"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{type:"number",label:t.$t("systemsettings.misc.purge.reports"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.miscSettings.reportPurgePeriodType,callback:function(e){t.$set(t.miscSettings,"reportPurgePeriodType",e)},expression:"miscSettings.reportPurgePeriodType"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-select",{attrs:{items:t.eventPurgePeriodTypeItems,"item-value":"value","item-text":"text",dense:""},on:{change:function(e){return t.watchDataChange()}},model:{value:t.miscSettings.reportPurgePeriodType,callback:function(e){t.$set(t.miscSettings,"reportPurgePeriodType",e)},expression:"miscSettings.reportPurgePeriodType"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-text-field",{attrs:{type:"number",label:t.$t("systemsettings.misc.purge.future"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.miscSettings.futureDateLimitPeriods,callback:function(e){t.$set(t.miscSettings,"futureDateLimitPeriods",e)},expression:"miscSettings.futureDateLimitPeriods"}})],1),i("v-col",{attrs:{cols:"6"}},[i("v-select",{attrs:{items:t.futureDateLimitPeriodTypeItems,"item-value":"value","item-text":"text",dense:""},on:{change:function(e){return t.watchDataChange()}},model:{value:t.miscSettings.futureDateLimitPeriodType,callback:function(e){t.$set(t.miscSettings,"futureDateLimitPeriodType",e)},expression:"miscSettings.futureDateLimitPeriodType"}})],1)],1)],1)],1)],1)},Qt=[],te=(i("6762"),i("2fdb"),{name:"MiscSettingsComponent",data:function(){return{miscSettings:void 0,miscSettingsStore:void 0,isMiscSettingsEdited:!1,uiPerformanceItems:[{value:2e3,text:this.$t("systemsettings.misc.performance.high")},{value:5e3,text:this.$t("systemsettings.misc.performance.medium")},{value:1e4,text:this.$t("systemsettings.misc.performance.low")}],futureDateLimitPeriodTypeItems:[{value:2,text:this.$t("timeperiod.minutes")},{value:3,text:this.$t("timeperiod.hours")}],eventPurgePeriodTypeItems:[{value:4,text:this.$t("timeperiod.days")},{value:5,text:this.$t("timeperiod.weeks")},{value:6,text:this.$t("timeperiod.months")},{value:7,text:this.$t("timeperiod.years")}]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getMiscSettings");case 2:this.miscSettings=t.sent,this.miscSettingsStore=this.copyDataFromStore();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=this;console.log("Saved!"),this.$store.commit("setMiscSettings",this.miscSettings),this.miscSettingsStore=this.copyDataFromStore(),this.$store.dispatch("saveMiscSettings").then((function(e){e&&(t.restoreData(),t.$notify({placement:"top-right",type:"success",content:ot.t("systemsettings.notification.save.misc")}))})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:ot.t("systemsettings.notification.fail")})}))},restoreData:function(){this.fetchData(),this.isMiscSettingsEdited=!1},copyDataFromStore:function(){return JSON.parse(JSON.stringify(this.$store.state.systemSettings.miscSettings))},watchDataChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.isDataChanged();case 2:this.isMiscSettingsEdited=t.sent,this.emitData(this.isMiscSettingsEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isDataChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("configurationEqual",{object1:this.miscSettings,object2:this.miscSettingsStore});case 2:return t.abrupt("return",!t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emitData:function(t){this.$emit("changed",{component:"miscSettingsComponent",title:"systemsettings.misc.title",changed:t,data:this.sumarizeDataChanges()})},sumarizeDataChanges:function(){var t=[];for(var e in this.miscSettings)this.miscSettings[e]!==this.miscSettingsStore[e]&&t.push({label:"systemsettings.misc.".concat(e),originalData:this.convertTimePeriod(this.miscSettingsStore[e],e),changedData:this.convertTimePeriod(this.miscSettings[e],e)});return t},purgeData:function(){var t=this;this.$confirm({title:ot.t("systemsettings.alert.purgedata.title"),content:ot.t("systemsettings.alert.purgedata")}).then((function(){t.$store.dispatch("purgeData").then((function(e){!0===e&&t.$notify({placement:"top-right",type:"success",content:ot.t("systemsettings.notification.purgedata")})}))}))},convertTimePeriod:function(t,e){if(e.includes("Type"))switch(Number(t)){case 2:return ot.t("timeperiod.minutes");case 3:return ot.t("timeperiod.hours");case 4:return ot.t("timeperiod.days");case 5:return ot.t("timeperiod.weeks");case 6:return ot.t("timeperiod.months");case 7:return ot.t("timeperiod.years")}return t}}}),ee=te,ie=Object(d["a"])(ee,Zt,Qt,!1,null,null,null),ne=ie.exports;m()(ie,{VBtn:g["a"],VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VIcon:_["a"],VRow:Dt["a"],VSelect:At["a"],VSpacer:A["a"],VTextField:Ht["a"],VTooltip:Bt["a"]});var se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.loggingtype.title"))+" "),t.isLoggingTypeSettingsEdited?i("span",[t._v("*")]):t._e()]),i("v-card-text",[i("v-select",{attrs:{items:t.loggingTypeList,"item-value":"id","item-text":"label",dense:""},on:{change:t.watchLoggingTypeChange},model:{value:t.defaultLoggingType,callback:function(e){t.defaultLoggingType=e},expression:"defaultLoggingType"}})],1)],1)],1)},ae=[],oe={name:"DefaultLoggingTypeSettingsComponent",data:function(){return{defaultLoggingType:void 0,defaultLoggingTypeStore:void 0,isDefaultLoggingTypeEdited:!1,loggingTypeList:[{id:1,type:"ON_CHANGE",label:this.$t("pointEdit.logging.type.change")},{id:2,type:"ALL",label:this.$t("pointEdit.logging.type.all")},{id:3,type:"NONE",label:this.$t("pointEdit.logging.type.never")},{id:4,type:"INTERVAL",label:this.$t("pointEdit.logging.type.interval")},{id:5,type:"ON_TS_CHANGE",label:this.$t("pointEdit.logging.type.tsChange")}]}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getDefaultLoggingType");case 2:this.defaultLoggingType=t.sent,this.defaultLoggingTypeStore=this.copyDataFromStore();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=this;console.log("Saved!"),this.$store.commit("setDefaultLoggingType",this.defaultLoggingType),this.defaultLoggingTypeStore=this.copyDataFromStore(),this.$store.dispatch("saveDefaultLoggingType").then((function(e){e&&(t.restoreData(),t.$notify({placement:"top-right",type:"success",content:t.$t("systemsettings.notification.save.logging")}))})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:t.$t("systemsettings.notification.fail")})}))},restoreData:function(){this.fetchData(),this.defaultLoggingType=null},copyDataFromStore:function(){return JSON.parse(JSON.stringify(this.$store.state.systemSettings.defaultLoggingType))},watchLoggingTypeChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.isDataChanged();case 2:this.isDefaultLoggingTypeEdited=t.sent,this.emitData(this.isDefaultLoggingTypeEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isDataChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.defaultLoggingType!==this.defaultLoggingTypeStore);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emitData:function(t){this.$emit("changed",{component:"defaultLoggingTypeSettingsComponent",title:"systemsettings.loggingtype.title",changed:t,data:this.sumarizeDataChanges()})},sumarizeDataChanges:function(){var t=[{label:"systemsettings.loggingtype.value",originalData:this.loggingTypeList[this.defaultLoggingTypeStore-1].label,changedData:this.loggingTypeList[this.defaultLoggingType-1].label}];return t}}},re=oe,ce=Object(d["a"])(re,se,ae,!1,null,null,null),le=ce.exports;m()(ce,{VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VSelect:At["a"]});var de=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[t._v(" "+t._s(t.$t("systemsettings.smsdomain.title"))+" "),t.isSmsDomainSettingsEdited?i("span",[t._v("*")]):t._e()]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{attrs:{label:t.$t("systemsettings.smsdomain.label"),dense:""},on:{input:function(e){return t.watchDataChange()}},model:{value:t.domainSettings,callback:function(e){t.domainSettings=e},expression:"domainSettings"}})],1)],1)],1)],1)],1)},ue=[],me={name:"SmsDomainSettingsComponent",data:function(){return{domainSettings:void 0,domainSettingsStore:void 0,isSmsDomainSettingsEdited:!1}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getSmsDomainSettings");case 2:this.domainSettings=t.sent,this.domainSettingsStore=this.copyDataFromStore();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),saveData:function(){var t=this;this.$store.commit("setSmsDomainSettings",this.domainSettings),this.domainSettingsStore=this.copyDataFromStore(),this.$store.dispatch("saveSmsDomainSettings").then((function(e){e&&(t.restoreData(),t.$notify({placement:"top-right",type:"success",content:t.$t("systemsettings.notification.save.smsdomain")}))})).catch((function(){t.$notify({placement:"top-right",type:"danger",content:t.$t("systemsettings.notification.fail")})}))},restoreData:function(){this.fetchData(),this.isSmsDomainSettingsEdited=!1},copyDataFromStore:function(){return JSON.parse(JSON.stringify(this.$store.state.systemSettings.smsDomainSettings))},watchDataChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.isDataChanged();case 2:this.isSmsDomainSettingsEdited=t.sent,this.emitData(this.isSmsDomainSettingsEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isDataChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",0!==this.domainSettingsStore.localeCompare(this.domainSettings));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),emitData:function(t){this.$emit("changed",{component:"smsDomainSettingsComponent",title:"systemsettings.smsdomain.title",changed:t,data:this.sumarizeDataChanges()})},sumarizeDataChanges:function(){var t=[];return t.push({label:"systemsettings.smsdomain.label",originalData:this.domainSettingsStore,changedData:this.domainSettings}),t}}},he=me,pe=Object(d["a"])(he,de,ue,!1,null,"4f1e3903",null),ge=pe.exports;m()(pe,{VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VRow:Dt["a"],VTextField:Ht["a"]});var ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-card",[i("v-card-title",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("span",t._g(t._b({},"span",s,!1),n),[t._v(t._s(t.$t("systemsettings.scadaconf.title")))])]}}])},[i("span",[t._v(t._s(t.$t("systemsettings.tooltip.scadaconf")))])])],1),i("v-card-text",[i("v-expansion-panels",{attrs:{accordion:""}},[i("v-expansion-panel",[i("v-expansion-panel-header",[t._v("env.properties")]),i("v-expansion-panel-content",t._l(Object.keys(t.scadaConfig),(function(e){return i("v-row",{key:e},[i("v-col",{attrs:{cols:"8"}},[i("p",[t._v(t._s(t.$t("systemsettings.scadaconf."+e)))])]),i("v-col",{attrs:{cols:"4"}},[i("p",[t._v(t._s(t._f("convert")(t.scadaConfig[e])))])])],1)})),1)],1)],1)],1)],1)],1)},fe=[],ye={name:"ScadaConfigurationComponent",data:function(){return{scadaConfig:void 0,showScadaConfig:!1}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getScadaConfiguration");case 2:this.scadaConfig=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},be=ye,_e=i("cd55"),Se=i("49e2"),we=i("c865"),xe=i("0393"),Te=Object(d["a"])(be,ve,fe,!1,null,null,null),Ce=Te.exports;m()(Te,{VCard:v["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VExpansionPanel:_e["a"],VExpansionPanelContent:Se["a"],VExpansionPanelHeader:we["a"],VExpansionPanels:xe["a"],VRow:Dt["a"],VTooltip:Bt["a"]});i("a0dd");var Ee={el:"#systemsettings",name:"systemsettings",components:{IsAlive:bt["a"],AuditEventTypesComponent:kt,SystemEventTypesComponent:Lt,EmailSettingsComponent:zt,HttpSettingsComponent:Jt,MiscSettingsComponent:ne,DefaultLoggingTypeSettingsComponent:le,SmsDomainSettingsComponent:ge,ScadaConfigurationComponent:Ce},filters:{blank:function(t){return""===t?"---":t},convert:function(t){return"boolean"===typeof t?t?ot.t("uiv.enable"):ot.t("uiv.disable"):t}},data:function(){return{componentsEdited:[],isUserRoleAdmin:!0,systemRunningTime:void 0,openModal:!1,languageItems:[{value:"de",text:"Deutsch"},{value:"en",text:"English"}]}},mounted:function(){this.isUserRoleAdmin||this.getUserRole(),r["a"].dispatch("getSystemInfoSettings"),this.initDatabaseSection(),this.loadClock()},methods:{getUserRole:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].dispatch("getUserRole");case 2:this.isUserRoleAdmin=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initDatabaseSection:function(){r["a"].dispatch("getDatabaseType"),r["a"].dispatch("getDatabaseSize"),r["a"].dispatch("getSchemaVersion")},saveSystemInfoSettings:function(){var t=this;this.$store.dispatch("saveSystemInfoSettings").then((function(e){e?(ot.locale=t.systemInfoSettings.language,t.generateNotification("success",ot.t("systemsettings.notification.save.systeminfo"))):t.generateNotification("danger",ot.t("systemsettings.notification.fail"))}))},saveDatabase:function(t){var e=this;this.$store.dispatch("saveDatabaseType",t).then((function(t){t?e.generateNotification("success",ot.t("systemsettings.notification.save.database")):e.generateNotification("danger",ot.t("systemsettings.notification.fail"))}))},generateNotification:function(t,e){this.$notify({placement:"bottom-right",type:t,content:e})},loadClock:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].dispatch("getSystemStartupTime");case 2:e=t.sent,e&&this.runClock();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),runClock:function(){var t=this;setInterval((function(){var e=(new Date).getTime(),i=e-t.systemStartupTime.getTime(),n=Math.floor(i/864e5),s=Math.floor(i%864e5/36e5),a=Math.floor(i%36e5/6e4),o=Math.floor(i%6e4/1e3);t.systemRunningTime="".concat(n,"d ").concat(s,"h ").concat(a,"m ").concat(o,"s")}),1e3)},componentChanged:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e),i=this.componentsEdited.findIndex((function(t){return t.component==e.component})),-1==i&&e.changed?this.componentsEdited.push(e):-1==i||e.changed?-1!=i&&e.changed&&(this.componentsEdited[i]=e):this.componentsEdited.splice(i,1),console.log(this.componentsEdited);case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),saveComponent:function(t){this.$refs[t].saveData(),this.removeComponent(t)},saveAllComponents:function(){var t=this;this.componentsEdited.forEach((function(e){t.$refs[e.component].saveData()})),this.componentsEdited=[],this.openModal=!1},restoreComponent:function(t){this.$refs[t].restoreData(),this.removeComponent(t)},restoreAllComponents:function(){var t=this;this.componentsEdited.forEach((function(e){t.$refs[e.component].restoreData()})),this.componentsEdited=[],this.openModal=!1},removeComponent:function(t){this.componentsEdited=this.componentsEdited.filter((function(e){return e.component!==t})),0==this.componentsEdited.length&&(this.openModal=!1)}},computed:{databaseType:function(){return this.$store.state.systemSettings.databaseType},databaseInfo:function(){return this.$store.state.systemSettings.databaseInfo},systemInfoSettings:function(){return this.$store.state.systemSettings.systemInfoSettings},systemStartupTime:function(){return this.$store.state.systemSettings.systemStartupTime},schemaVersion:function(){return this.$store.state.systemSettings.schemaVersion}}},De=Ee,Ae=(i("53f9"),i("dbaa"),i("169a")),Pe=Object(d["a"])(De,ft,yt,!1,null,"174e40af",null),ke=Pe.exports;m()(Pe,{VBtn:g["a"],VCard:v["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCol:Et["a"],VContainer:f["a"],VDialog:Ae["a"],VIcon:_["a"],VRow:Dt["a"],VSelect:At["a"],VSpacer:A["a"],VTextField:Ht["a"],VTooltip:Bt["a"]});var Ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-container",{attrs:{fluid:""}},[i("v-row",{attrs:{align:"center"}},[i("v-col",{attrs:{cols:"6",xs:"12"}},[i("h1",[t._v(" "+t._s(t.$t("plcalarms.notification.title"))+" "),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-icon",t._g(t._b({attrs:{small:""}},"v-icon",s,!1),n),[t._v("mdi-help")])]}}])},[i("span",{staticClass:"help-message"},[t._v(t._s(t.$t("plcalarms.notification.help")))])])],1)]),i("v-col",{staticClass:"row justify-end",attrs:{cols:"2",xs:"12"}},[0!==t.modified.length?i("v-btn",{attrs:{elevation:"2",fab:"",dark:"",color:"primary"},on:{click:t.saveConfiguration}},[i("v-icon",[t._v("mdi-content-save")])],1):t._e(),i("CreationSettingsDialog")],1),i("v-col",{attrs:{cols:"2",xs:"12"}},[i("v-select",{attrs:{items:t.mailingLists,"item-value":"id","item-text":"name",label:t.$t("plcalarms.notification.select.mailinglist"),hint:t.$t("plcalarms.notification.select.mailinglist.hint.1"),"persistent-hint":"",solo:"",dense:""},on:{change:t.changeMailingList},model:{value:t.activeMailingList,callback:function(e){t.activeMailingList=e},expression:"activeMailingList"}})],1),i("v-col",{attrs:{cols:"2",xs:"12"}},[i("v-select",{attrs:{items:t.mailingLists,"item-value":"id","item-text":"name",label:t.$t("plcalarms.notification.select.mailinglist"),hint:t.$t("plcalarms.notification.select.mailinglist.hint.2"),"persistent-hint":"",solo:"",dense:""},on:{change:t.changeMailingList},model:{value:t.activeMailingList2,callback:function(e){t.activeMailingList2=e},expression:"activeMailingList2"}})],1)],1)],1),i("v-treeview",{attrs:{dense:"",items:t.items,activatable:"","load-children":t.fetchDataPoints},scopedSlots:t._u([{key:"append",fn:function(e){var n=e.item;return[n.children?t._e():i("v-row",{staticClass:"d-flex",attrs:{align:"center"}},[i("v-checkbox",{attrs:{"on-icon":"mdi-email","off-icon":"mdi-email-outline",disabled:!n.mail[0].handler},on:{click:function(e){return t.watchPointChange(n)}},model:{value:n.mail[0].active,callback:function(e){t.$set(n.mail[0],"active",e)},expression:"item.mail[0].active"}}),i("v-checkbox",{attrs:{"on-icon":"mdi-cellphone","off-icon":"mdi-cellphone-off",disabled:!n.sms[0].handler},on:{click:function(e){return t.watchPointChange(n)}},model:{value:n.sms[0].active,callback:function(e){t.$set(n.sms[0],"active",e)},expression:"item.sms[0].active"}}),i("v-spacer",{staticClass:"space",attrs:{vertical:""}}),i("v-checkbox",{attrs:{"on-icon":"mdi-email","off-icon":"mdi-email-outline",disabled:!n.mail[1].handler},on:{click:function(e){return t.watchPointChange(n)}},model:{value:n.mail[1].active,callback:function(e){t.$set(n.mail[1],"active",e)},expression:"item.mail[1].active"}}),i("v-checkbox",{attrs:{"on-icon":"mdi-cellphone","off-icon":"mdi-cellphone-off",disabled:!n.sms[1].handler},on:{click:function(e){return t.watchPointChange(n)}},model:{value:n.sms[1].active,callback:function(e){t.$set(n.sms[1],"active",e)},expression:"item.sms[1].active"}})],1)]}}])}),i("v-snackbar",{model:{value:t.snackbar.visible,callback:function(e){t.$set(t.snackbar,"visible",e)},expression:"snackbar.visible"}},[t._v(t._s(t.snackbar.text))])],1)},Oe=[],Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{width:"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-btn",t._g(t._b({attrs:{elevation:"2",fab:""}},"v-btn",s,!1),n),[i("v-icon",[t._v("mdi-pencil")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline gray"},[t._v(" "+t._s(t.$t("plcalarms.notification.settings.title"))+" ")]),i("v-card-text",[t.pedTemplate?i("div",[i("h3",[t._v(t._s(t.$t("plcalarms.notification.settings.ped.title")))]),i("v-text-field",{attrs:{label:t.$t("plcalarms.notification.settings.ped.alias")},model:{value:t.pedTemplate.alias,callback:function(e){t.$set(t.pedTemplate,"alias",e)},expression:"pedTemplate.alias"}}),i("v-select",{attrs:{items:t.itemsAlarm,label:t.$t("plcalarms.notification.settings.ped.alarmLevel"),"item-value":"id","item-text":"label"},model:{value:t.pedTemplate.alarmLevel,callback:function(e){t.$set(t.pedTemplate,"alarmLevel",e)},expression:"pedTemplate.alarmLevel"}}),i("v-text-field",{attrs:{label:t.$t("plcalarms.notification.settings.ped.duration")},model:{value:t.pedTemplate.duration,callback:function(e){t.$set(t.pedTemplate,"duration",e)},expression:"pedTemplate.duration"}}),i("v-select",{attrs:{items:t.itemsDuration,label:t.$t("plcalarms.notification.settings.ped.duration.type"),"item-value":"id","item-text":"label"},model:{value:t.pedTemplate.durationType,callback:function(e){t.$set(t.pedTemplate,"durationType",e)},expression:"pedTemplate.durationType"}}),i("v-checkbox",{attrs:{label:t.$t("plcalarms.notification.settings.ped.binary")},model:{value:t.pedTemplate.binaryState,callback:function(e){t.$set(t.pedTemplate,"binaryState",e)},expression:"pedTemplate.binaryState"}})],1):t._e(),t.ehTemplate?i("div",[i("h3",[t._v(t._s(t.$t("plcalarms.notification.settings.eh.title")))]),i("v-text-field",{attrs:{label:t.$t("plcalarms.notification.settings.eh.xid")},model:{value:t.ehTemplate.xid,callback:function(e){t.$set(t.ehTemplate,"xid",e)},expression:"ehTemplate.xid"}}),i("v-text-field",{attrs:{label:t.$t("plcalarms.notification.settings.eh.alias")},model:{value:t.ehTemplate.alias,callback:function(e){t.$set(t.ehTemplate,"alias",e)},expression:"ehTemplate.alias"}}),i("v-checkbox",{attrs:{label:t.$t("plcalarms.notification.settings.eh.disable")},model:{value:t.ehTemplate.disabled,callback:function(e){t.$set(t.ehTemplate,"disabled",e)},expression:"ehTemplate.disabled"}})],1):t._e()]),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(t._s(t.$t("uiv.modal.ok")))])],1)],1)],1)},Fe=[],Me={name:"CreationSettingsDialog",data:function(){return{dialog:!1,itemsAlarm:[{id:0,label:"None"},{id:1,label:"Information"},{id:2,label:"Urgent"},{id:3,label:"Critical"},{id:4,label:"Life safety"}],itemsDuration:[{id:1,label:"Second(s)"},{id:2,label:"Minute(s)"},{id:3,label:"Hour(s)"}],pedTemplate:void 0,ehTemplate:void 0}},mounted:function(){this.pedTemplate=this.$store.state.storeAlarmsNotifications.pedTemplate,this.ehTemplate=this.$store.state.storeAlarmsNotifications.ehTemplate}},Le=Me,Ne=i("ac7c"),$e=Object(d["a"])(Le,Re,Fe,!1,null,null,null),je=$e.exports;m()($e,{VBtn:g["a"],VCard:v["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Ct["c"],VCheckbox:Ne["a"],VDialog:Ae["a"],VDivider:y["a"],VIcon:_["a"],VSelect:At["a"],VSpacer:A["a"],VTextField:Ht["a"]});var Ve={name:"AlarmNotifications",components:{CreationSettingsDialog:je},data:function(){return{items:[],activeMailingList:void 0,activeMailingList2:void 0,mailingLists:void 0,eventHandlers:void 0,modified:[],snackbar:{visible:!1,text:""}}},mounted:function(){this.initMailingLists(),this.initEventHandlers()},methods:{initDataSources:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getAllPlcDataSources");case 2:e=t.sent,e.forEach((function(t){var e={id:t.id,name:t.name,children:[]};i.items.push(e)}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initMailingLists:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getAllMailingLists");case 2:this.mailingLists=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initEventHandlers:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getPlcEventHandlers");case 2:this.eventHandlers=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),fetchDataPoints:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getPlcDataPoints",e.id);case 2:i=t.sent,i.forEach((function(t){var i={id:t.id,name:t.name,mail:[],sms:[]};i.mail.push(n.addConfiguration(t.id,n.activeMailingList,"mail")),i.mail.push(n.addConfiguration(t.id,n.activeMailingList2,"mail")),i.sms.push(n.addConfiguration(t.id,n.activeMailingList,"sms")),i.sms.push(n.addConfiguration(t.id,n.activeMailingList2,"sms")),e.children.push(i)}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),bindEmailEventHandler:function(t,e){var i=-1;return this.eventHandlers.forEach((function(n){n.eventTypeRef1==t&&2===n.handlerType&&n.recipients&&n.recipients.forEach((function(t){t.referenceId==e&&(i={ehId:n.id,edId:n.eventTypeRef2})}))})),i},bindSmsEventHandler:function(t,e){var i=-1;return this.eventHandlers.forEach((function(n){n.eventTypeRef1==t&&5===n.handlerType&&n.recipients&&n.recipients.forEach((function(t){t.referenceId==e&&(i={ehId:n.id,edId:n.eventTypeRef2})}))})),i},addConfiguration:function(t,e,i){var n;if(e){"mail"===i?n=this.bindEmailEventHandler(t,e):"sms"===i&&(n=this.bindSmsEventHandler(t,e));var s=-1!==n;return{handler:n,active:s,config:s,mlId:e}}return{active:!1,config:!1}},changeMailingList:function(t){this.items=[],this.modified=[],this.initDataSources()},watchPointChange:function(t){this.modified=this.modified.filter((function(e){return e.id!==t.id}));for(var e=0;e<t.mail.length;e++)if(t.mail[e].active!==t.mail[e].config||t.sms[e].active!==t.sms[e].config){this.modified.push(t);break}},saveConfiguration:function(){var t=this;this.modified.length>0&&(this.modified.forEach((function(e){for(var i=0;i<e.mail.length;i++)if(-1!==e.mail[i].handler&&e.mail[i].active!==e.mail[i].config)t.updateEventHandler(e.mail[i].handler.ehId,e.mail[i].mlId,e.id,e.mail[i].handler.edId,"delete");else if(-1===e.mail[i].handler&&e.mail[i].active!==e.mail[i].config){var n=i%e.mail.length===0?t.activeMailingList:t.activeMailingList2,s=t.getExistingEventHandler(e.id,2);s?t.updateEventHandler(s.ehId,n,e.id,s.edId,"add"):t.createEventHandler(n,e.id,2)}for(var a=0;a<e.sms.length;a++)if(-1!==e.sms[a].handler&&e.sms[a].active!==e.sms[a].config)t.updateEventHandler(e.sms[a].handler.ehId,e.sms[a].mlId,e.id,e.sms[a].handler.edId,"delete");else if(-1===e.sms[a].handler&&e.sms[a].active!==e.sms[a].config){var o=a%e.mail.length===0?t.activeMailingList:t.activeMailingList2,r=t.getExistingEventHandler(e.id,5);r?t.updateEventHandler(r.ehId,o,e.id,r.edId,"add"):t.createEventHandler(o,e.id,5)}})),this.snackbar.text=this.$t("plcalarms.notification.save"),this.snackbar.visible=!0)},updateEventHandler:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,i,n,s,a){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={ehId:e,activeMailingList:i,typeRef1:n,typeRef2:s,method:a},t.next=3,this.$store.dispatch("updateEventHandler",o);case 3:this.initEventHandlers(),this.modified=[];case 5:case"end":return t.stop()}}),t,this)})));function e(e,i,n,s,a){return t.apply(this,arguments)}return e}(),createEventHandler:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,i,n){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s={datapointId:i,mailingListId:e,handlerType:n},t.next=3,this.$store.dispatch("createEventHandler",s);case 3:this.initEventHandlers(),this.modified=[];case 5:case"end":return t.stop()}}),t,this)})));function e(e,i,n){return t.apply(this,arguments)}return e}(),getExistingEventHandler:function(t,e){var i=null;return this.eventHandlers.forEach((function(n){n.eventTypeRef1==t&&n.handlerType===e&&(i={ehId:n.id,edId:n.eventTypeRef2})})),i}}},Ue=Ve,He=(i("e9c3"),i("2db4")),Be=i("eb2a"),We=Object(d["a"])(Ue,Ie,Oe,!1,null,null,null),ze=We.exports;m()(We,{VBtn:g["a"],VCheckbox:Ne["a"],VCol:Et["a"],VContainer:f["a"],VIcon:_["a"],VRow:Dt["a"],VSelect:At["a"],VSnackbar:He["a"],VSpacer:A["a"],VTooltip:Bt["a"],VTreeview:Be["a"]}),n["default"].use(I["a"]);var Ye=new I["a"]({mode:"hash",base:"/",routes:[{path:"/",name:"home",component:B},{path:"/about",name:"about",component:X},{path:"/alarms",name:"alarms",component:B},{path:"/historical-alarms",name:"historical-alarms",component:vt},{path:"/system-settings",name:"system-settings",component:ke},{path:"/alarm-notifications",name:"alarm-notifications",component:ze},{path:"/example-ph",name:"example-ph",component:function(){return i.e("ph").then(i.bind(null,"d522"))}},{path:"/example-test",name:"example-test",component:function(){return i.e("test-component").then(i.bind(null,"752a"))}},{path:"/example-isalive",name:"example-isalive",component:function(){return i.e("isalive-component").then(i.bind(null,"6928"))}},{path:"/example-simple-component-svg",name:"example-simple-component-svg",component:function(){return i.e("simple-component-svg").then(i.bind(null,"b599"))}},{path:"/example-sleep-and-reactivation-ds",name:"example-sleep-and-reactivation-ds",component:function(){return i.e("sleep-and-reactivation-ds-component").then(i.bind(null,"daf4"))}},{path:"/example-cmp",name:"example-cmp",component:function(){return i.e("cmp-component").then(i.bind(null,"ab95"))}},{path:"/example-chart-cmp",name:"example-chart-cmp",component:function(){return i.e("example-chart-cmp").then(i.bind(null,"94ff"))}},{path:"/example-step-line-chart-cmp",name:"example-step-line-chart-cmp",component:function(){return i.e("step-line-chart-component").then(i.bind(null,"3a20"))}},{path:"/example-live-alarms",name:"example-live-alarms",component:function(){return i.e("live-alarms-component").then(i.bind(null,"33a6"))}}]}),Ge=i("a44f"),qe=i("00e7"),Xe=i.n(qe),Ke=i("85ff"),Je=i.n(Ke),Ze=i("864c"),Qe=i("ae1b"),ti=i("42d3"),ei=i("c0af"),ii=i("f1e7"),ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scada-widget"},[t._m(0),i("div",{staticClass:"chart-container"},[t.visible?i("watch-list-json-chart",{ref:"jsonChart",attrs:{"point-id":t.pointId,"watchlist-name":t.watchlistName}}):t._e()],1)])},si=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings"},[i("p",{staticClass:"smallTitle"},[t._v("Modern Chart")])])}],ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"col-xs-12"},[i("btn-group",{staticClass:"col-xs-3"},[i("btn",{staticClass:"col-xs-4",attrs:{"input-type":"radio","input-value":"live",id:"live-btn-1"},model:{value:t.chartType,callback:function(e){t.chartType=e},expression:"chartType"}},[t._v(t._s(t.$t("modernwatchlist.chart.panel.live")))]),i("tooltip",{attrs:{text:t.$t("modernwatchlist.chart.panel.live.tooltip"),target:"#live-btn-1"}}),i("btn",{staticClass:"col-xs-4",attrs:{"input-type":"radio","input-value":"static",id:"static-btn-1"},model:{value:t.chartType,callback:function(e){t.chartType=e},expression:"chartType"}},[t._v(t._s(t.$t("modernwatchlist.chart.panel.static")))]),i("tooltip",{attrs:{text:t.$t("modernwatchlist.chart.panel.static.tooltip"),target:"#static-btn-1"}}),i("btn",{staticClass:"col-xs-4",attrs:{"input-type":"radio","input-value":"compare",id:"compare-btn-1"},model:{value:t.chartType,callback:function(e){t.chartType=e},expression:"chartType"}},[t._v(t._s(t.$t("modernwatchlist.chart.panel.compare")))]),i("tooltip",{attrs:{text:t.$t("modernwatchlist.chart.panel.compare.tooltip"),target:"#compare-btn-1"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"live"===t.chartType,expression:"chartType === 'live'"}],staticClass:"col-xs-8"},[i("ChartSettingsLiveComponent",{ref:"csLiveComponent",attrs:{watchListName:t.watchlistName}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"static"===t.chartType,expression:"chartType === 'static'"}],staticClass:"col-xs-8"},[i("ChartSettingsStaticComponent",{ref:"csStaticComponent",attrs:{watchListName:t.watchlistName}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"compare"===t.chartType,expression:"chartType === 'compare'"}],staticClass:"col-xs-8"},[i("ChartSettingsCompareComponent",{ref:"csCompareComponent",attrs:{watchListName:t.watchlistName,pointId:t.pointId}})],1),i("div",{staticClass:"col-xs-1"},[i("btn",{staticClass:"dropdown-toggle",attrs:{id:"updateSettingsBtn"},on:{click:function(e){return t.updateSettings()}}},[i("i",{staticClass:"glyphicon glyphicon-refresh"})]),i("tooltip",{attrs:{text:t.$t("modernwatchlist.chart.panel.apply.tooltip"),target:"#updateSettingsBtn"}}),t.chartSeries?i("div",[i("ChartSeriesSettingsComponent",{attrs:{series:t.chartSeries,watchListName:t.watchlistName},on:{saved:t.seriesDetailsSaved}})],1):t._e()],1)],1)]),i("div",{ref:"chartdiv",staticClass:"hello",style:{height:"600px",width:this.width+"px"}})])},oi=[],ri=(i("5df3"),i("28a5"),i("bc3a")),ci=i.n(ri),li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-xs-12"},[i("div",{staticClass:"col-xs-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.startTime,expression:"startTime"}],staticClass:"form-control",attrs:{type:"number",id:"live-sd",placeholder:t.$t("modernwatchlist.settings.live.time.label"),min:"1",max:"31"},domProps:{value:t.startTime},on:{input:function(e){e.target.composing||(t.startTime=e.target.value)}}})]),i("div",{staticClass:"col-xs-3"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.startTimeMultiplier,expression:"startTimeMultiplier"}],staticClass:"form-control",attrs:{id:"live-rrs"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.startTimeMultiplier=e.target.multiple?i:i[0]}}},t._l(t.timeOptions,(function(e){return i("option",{key:e.id,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),0)]),i("div",{staticClass:"col-xs-6"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.refreshRate,expression:"refreshRate"}],staticClass:"form-control",attrs:{id:"live-rr"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.refreshRate=e.target.multiple?i:i[0]}}},t._l(t.performanceOptions,(function(e){return i("option",{key:e.id,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),0)])])},di=[],ui={name:"ChartSettingsLiveComponent",props:["watchListName"],data:function(){return{CHART_TYPE:"live",startTime:1,startTimeMultiplier:"hour",timeOptions:[{id:0,text:this.$t("modernwatchlist.settings.live.time.hour"),value:"hour"},{id:1,text:this.$t("modernwatchlist.settings.live.time.day"),value:"day"},{id:2,text:this.$t("modernwatchlist.settings.live.time.week"),value:"week"},{id:3,text:this.$t("modernwatchlist.settings.live.time.month"),value:"month"}],refreshRate:1e4,performanceOptions:[{id:0,text:this.$t("modernwatchlist.settings.live.performance.1"),value:1e3},{id:1,text:this.$t("modernwatchlist.settings.live.performance.2"),value:2e3},{id:2,text:this.$t("modernwatchlist.settings.live.performance.5"),value:5e3},{id:3,text:this.$t("modernwatchlist.settings.live.performance.10"),value:1e4},{id:4,text:this.$t("modernwatchlist.settings.live.performance.30"),value:3e4},{id:5,text:this.$t("modernwatchlist.settings.live.performance.60"),value:6e4}]}},mounted:function(){this.loadSettings()},computed:{},methods:{applySettings:function(){var t={type:this.CHART_TYPE,refreshRate:this.refreshRate,startDate:"".concat(this.startTime,"-").concat(this.startTimeMultiplier),endDate:null};return this.saveSettings(),t},loadSettings:function(){var t=JSON.parse(localStorage.getItem("MWL_".concat(this.watchListName,"_P")));t&&t.type===this.CHART_TYPE&&(this.startTime=t.startTime,this.startTimeMultiplier=t.startTimeMultiplier,this.refreshRate=t.refreshRate)},saveSettings:function(){var t={type:this.CHART_TYPE,startTime:this.startTime,startTimeMultiplier:this.startTimeMultiplier,refreshRate:this.refreshRate};localStorage.setItem("MWL_".concat(this.watchListName,"_P"),JSON.stringify(t))}}},mi=ui,hi=Object(d["a"])(mi,li,di,!1,null,"6a4f76c7",null),pi=hi.exports,gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-xs-12"},[i("div",{staticClass:"flex-row flex-align-center col-xs-6"},[i("label",{staticClass:"small-padd",attrs:{for:"static-sd"}},[t._v(t._s(t.$t("modernwatchlist.settings.date.start")))]),i("dropdown",{staticClass:"form-group"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}}),i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),i("template",{slot:"dropdown"},[i("li",[i("datepicker",{attrs:{format:"yyyy/MM/dd",inline:!0,"monday-first":!0},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)])],2),i("dropdown",{staticClass:"form-group"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),i("template",{slot:"dropdown"},[i("li",{staticStyle:{padding:"10px"}},[i("time-picker",{attrs:{"show-meridian":!1},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1)])],2)],1),i("div",{staticClass:"flex-row flex-align-center col-xs-6"},[i("label",{staticClass:"small-padd",attrs:{for:"static-ed"}},[t._v(t._s(t.$t("modernwatchlist.settings.date.end")))]),i("dropdown",{staticClass:"form-group"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}}),i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),i("template",{slot:"dropdown"},[i("li",[i("datepicker",{attrs:{format:"yyyy MM dd",inline:!0,"monday-first":!0},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)])],2),i("dropdown",{staticClass:"form-group"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),i("template",{slot:"dropdown"},[i("li",{staticStyle:{padding:"10px"}},[i("time-picker",{attrs:{"show-meridian":!1},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)])],2)],1)])},vi=[],fi=(i("6b54"),{name:"ChartSettingsStaticComponent",components:{Datepicker:nt["a"]},props:["watchListName"],data:function(){return{CHART_TYPE:"static",startDate:new Date,startTime:new Date,endDate:new Date,endTime:new Date}},mounted:function(){this.loadSettings()},computed:{},methods:{applySettings:function(){var t={type:this.CHART_TYPE,refreshRate:null,startDate:this.convertDate(this.startDate,this.startTime),endDate:this.convertDate(this.endDate,this.endTime)};return this.saveSettings(),t},loadSettings:function(){var t=JSON.parse(localStorage.getItem("MWL_".concat(this.watchListName,"_P")));t&&t.type===this.CHART_TYPE&&(this.startDate=new Date(t.startDate),this.startTime=new Date(t.startTime),this.endDate=new Date(t.endDate),this.endTime=new Date(t.endTime))},saveSettings:function(){var t={type:this.CHART_TYPE,startDate:this.startDate.toString(),startTime:this.startTime.toString(),endDate:this.endDate.toString(),endTime:this.endTime.toString()};localStorage.setItem("MWL_".concat(this.watchListName,"_P"),JSON.stringify(t))},convertDate:function(t,e){e instanceof Date||(e=void 0===e||null===e?new Date:new Date(e));var i=this.formatDate(new Date(t)),n="".concat(e.getHours(),":").concat(e.getMinutes());return"".concat(i," ").concat(n)},formatDate:function(t){return t.getUTCFullYear()+"/"+("0"+(t.getUTCMonth()+1)).slice(-2)+"/"+("0"+t.getUTCDate()).slice(-2)}}}),yi=fi,bi=Object(d["a"])(yi,gi,vi,!1,null,"301b9ef4",null),_i=bi.exports,Si=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("btn",{on:{click:t.openModal}},[i("i",{staticClass:"glyphicon glyphicon-cog"})])],1),t.isModalVisible?i("div",{staticClass:"modal-block"},[i("div",{staticClass:"modal-body-block"},[i("div",{staticClass:"container"},[i("div",{staticClass:"col-xs-12"},[i("btn-group",{staticClass:"col-xs-8"},[i("div",{staticClass:"col-xs-6"},[i("btn",{attrs:{block:"","input-type":"radio","input-value":!1},model:{value:t.aggregation.aggregate,callback:function(e){t.$set(t.aggregation,"aggregate",e)},expression:"aggregation.aggregate"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.aggregation.all")))])],1),i("div",{staticClass:"col-xs-6"},[i("btn",{attrs:{block:"","input-type":"radio","input-value":!0},model:{value:t.aggregation.aggregate,callback:function(e){t.$set(t.aggregation,"aggregate",e)},expression:"aggregation.aggregate"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.aggregation.aggregate")))])],1)]),i("div",{staticClass:"col-xs-4"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.aggregation.count,expression:"aggregation.count"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.aggregation.count},on:{input:function(e){e.target.composing||t.$set(t.aggregation,"count",e.target.value)}}})])],1)]),t.tempSeries?i("div",{staticClass:"container margin-top"},[i("div",{staticClass:"col-xs-12 justify-content-md-center"},[i("tabs",{attrs:{justified:""}},t._l(t.tempSeries,(function(e){return i("tab",{key:e.id,attrs:{title:e.name}},[i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.name"))+" ")]),i("div",{staticClass:"col-xs-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"s.name"}],staticClass:"form-control",domProps:{value:e.name},on:{input:function(i){i.target.composing||t.$set(e,"name",i.target.value)}}})])]),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.series"))+" ")]),i("btn-group",{staticClass:"col-xs-6"},[i("btn",{staticClass:"col-xs-6",attrs:{"input-type":"radio","input-value":"LineSeries"},model:{value:e.type,callback:function(i){t.$set(e,"type",i)},expression:"s.type"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.series.line")))]),i("btn",{staticClass:"col-xs-6",attrs:{"input-type":"radio","input-value":"StepLineSeries"},model:{value:e.type,callback:function(i){t.$set(e,"type",i)},expression:"s.type"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.series.stepline")))])],1)],1),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.yaxis"))+" ")]),i("btn-group",{staticClass:"col-xs-6"},[i("btn",{staticClass:"col-xs-3",attrs:{"input-type":"radio","input-value":"valueAxis1"},model:{value:e.yAxis,callback:function(i){t.$set(e,"yAxis",i)},expression:"s.yAxis"}},[t._v("1")]),i("btn",{staticClass:"col-xs-3",attrs:{"input-type":"radio","input-value":"valueAxis2"},model:{value:e.yAxis,callback:function(i){t.$set(e,"yAxis",i)},expression:"s.yAxis"}},[t._v("2")]),i("btn",{staticClass:"col-xs-3",attrs:{"input-type":"radio","input-value":"logAxis"},model:{value:e.yAxis,callback:function(i){t.$set(e,"yAxis",i)},expression:"s.yAxis"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.yaxis.logarithmic")))]),i("btn",{staticClass:"col-xs-3",attrs:{"input-type":"radio","input-value":"binAxis"},model:{value:e.yAxis,callback:function(i){t.$set(e,"yAxis",i)},expression:"s.yAxis"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.yaxis.binary")))])],1)],1),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.xaxis"))+" ")]),i("btn-group",{staticClass:"col-xs-6"},[i("btn",{staticClass:"col-xs-6",attrs:{"input-type":"radio","input-value":"dateAxis1"},on:{click:function(i){return t.watchDateAxisChagne(e)}},model:{value:e.xAxis,callback:function(i){t.$set(e,"xAxis",i)},expression:"s.xAxis"}},[t._v("1")]),i("btn",{staticClass:"col-xs-6",attrs:{"input-type":"radio","input-value":"dateAxis2"},on:{click:function(i){return t.watchDateAxisChagne(e)}},model:{value:e.xAxis,callback:function(i){t.$set(e,"xAxis",i)},expression:"s.xAxis"}},[t._v("2")])],1)],1),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.stroke.color"))+" ")]),i("div",{staticClass:"col-xs-6"},[i("verte",{attrs:{picker:"square",model:"hex",showHistory:null,menuPosition:"top"},model:{value:e.stroke,callback:function(i){t.$set(e,"stroke",i)},expression:"s.stroke"}})],1)]),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.stroke.width"))+" ")]),i("div",{staticClass:"col-xs-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.strokeWidth,expression:"s.strokeWidth"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.strokeWidth},on:{input:function(i){i.target.composing||t.$set(e,"strokeWidth",i.target.value)}}})])]),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.stroke.tension"))+" ")]),i("div",{staticClass:"col-xs-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.tensionX,expression:"s.tensionX"}],staticClass:"form-control",attrs:{type:"number",min:0,max:1},domProps:{value:e.tensionX},on:{input:function(i){i.target.composing||t.$set(e,"tensionX",i.target.value)}}})])]),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.fill.color"))+" ")]),i("div",{staticClass:"col-xs-6"},[i("verte",{attrs:{picker:"square",model:"hex",showHistory:null,menuPosition:"top"},model:{value:e.fill,callback:function(i){t.$set(e,"fill",i)},expression:"s.fill"}})],1)]),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.fill.opacity"))+" ")]),i("div",{staticClass:"col-xs-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.fillOpacity,expression:"s.fillOpacity"}],staticClass:"form-control",attrs:{type:"number",min:0,max:1},domProps:{value:e.fillOpacity},on:{input:function(i){i.target.composing||t.$set(e,"fillOpacity",i.target.value)}}})])]),i("div",{staticClass:"col-xs-12"},[i("p",{staticClass:"col-xs-6"},[t._v(" "+t._s(t.$t("modernwatchlist.chartseries.bullets"))+" ")]),i("btn-group",{staticClass:"col-xs-6"},[i("btn",{staticClass:"col-xs-6",attrs:{"input-type":"radio","input-value":5},model:{value:e.bullets[0].circle.radius,callback:function(i){t.$set(e.bullets[0].circle,"radius",i)},expression:"s.bullets[0].circle.radius"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.show")))]),i("btn",{staticClass:"col-xs-6",attrs:{"input-type":"radio","input-value":0},model:{value:e.bullets[0].circle.radius,callback:function(i){t.$set(e.bullets[0].circle,"radius",i)},expression:"s.bullets[0].circle.radius"}},[t._v(t._s(t.$t("modernwatchlist.chartseries.hide")))])],1)],1)])})),1)],1),i("div",{staticClass:"col-xs-12 margin-top"},[i("div",{staticClass:"col-xs-4"},[i("btn",{attrs:{block:""},on:{click:t.close}},[t._v(t._s(t.$t("modernwatchlist.chartseries.close")))])],1),i("div",{staticClass:"col-xs-4"},[i("btn",{attrs:{block:""},on:{click:t.restore}},[t._v(t._s(t.$t("modernwatchlist.chartseries.restore")))])],1),i("div",{staticClass:"col-xs-4"},[i("btn",{attrs:{type:"primary",block:""},on:{click:t.save}},[t._v(t._s(t.$t("modernwatchlist.chartseries.save")))])],1)])]):t._e()])]):t._e()])},wi=[],xi=i("36fc"),Ti={name:"ChartSeriesSettingsComponent",components:{verte:xi["a"]},props:["watchListName","series"],data:function(){return{tempSeries:void 0,isModalVisible:!1,aggregation:{aggregate:!0,count:500}}},mounted:function(){this.loadAggregation()},computed:{},methods:{openModal:function(){this.restore(),this.isModalVisible=!0},restore:function(){this.tempSeries=this.copyObject(this.series)},close:function(){this.isModalVisible=!1,this.saveAggregation()},save:function(){this.close(),this.$emit("saved",this.tempSeries)},copyObject:function(t){return JSON.parse(JSON.stringify(t))},watchDateAxisChagne:function(t){console.log(t),"dateAxis2"==t.xAxis?t.dataFields.dateX="date":"dateAxis1"==t.xAxis&&(t.dataFields.dateX="date2")},saveAggregation:function(){localStorage.setItem("MWL_".concat(this.watchListName,"_A"),JSON.stringify(this.aggregation))},loadAggregation:function(){var t=JSON.parse(localStorage.getItem("MWL_".concat(this.watchListName,"_A")));t&&(this.aggregation=t)}}},Ci=Ti,Ei=(i("aec4"),Object(d["a"])(Ci,Si,wi,!1,null,"566a0fee",null)),Di=Ei.exports,Ai=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-xs-12"},[i("div",{staticClass:"col-xs-12"},[i("div",{staticClass:"col-xs-3"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.pointSettings[0].dataPoint,expression:"pointSettings[0].dataPoint"}],staticClass:"form-control",attrs:{id:"comp-el-1"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.pointSettings[0],"dataPoint",e.target.multiple?i:i[0])}}},t._l(t.pointList,(function(e){return i("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e.name)+": "+t._s(e.xid)+" ")])})),0),i("tooltip",{attrs:{text:t.$t("modernwatchlist.settings.compare.point1.tooltip"),target:"#comp-el-1"}})],1),t.pointSettings[0].dataPoint?i("div",{staticClass:"col-xs-9"},[i("div",{staticClass:"col-xs-6"},[i("dropdown",{staticClass:"form-group col-xs-11"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pointSettings[0].startDate,expression:"pointSettings[0].startDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.pointSettings[0].startDate},on:{input:function(e){e.target.composing||t.$set(t.pointSettings[0],"startDate",e.target.value)}}}),i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),i("template",{slot:"dropdown"},[i("li",[i("datepicker",{attrs:{format:t.formatDate,inline:!0,"monday-first":!0},model:{value:t.pointSettings[0].startDate,callback:function(e){t.$set(t.pointSettings[0],"startDate",e)},expression:"pointSettings[0].startDate"}})],1)])],2),i("dropdown",{staticClass:"form-group row"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),i("template",{slot:"dropdown"},[i("li",{staticStyle:{padding:"10px"}},[i("time-picker",{attrs:{"show-meridian":!1},model:{value:t.pointSettings[0].startTime,callback:function(e){t.$set(t.pointSettings[0],"startTime",e)},expression:"pointSettings[0].startTime"}})],1)])],2)],1),i("div",{staticClass:"col-xs-6"},[i("dropdown",{staticClass:"form-group col-xs-11"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pointSettings[0].endDate,expression:"pointSettings[0].endDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.pointSettings[0].endDate},on:{input:function(e){e.target.composing||t.$set(t.pointSettings[0],"endDate",e.target.value)}}}),i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),i("template",{slot:"dropdown"},[i("li",[i("datepicker",{attrs:{format:t.formatDate,inline:!0,"monday-first":!0},model:{value:t.pointSettings[0].endDate,callback:function(e){t.$set(t.pointSettings[0],"endDate",e)},expression:"pointSettings[0].endDate"}})],1)])],2),i("dropdown",{staticClass:"form-group row"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),i("template",{slot:"dropdown"},[i("li",{staticStyle:{padding:"10px"}},[i("time-picker",{attrs:{"show-meridian":!1},model:{value:t.pointSettings[0].endTime,callback:function(e){t.$set(t.pointSettings[0],"endTime",e)},expression:"pointSettings[0].endTime"}})],1)])],2)],1)]):t._e()]),i("div",{staticClass:"col-xs-12"},[i("div",{staticClass:"col-xs-3"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.pointSettings[1].dataPoint,expression:"pointSettings[1].dataPoint"}],staticClass:"form-control",attrs:{id:"comp-el-2"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.pointSettings[1],"dataPoint",e.target.multiple?i:i[0])}}},t._l(t.pointList,(function(e){return i("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e.name)+": "+t._s(e.xid)+" ")])})),0),i("tooltip",{attrs:{text:t.$t("modernwatchlist.settings.compare.point2.tooltip"),target:"#comp-el-2"}})],1),t.pointSettings[1].dataPoint?i("div",{staticClass:"col-xs-9"},[i("div",{staticClass:"col-xs-6"},[i("dropdown",{staticClass:"form-group col-xs-11"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pointSettings[1].startDate,expression:"pointSettings[1].startDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.pointSettings[1].startDate},on:{input:function(e){e.target.composing||t.$set(t.pointSettings[1],"startDate",e.target.value)}}}),i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),i("template",{slot:"dropdown"},[i("li",[i("datepicker",{attrs:{inline:!0,"monday-first":!0},on:{selected:t.formatDate},model:{value:t.pointSettings[1].startDate,callback:function(e){t.$set(t.pointSettings[1],"startDate",e)},expression:"pointSettings[1].startDate"}})],1)])],2),i("dropdown",{staticClass:"form-group row"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),i("template",{slot:"dropdown"},[i("li",{staticStyle:{padding:"10px"}},[i("time-picker",{attrs:{"show-meridian":!1},model:{value:t.pointSettings[1].startTime,callback:function(e){t.$set(t.pointSettings[1],"startTime",e)},expression:"pointSettings[1].startTime"}})],1)])],2)],1),i("div",{staticClass:"col-xs-6"},[i("dropdown",{staticClass:"form-group col-xs-11"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pointSettings[1].endDate,expression:"pointSettings[1].endDate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.pointSettings[1].endDate},on:{input:function(e){e.target.composing||t.$set(t.pointSettings[1],"endDate",e.target.value)}}}),i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-calendar"})])],1)]),i("template",{slot:"dropdown"},[i("li",[i("datepicker",{attrs:{inline:!0,"monday-first":!0},on:{selected:t.formatDate},model:{value:t.pointSettings[1].endDate,callback:function(e){t.$set(t.pointSettings[1],"endDate",e)},expression:"pointSettings[1].endDate"}})],1)])],2),i("dropdown",{staticClass:"form-group row"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-btn"},[i("btn",{staticClass:"dropdown-toggle"},[i("i",{staticClass:"glyphicon glyphicon-time"})])],1)]),i("template",{slot:"dropdown"},[i("li",{staticStyle:{padding:"10px"}},[i("time-picker",{attrs:{"show-meridian":!1},model:{value:t.pointSettings[1].endTime,callback:function(e){t.$set(t.pointSettings[1],"endTime",e)},expression:"pointSettings[1].endTime"}})],1)])],2)],1)]):t._e()])])},Pi=[],ki={name:"ChartSettingsCompareComonent",components:{Datepicker:nt["a"]},props:["watchListName","pointId"],data:function(){return{CHART_TYPE:"compare",pointList:[],pointSettings:[{dataPoint:void 0,startDate:new Date,startTime:new Date,endDate:new Date,endTime:new Date},{dataPoint:void 0,startDate:new Date,startTime:new Date,endDate:new Date,endTime:new Date}]}},mounted:function(){this.loadSettings(),this.init()},computed:{},methods:{applySettings:function(){var t={type:this.CHART_TYPE,refreshRate:null,startDate:null,endDate:null,comparePoints:[{pointId:this.pointSettings[0].dataPoint.id,startDate:this.convertDate(this.pointSettings[0].startDate,this.pointSettings[0].startTime),endDate:this.convertDate(this.pointSettings[0].endDate,this.pointSettings[0].endTime)},{pointId:this.pointSettings[1].dataPoint.id,startDate:this.convertDate(this.pointSettings[1].startDate,this.pointSettings[1].startTime),endDate:this.convertDate(this.pointSettings[1].endDate,this.pointSettings[1].endTime)}]};return this.saveSettings(),t},loadSettings:function(){var t=JSON.parse(localStorage.getItem("MWL_".concat(this.watchListName,"_P")));if(t&&t.type===this.CHART_TYPE)for(var e=0;e<t.pointSettings.length;e++)this.pointSettings[e].dataPoint=t.pointSettings[e].dataPoint,this.pointSettings[e].startDate=new Date(t.pointSettings[e].startDate),this.pointSettings[e].startTime=new Date(t.pointSettings[e].startTime),this.pointSettings[e].endDate=new Date(t.pointSettings[e].endDate),this.pointSettings[e].endTime=new Date(t.pointSettings[e].endTime)},saveSettings:function(){var t={type:this.CHART_TYPE,pointSettings:[]};this.pointSettings.forEach((function(e){var i={dataPoint:e.dataPoint,startDate:e.startDate,startTime:e.startTime,endDate:e.endDate,endTime:e.endTime};t.pointSettings.push(i)})),console.debug("TRYING TO SAVE",t),localStorage.setItem("MWL_".concat(this.watchListName,"_P"),JSON.stringify(t))},init:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initDataPointsDetails();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initDataPointsDetails:function(){var t=this;return new Promise((function(e){var i=[],n=t.pointId.split(",");n.forEach((function(e){i.push(t.getDataPointDetails(e))})),Promise.all(i).then((function(){e(!0)}))}))},getDataPointDetails:function(t){var e=this;return new Promise((function(i){ci.a.get("./api/point_value/getValue/id/".concat(t)).then((function(n){var s={id:t,xid:n.data.xid,name:n.data.name,type:n.data.type};e.pointList.push(s),i(!0)}))}))},convertDate:function(t,e){e instanceof Date||(e=void 0===e||null===e?new Date:new Date(e));var i=this.formatDate(new Date(t)),n="".concat(e.getHours(),":").concat(e.getMinutes());return"".concat(i," ").concat(n)},formatDate:function(t){return t.getUTCFullYear()+"/"+("0"+(t.getUTCMonth()+1)).slice(-2)+"/"+("0"+t.getUTCDate()).slice(-2)}}},Ii=ki,Oi=Object(d["a"])(Ii,Ai,Pi,!1,null,null,null),Ri=Oi.exports,Fi=(i("2397"),i("f400"),i("d225")),Mi=i("b0b4"),Li=i("2a88"),Ni=i("4e2b"),$i=i("308d"),ji=i("6bb5"),Vi=(i("c497"),i("5a54")),Ui=i("2bf5");function Hi(t){var e=Bi();return function(){var i,n=Object(ji["a"])(t);if(e){var s=Object(ji["a"])(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Object($i["a"])(this,i)}}function Bi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}wt["g"](Vi["a"]);var Wi=function(t){Object(Ni["a"])(i,t);var e=Hi(i);function i(t,n){var s=arguments.length>3?arguments[3]:void 0;return Object(Fi["a"])(this,i),e.call(this,t,"JsonChart",n,".",s,"XYChart")}return Object(Mi["a"])(i,[{key:"loadData",value:function(t,e,n,s){var a=this;return new Promise((function(o,r){Object(Li["a"])(Object(ji["a"])(i.prototype),"loadData",a).call(a,t,e,n,s).then((function(e){if(void 0==a.pointCurrentValue.get(t)&&a.pointCurrentValue.set(t,{name:e.name,suffix:e.textRenderer.suffix,type:e.type,labels:new Map}),"Multistate"===e.type){var i=e.textRenderer.multistateValues;if("textRendererMultistate"===e.textRenderer.typeName&&void 0!==i){for(var n=new Map,s=0;s<i.length;s++)n.set(String(i[s].key),i[s].text);a.pointCurrentValue.get(t).labels=n}}if("Binary"===e.type&&"textRendererBinary"===e.textRenderer.typeName){var r=new Map;r.set("0",e.textRenderer.zeroLabel),r.set("1",e.textRenderer.oneLabel),a.pointCurrentValue.get(t).labels=r}e.values.forEach((function(t){a.addValue(t,e.name,a.pointPastValues)})),o("done")}))}))}},{key:"setupChart",value:function(t){this.chart.data="compare"===t?this.prepareCompareChartData(Ui["a"].sortMapKeys(this.pointPastValues)):Ui["a"].prepareChartData(Ui["a"].sortMapKeys(this.pointPastValues))}},{key:"prepareCompareChartData",value:function(t){var e=[],i=void 0;return t.forEach((function(t,n){var s;t.forEach((function(t){void 0===i&&(i=t.name),s=i===t.name?'{"date":'.concat(n,', "').concat(t.name,'":').concat(t.value,"}"):'{"date2":'.concat(n,', "').concat(t.name,'":').concat(t.value,"}"),e.push(JSON.parse(s))}))})),e}}]),i}(Ui["a"]),zi={legend:{},cursor:{},scrollbarX:{type:"Scrollbar"},xAxes:[{id:"dateAxis1",type:"DateAxis",dataFields:{value:"date"},dateFormats:{second:"HH:mm:ss",minute:"HH:mm:ss",hour:"HH:mm",day:"MMM dd"},groupData:!0,groupCount:500},{id:"dateAxis2",type:"DateAxis",dataFields:{value:"date2"},dateFormats:{second:"HH:mm:ss",minute:"HH:mm:ss",hour:"HH:mm",day:"MMM dd"}}],yAxes:[{id:"valueAxis1",type:"ValueAxis",dataFields:{value:"01"}},{id:"valueAxis2",type:"ValueAxis",syncWithAxis:"valueAxis1",dataFields:{value:"01"}},{id:"logAxis",type:"ValueAxis",logarithmic:!0,dataFields:{value:"01"}},{id:"binAxis",type:"ValueAxis",dataFields:{value:"01"},syncWithAxis:"valueAxis1",renderer:{opposite:!0}}],series:[],exporting:{menu:{align:"right",verticalAlign:"top"},filePrefix:"Scada_Chart_"+String((new Date).getTime())}},Yi={id:void 0,name:void 0,type:void 0,stroke:void 0,fill:void 0,yAxis:void 0,tooltipText:void 0,strokeWidth:3,fillOpacity:0,xAxis:"dateAxis1",minBulletDistance:15,tensionX:1,startLocation:.5,dataFields:{dateX:"date",valueY:void 0},tooltip:{pointerOrientation:"vertical",background:{fill:"#F00",cornerRadius:20,strokeOpacity:0},label:{minWidth:40,minHeight:40,textAlign:"middle",textValign:"middle"}},bullets:[{type:"CircleBullet",circle:{radius:0,strokeWidth:2}}]},Gi=["#39B54A","#69FF7D","#166921","#690C24","#B53859","#734FC1"],qi={name:"WatchListJsonChart",components:{ChartSettingsLiveComponent:pi,ChartSettingsStaticComponent:_i,ChartSeriesSettingsComponent:Di,ChartSettingsCompareComponent:Ri},props:["pointId","watchlistName","rangeValue","rangeColor","rangeLabel","showReload","jsonConfig"],data:function(){return{chartType:"live",chartClass:void 0,chartProperties:void 0,chartConfiguration:void 0,chartSeries:[],activeColor:0}},mounted:function(){this.init()},methods:{initChart:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.chartConfiguration=this.copyObject(zi),e=this.loadChart(),console.log(e),this.loadAggregation(),!e){t.next=9;break}this.chartSeries=this.copyObject(e),this.chartConfiguration.series=this.copyObject(e),t.next=11;break;case 9:return t.next=11,this.initChartSeries();case 11:return this.chartClass=new Wi(this.$refs.chartdiv,null,".",this.chartConfiguration),t.next=14,this.initChartData();case 14:this.chartClass.setupChart(this.chartType),this.chartProperties.refreshRate&&this.initLiveChart();case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initChartSeries:function(){var t=this;return console.debug("WLJCH::initChartSeries::Initializing chart series..."),new Promise((function(e){var i=[];if("compare"==t.chartProperties.type)t.chartProperties.comparePoints.forEach((function(e){i.push(t.initChartSeriesPoint(e.pointId))}));else{var n=t.pointId.split(",");n.forEach((function(e){i.push(t.initChartSeriesPoint(e))}))}Promise.all(i).then((function(){console.debug("WLJCH::initChartSeries::Series loaded!"),t.chartConfiguration.series=t.copyObject(t.chartSeries),e(!0)}))}))},initChartSeriesPoint:function(t){var e=this;return new Promise((function(i){ci.a.get("./api/point_value/getValue/id/".concat(t)).then((function(n){var s=e.copyObject(Yi);s.id="s".concat(t),s.stroke=Gi[e.activeColor%Gi.length],s.fill=Gi[e.activeColor%Gi.length],"MultistateValue"==n.data.type?s.tooltipText="{name}: [bold]{valueY}[/]":s.tooltipText="{name}: [bold]{valueY}[/] "+n.data.textRenderer.suffix,s.name=n.data.name,s.dataFields.valueY=n.data.name,e.activeColor++,"NumericValue"==n.data.type?(s.yAxis="valueAxis1",s.type="LineSeries"):"BinaryValue"==n.data.type&&(s.yAxis="binAxis",s.type="StepLineSeries"),"compare"==e.chartType&&e.dualAxis&&(s.xAxis="dateAxis2",s.dataFields.dateX="date2",e.dualAxis=!1),"compare"!=e.chartType||e.dualAxis||(e.dualAxis=!0),e.chartSeries.push(s),i(!0)}))}))},initChartData:function(){var t=this;return console.debug("WLJCH::initChartData::Initializing chart data..."),new Promise((function(e){var i=[];if("compare"==t.chartProperties.type)t.chartProperties.comparePoints.forEach((function(e){i.push(t.chartClass.loadData(e.pointId,e.startDate,e.endDate,!1))}));else{var n=t.pointId.split(",");n.forEach((function(e){i.push(t.chartClass.loadData(e,t.chartProperties.startDate,t.chartProperties.endDate,!1))}))}Promise.all(i).then((function(){console.debug("WLJCH::initChartData::Data loaded!"),e(!0)}))}))},initLiveChart:function(){this.chartClass.startLiveUpdate(Number(this.chartProperties.refreshRate),!1)},loadChart:function(){console.debug("WLJCH::loadChart::Loading chart from memory...");var t=JSON.parse(localStorage.getItem("MWL_".concat(this.watchlistName)));if(t){var e=JSON.parse(localStorage.getItem("MWL_".concat(this.watchlistName,"_P"))).type;e&&(this.chartType=e),"live"==this.chartType?this.$refs.csLiveComponent.loadSettings():"static"==this.chartType?this.$refs.csStaticComponent.loadSettings():"compare"==this.chartType&&this.$refs.csCompareComponent.loadSettings(),this.applySettings(),console.debug("WLJCH::loadChart::Chart loaded!")}else console.debug("WLJCH::loadChart::Chart was not loaded :(");return t},saveChart:function(){console.debug("WLJCH::saveChart::Saving chart to memory..."),this.chartSeries&&0!=this.chartSeries.length&&localStorage.setItem("MWL_".concat(this.watchlistName),JSON.stringify(this.chartSeries)),console.debug("WLJCH::saveChart::Saved!")},loadAggregation:function(){var t=JSON.parse(localStorage.getItem("MWL_".concat(this.watchlistName,"_A")));t?(this.chartConfiguration.xAxes[0].groupData=t.aggregate,this.chartConfiguration.xAxes[0].groupCount=t.count,console.debug("WLJCH::loadAggregation::Aggregation detected!",t)):console.debug("WLJCH::loadAggregation::Aggregation not detected - using default settings.")},applySettings:function(){"live"===this.chartType?this.chartProperties=this.copyObject(this.$refs.csLiveComponent.applySettings()):"static"===this.chartType?this.chartProperties=this.copyObject(this.$refs.csStaticComponent.applySettings()):"compare"===this.chartType&&(this.chartProperties=this.copyObject(this.$refs.csCompareComponent.applySettings()))},updateSettings:function(){this.applySettings(),this.saveChart(),this.chartSeries&&(this.chartSeries=[]),this.initChart()},seriesDetailsSaved:function(t){this.chartSeries=this.copyObject(t),this.updateSettings()},copyObject:function(t){return JSON.parse(JSON.stringify(t))},init:function(){this.loadChart()&&this.initChart()},reset:function(){var t=this;return new Promise((function(e,i){try{t.chartClass&&t.chartClass.chart.dispose(),t.chartClass=null,t.pointId=null,t.chartSeries=[],e(!0)}catch(n){i(n)}}))}},beforeDestroy:function(){this.chartClass.chart.dispose()}},Xi=qi,Ki=(i("6f5d"),Object(d["a"])(Xi,ai,oi,!1,null,"33fb0275",null)),Ji=Ki.exports,Zi={name:"WatchListChartWidget",components:{WatchListJsonChart:Ji},data:function(){return{pointId:[],watchlistName:void 0,visible:!1}},mounted:function(){this.$nextTick((function(){window.addEventListener("watchListChanged",this.watchListChanged)}))},methods:{watchListChanged:function(t){this.addNewChart()},addNewChart:function(){var t=this;this.visible=!1;var e=[],i=document.getElementById("watchListTable");this.watchlistName=document.getElementById("newWatchListName").value;for(var n=0;n<i.childElementCount;n++){var s=i.children.item(n).id;document.getElementById("".concat(s,"ChartCB")).checked&&e.push(s.slice(1))}this.pointId=e.toString(),this.visible=!0;try{this.$refs.jsonChart.reset().then((function(){t.$refs.pointId=t.pointId,t.$refs.jsonChart.init()}))}catch(a){console.error(a)}}},beforeDestroy:function(){window.removeEventListener("watchListChanged",this.watchListChanged)}},Qi=Zi,tn=(i("a47b"),Object(d["a"])(Qi,ni,si,!1,null,"bc1ed42e",null)),en=tn.exports,nn=i("415c"),sn=i.n(nn),an=i("07e37"),on=i("d2c6"),rn=(i("bbb4"),i("ad3d")),cn=i("ecee"),ln=i("c074"),dn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},un=[],mn={name:"refresh-view",props:["ptimeToCheckRefresh","pviewId"],data:function(){return{timeToCheckRefresh:this.ptimeToCheckRefresh,viewId:this.pviewId,lastTModification:0}},methods:{check:function(){var t=this;this.$store.dispatch("checkViewModificationTime",this.viewId).then((function(e){0==t.lastTModification?t.lastTModification=e.data.mtime:t.lastTModification<e.data.mtime&&location.reload()})).catch((function(t){console.log(t)}))}},created:function(){},mounted:function(){(void 0==this.timeToCheckRefresh||this.timeToCheckRefresh>5e3)&&(this.timeToCheckRefresh=5e3),void 0!=this.viewId&&this.viewId>0?setInterval(function(){this.check(this.id)}.bind(this),this.timeToCheckRefresh):console.log("Err get viewId"),setInterval(function(){this.check(this.id)}.bind(this),this.timeToCheckRefresh)}},hn=mn,pn=Object(d["a"])(hn,dn,un,!1,null,null,null),gn=pn.exports,vn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"panel-body"},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],attrs:{type:"text",name:"url",id:"url",placeholder:"example.com",pattern:".*",size:"30",required:""},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})]),i("div",[t.enable_save?i("btn",{attrs:{size:"xs",type:"success"},on:{click:function(e){return t.save()}}},[t._v("Save")]):t._e(),t.enable_save?t._e():i("btn",{attrs:{id:"dis_btn_sms_dom",size:"xs",type:"light"}},[t._v("Save")]),t.enable_save?t._e():i("tooltip",{attrs:{text:"I have nothing to write down",target:"#dis_btn_sms_dom"}})],1)])},fn=[],yn={data:function(){return{url:"",url_save:"",enable_save:!1}},methods:{save:function(){var t=this,e="./api/systemSettings/saveSMSDomain/".concat(this.url);console.log("test ".concat(this.url)),console.log("api:".concat(e)),ci.a.post(e).then((function(e){console.log("post request ".concat(t.url)),t.url_save=t.url})).catch((function(t){console.error(t)}))},load:function(){var t=this,e="./api/systemSettings/getSMSDomain";ci.a.get(e).then((function(e){t.url=e.data,t.url_save=e.data,console.log("response url:".concat(t.url,", url_save:").concat(t.url_save))})).catch((function(t){console.error(t)}))}},mounted:function(){this.load()},watch:{url:function(t){console.log("watch ".concat(t,", url_sava:").concat(this.url_save)),t!=this.url_save?this.enable_save=!0:this.enable_save=!1}}},bn=yn,_n=(i("7c35"),Object(d["a"])(bn,vn,fn,!1,null,"452f719d",null)),Sn=_n.exports,wn=i("f309");n["default"].use(wn["a"]);var xn=new wn["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#458E23",secondary:"#404041",accent:"#8F248A",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}});i("d5e8"),i("5363");cn["c"].add(ln["c"],ln["h"],ln["a"],ln["b"],ln["e"],ln["f"],ln["g"],ln["d"]),n["default"].component("font-awesome-icon",rn["a"]),n["default"].component(xi["a"].name,xi["a"]);var Tn=!0,Cn={isEnabled:!0,logLevel:Tn?"error":"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"|",showConsoleColors:!0};n["default"].use(Je.a,Cn);var En={name:"lodash"};n["default"].use(sn.a,En),n["default"].use(Ge),n["default"].use(Xe.a),n["default"].config.devtools=!0,new n["default"]({router:Ye,store:r["a"],i18n:ot,vuetify:xn,render:function(t){return t(k)}}).$mount("#app"),void 0!=window.document.getElementById("app-test")&&new n["default"]({render:function(t){return t(Ze["a"],{props:{plabel:window.document.getElementById("app-test").getAttribute("plabel")}})}}).$mount("#app-test"),void 0!=window.document.getElementById("app-isalive")&&new n["default"]({store:r["a"],render:function(t){return t(bt["a"],{props:{plabel:window.document.getElementById("app-isalive").getAttribute("plabel"),ptimeWarning:window.document.getElementById("app-isalive").getAttribute("ptime-warning"),ptimeError:window.document.getElementById("app-isalive").getAttribute("ptime-error"),ptimeRefresh:window.document.getElementById("app-isalive").getAttribute("ptime-refresh")}})}}).$mount("#app-isalive");for(var Dn=function(t){var e="app-cmp-".concat(t);void 0!=window.document.getElementById(e)&&new n["default"]({render:function(t){return t(Qe["a"],{store:r["a"],props:{pLabel:window.document.getElementById(e).getAttribute("plabel"),pTimeRefresh:window.document.getElementById(e).getAttribute("ptimeRefresh"),pConfig:window.document.getElementById(e).getAttribute("pconfig"),pxIdViewAndIdCmp:window.document.getElementById(e).getAttribute("pxIdViewAndIdCmp")}})}}).$mount("#"+e)},An=0;An<20;An++)Dn(An);void 0!=window.document.getElementById("simple-component-svg")&&new n["default"]({render:function(t){return t(ti["a"],{props:{pxidPoint:window.document.getElementById("simple-component-svg").getAttribute("pxidPoint"),ptimeRefresh:window.document.getElementById("simple-component-svg").getAttribute("ptimeRefresh"),plabel:window.document.getElementById("simple-component-svg").getAttribute("plabel"),pvalue:window.document.getElementById("simple-component-svg").getAttribute("pvalue")}})}}).$mount("#simple-component-svg"),void 0!=window.document.getElementById("sleep-reactivation-ds")&&new n["default"]({render:function(t){return t(ii["a"])}}).$mount("#sleep-reactivation-ds"),void 0!=window.document.getElementById("sms-domain")&&new n["default"]({render:function(t){return t(Sn)}}).$mount("#sms-domain"),void 0!=window.document.getElementById("export-import-ph")&&new n["default"]({render:function(t){return t(ei["a"])}}).$mount("#export-import-ph"),void 0!=window.document.getElementById("example-chart-cmp")&&new n["default"]({store:r["a"],i18n:ot,render:function(t){return t(en)}}).$mount("#example-chart-cmp");for(var Pn=function(t){var e="chart-step-line-".concat(t);void 0!=window.document.getElementById(e)&&new n["default"]({render:function(t){return t(an["a"],{props:{pointId:window.document.getElementById(e).getAttribute("point-id"),pointXid:window.document.getElementById(e).getAttribute("point-xid"),color:window.document.getElementById(e).getAttribute("color"),label:window.document.getElementById(e).getAttribute("label"),startDate:window.document.getElementById(e).getAttribute("start-date"),endDate:window.document.getElementById(e).getAttribute("end-date"),refreshRate:window.document.getElementById(e).getAttribute("refresh-rate"),width:window.document.getElementById(e).getAttribute("width"),height:window.document.getElementById(e).getAttribute("height"),polylineStep:window.document.getElementById(e).getAttribute("polyline-step"),rangeValue:window.document.getElementById(e).getAttribute("range-value"),rangeColor:window.document.getElementById(e).getAttribute("range-color"),rangeLabel:window.document.getElementById(e).getAttribute("range-label"),showScrollbarX:window.document.getElementById(e).getAttribute("show-scrollbar-x"),showScrollbarY:window.document.getElementById(e).getAttribute("show-scrollbar-y"),showLegend:window.document.getElementById(e).getAttribute("show-legned")}})}}).$mount("#".concat(e))},kn=0;kn<10;kn++)Pn(kn);for(var In=function(t){var e="chart-line-".concat(t);void 0!=window.document.getElementById(e)&&new n["default"]({render:function(t){return t(on["a"],{props:{pointId:window.document.getElementById(e).getAttribute("point-id"),pointXid:window.document.getElementById(e).getAttribute("point-xid"),color:window.document.getElementById(e).getAttribute("color"),label:window.document.getElementById(e).getAttribute("label"),startDate:window.document.getElementById(e).getAttribute("start-date"),endDate:window.document.getElementById(e).getAttribute("end-date"),refreshRate:window.document.getElementById(e).getAttribute("refresh-rate"),width:window.document.getElementById(e).getAttribute("width"),height:window.document.getElementById(e).getAttribute("height"),polylineStep:window.document.getElementById(e).getAttribute("polyline-step"),rangeValue:window.document.getElementById(e).getAttribute("range-value"),rangeColor:window.document.getElementById(e).getAttribute("range-color"),rangeLabel:window.document.getElementById(e).getAttribute("range-label"),showScrollbarX:window.document.getElementById(e).getAttribute("show-scrollbar-x"),showScrollbarY:window.document.getElementById(e).getAttribute("show-scrollbar-y"),showLegend:window.document.getElementById(e).getAttribute("show-legned")}})}}).$mount("#".concat(e))},On=0;On<10;On++)In(On);void 0!=window.document.getElementById("refresh-view")&&new n["default"]({store:r["a"],render:function(t){return t(gn,{props:{ptimeToCheckRefresh:window.document.getElementById("refresh-view").getAttribute("ptimeToCheckRefresh"),pviewId:window.document.getElementById("refresh-view").getAttribute("pviewId")}})}}).$mount("#refresh-view"),void 0!=window.document.getElementById("live-alarms")&&(console.log("test+ ".concat(window.document.getElementById("live-alarms").getAttribute("show-acknowledge-btn"))),new n["default"]({store:r["a"],render:function(t){return t(N["a"],{props:{pShowAcknowledgeBtn:window.document.getElementById("live-alarms").getAttribute("show-acknowledge-btn"),pShowMainToolbar:window.document.getElementById("live-alarms").getAttribute("show-main-toolbar"),pShowSelectToAcknowledge:window.document.getElementById("live-alarms").getAttribute("show-select-to-acknowledge"),pShowPagination:window.document.getElementById("live-alarms").getAttribute("show-pagination"),pMaximumNumbersOfRows:window.document.getElementById("live-alarms").getAttribute("max-number-of-rows")}})}}).$mount("#live-alarms"))},"58f0":function(t,e,i){},"5f26":function(t,e,i){"use strict";i("a953")},"6ce2":function(t){t.exports=JSON.parse('{"uiv.enable":"Aktiviert","uiv.disable":"Behindert","uiv.modal.cancel":"Stornieren","plcalarms.fault.inactive":"Störung ist gegangen","plcalarms.fault.active":"Störung kommt","plcalarms.fault.acknowledge":"Fault acknowledge","plcalarms.alarm.inactive":"Alarm ist gegangen","plcalarms.alarm.active":"Alarm ausgelöst","plcalarms.alarm.acknowledge":"Alarm acknowledge","plcalarms.notification":"Alarmbenachrichtigungen","plcalarms.notification.title":"Benachrichtigungsliste für SPS-Alarme","plcalarms.notification.select.mailinglist":"Mailingliste auswählen","plcalarms.notification.select.mailinglist.hint.1":"Benachrichtigen Sie Benutzer über die Mailingliste","plcalarms.notification.select.mailinglist.hint.2":"Vergleichen Sie die Konfiguration, indem Sie eine zweite Liste auswählen","plcalarms.notification.settings.title":"Einstellungen","plcalarms.notification.settings.ped.title":"Vorlage für den Punktereignisdetektor","plcalarms.notification.settings.ped.alias":"Alias für Punktereignisdetektor","plcalarms.notification.settings.ped.alarmLevel":"Alarmstufe","plcalarms.notification.settings.ped.duration":"Dauer, um das Ereignis zu erhöhen","plcalarms.notification.settings.ped.duration.type":"Dauer Typ","plcalarms.notification.settings.ped.binary":"Binärzustand","plcalarms.notification.settings.eh.title":"Event-Handler-Vorlage","plcalarms.notification.settings.eh.xid":"Export-ID des Ereignishandlers","plcalarms.notification.settings.eh.alias":"Event-Handler-Alias","plcalarms.notification.settings.eh.disable":"Beim Erstellen deaktivieren","about":"Dies ist eine Über-Seite (i18n test) locales","systemsettings.title":"Systemeinstellungen","systemsettings.info.title":"System Konfiguration","systemsettings.info.systemtime":"Scada-LTS-Betriebszeit","systemsettings.info.uiversion":"Version der Benutzeroberfläche","systemsettings.info.tag":"Scada-LTS neueste GitHub-Version","systemsettings.info.milestone":"Scada-LTS Build-Version","systemsettings.info.branch":"Build aus GitHub-Zweig","systemsettings.info.instance":"Instance description","systemsettings.info.language":"Sprache","systemsettings.event.title":"Alarmprioritäten des Systems","systemsettings.event.system":"System startup","systemsettings.audit.title":"Alarm Prioritäten des Audits","systemsettings.http.title":"Http","systemsettings.http.proxy.useProxy":"Proxy","systemsettings.http.proxy.enable":"Aktivieren proxy","systemsettings.http.proxy.disable":"Deaktivieren proxy","systemsettings.http.proxy.host":"Proxy host","systemsettings.http.proxy.port":"Proxy port","systemsettings.http.proxy.username":"Benutzername","systemsettings.http.proxy.password":"Password","systemsettings.database.title":"Datenbankinformationen","systemsettings.database":"Using Database","systemsettings.database.mysql":"MySQL","systemsettings.database.derby":"Derby","systemsettings.database.size":"Größe der Datenbank","systemsettings.database.file":"Datendateigröße","systemsettings.database.total":"Gesamte Größe","systemsettings.database.histroy":"Gespeicherte Zeitstempel","systemsettings.database.top":"Meistgesehene Datenpunkte","systemsettings.database.event":"Gespeicherte Ereignisse","systemsettings.database.schemaVersion":"Datenbankschema-Version","systemsettings.email.title":"Email","systemsettings.email.host":"SMTP host","systemsettings.email.port":"SMTP port","systemsettings.email.address":"\'Von\' Adresse","systemsettings.email.name":"\'Von\' Name","systemsettings.email.auth":"Genehmigung","systemsettings.email.auth.enable":"Aktivieren Genehmigung","systemsettings.email.auth.disable":"Deaktivieren Genehmigung","systemsettings.email.username":"Benutzername","systemsettings.email.password":"Passwort","systemsettings.email.tls":"TLS","systemsettings.email.tls.enable":"Aktivieren TLS","systemsettings.email.tls.disable":"Deaktivieren TLS","systemsettings.email.contentType":"Content type","systemsettings.email.contenttype.htmltext":"HTML and text","systemsettings.email.contenttype.html":"HTML only","systemsettings.email.contenttype.text":"Text only","systemsettings.misc.title":"Verschiedenes","systemsettings.misc.uiPerformance":"Aktualisierungsgeschwindigkeit der Benutzeroberfläche","systemsettings.misc.performance.high":"Schnell","systemsettings.misc.performance.medium":"Normal","systemsettings.misc.performance.low":"Langsam","systemsettings.misc.purge.events":"Lösche alle Ereignisse","systemsettings.misc.purge.reports":"Lösche alle erstellten Reports älter als","systemsettings.misc.purge.future":"Discard point values future dated more than","systemsettings.misc.eventPurgePeriodType":"Typ des Bereinigungsereigniszeitraums","systemsettings.misc.eventPurgePeriods":"Ereigniszeit löschen","systemsettings.misc.reportPurgePeriodType":"Typ des Bereinigungsberichtszeitraums","systemsettings.misc.reportPurgePeriods":"Berichtszeit bereinigen","systemsettings.misc.futureDateLimitPeriodType":"Typ des zukünftigen Datumsbegrenzungszeitraums","systemsettings.misc.futureDateLimitPeriods":"Zukünftiges Datumslimit","systemsettings.scadaconf.title":"Scada-LTS-Umgebungseinstellungen","systemsettings.scadaconf.apiReplaceAlertOnView":"Ersetzen Sie die angezeigte Warnung","systemsettings.scadaconf.cacheEnable":"Event cache","systemsettings.scadaconf.startUpdateUnsilencedAlarmLevel":"Starten Sie die Aktualisierung der nicht stummgeschalteten Alarmstufe","systemsettings.scadaconf.startUpdateEventDetectors":"Starten Sie Update Event Detectors","systemsettings.scadaconf.startUpdatePendingEvents":"Starten Sie die Aktualisierung ausstehender Ereignisse","systemsettings.scadaconf.millisSecondsPeriodUpdateUnsilencedAlarmLevel":"Periodenaktualisierung für nicht gedämpfte Alarmstufe","systemsettings.scadaconf.millisSecondsPeriodUpdateEventDetectors":"Periodenaktualisierung für Ereignisdetektoren","systemsettings.scadaconf.millisSecondsPeriodUpdatePendingEvents":"Periodenaktualisierung für Penging-Ereignisse","systemsettings.scadaconf.croneUpdateCachePointHierarchy":"Periodenaktualisierung für Punkthierarchie (crone)","systemsettings.scadaconf.croneUpdateDataSourcesPoints":"Periodenaktualisierung für Datenquellenpunkte (crone)","systemsettings.scadaconf.useCacheDataSourcePointsWhenSystemIsReady":"Verwenden Sie Cache-Datenquellenpunkte, wenn das System bereit ist","systemsettings.scadaconf.useAcl":"Verwenden Sie die Zugriffssteuerungsliste","systemsettings.scadaconf.aclServer":"Zugriffskontrolllistenserver","systemsettings.scadaconf.doNotCreateEventsForEmailError":"Erstellen Sie keine Ereignisse für E-Mail-Fehler","systemsettings.scadaconf.httpRetriverSleepCheckToReactivationWhenStart":"HTTP Retriver - Schlafprüfung zur Reaktivierung beim Start","systemsettings.scadaconf.httpRetriverDoNotAllowEnableReactivation":"HTTP-Retriver - Reaktivierung nicht aktivieren","systemsettings.notification.fail":"Etwas ist schief gelaufen!","systemsettings.notification.purgedata":"Daten erfolgreich gelöscht!","systemsettings.notification.send.email":"E-Mail wurde gesendet an ","systemsettings.notification.save.systeminfo":"Systeminfo-Einstellungen gespeichert!","systemsettings.notification.save.email":"E-Mail-Einstellungen gespeichert!","systemsettings.notification.save.http":"HTTP-Einstellungen gespeichert!","systemsettings.notification.save.misc":"Andere Einstellungen gespeichert!","systemsettings.notification.save.systemevent":"System Event Types Settings saved!","systemsettings.notification.save.auditevent":"Audit Event Types Settings saved!","systemsettings.notification.save.database":"Database changed!","systemsettings.alert.purgedata.title":"Daten löschen?","systemsettings.alert.purgedata":"Durch diesen Vorgang werden Datenpunktverlaufsinhalte dauerhaft gelöscht. Fortsetzen?","systemsettings.tooltip.derbydatabase":"Die Derby-Datenbank ist in dieser ScadaLTS-Version nicht verfügbar!","systemsettings.tooltip.purgedata":"Löschen Sie die Zustimmung zum historischen Datenpunkt","systemsettings.tooltip.scadaconf":"Scada-LTS-Konfiguration aus Datei \'env.properties\' geladen","systemsettings.tooltip.sendtestemail":"Senden Sie eine Testnachricht mit der zuletzt gespeicherten Konfiguration an Ihre eigene E-Mail-Adresse.","systemsettings.label.save":"Speichern","systemsettings.label.saveall":"Alle Änderungen speichern","systemsettings.label.restoreall":"Alles wiederherstellen","systemsettings.label.restore":"Wiederherstellen","systemsettings.label.summary":"Zusammenfassung","event.system.startup":"Mango gestartet","event.system.shutdown":"Mango beendet","event.system.maxAlarmChanged":"Höchste Alarm Priorit hat sich geändert","event.system.userLogin":"Benutzer angemeldet","event.system.compound":"Fehler bei der Ereignisverknüpfung","event.system.setPoint":"Fehler beim Setzen eines Datenpunktes","event.system.email":"Email konnte nicht gesendet werden","event.system.pointLink":"Fehler bei der Datenpunktverkn pfund","event.system.process":"Process event handler failure","event.audit.dataSource":"Datenquelle","event.audit.dataPoint":"Datenpunkt","event.audit.pointEventDetector":"Point event detector","event.audit.compoundEventDetector":"Compound event detector","event.audit.scheduledEvent":"Scheduled event","event.audit.eventHandler":"Event handler","event.audit.pointLink":"Point link","event.audit.maintenanceEvent":"Maintenance event","alarmlevels.none":"Keine(r)","alarmlevels.information":"Information","alarmlevels.urgent":"Dringend","alarmlevels.critical":"Kritisch","alarmlevels.lifesafety":"Labensgefahr","timeperiod.seconds":"second(s)","timeperiod.minutes":"Minute(n)","timeperiod.hours":"Stunde(n)","timeperiod.days":"Tag(e)","timeperiod.weeks":"Woche(n)","timeperiod.months":"Monat(e)","timeperiod.years":"Jahr(e)"}')},"6f5d":function(t,e,i){"use strict";i("5352")},"7c35":function(t,e,i){"use strict";i("58f0")},8477:function(t,e,i){},"864c":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[t._v("TEST!!!! "+t._s(t.label))])])},s=[],a={name:"test",props:["plabel"],data:function(){return{label:this.plabel}}},o=a,r=i("0c7c"),c=Object(r["a"])(o,n,s,!1,null,null,null);e["a"]=c.exports},a47b:function(t,e,i){"use strict";i("ee0e")},a833:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_radeksq_IdeaProjects_Scada_LTS_Radek_scadalts_ui_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7618"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_1__),_home_radeksq_IdeaProjects_Scada_LTS_Radek_scadalts_ui_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b0b4"),_home_radeksq_IdeaProjects_Scada_LTS_Radek_scadalts_ui_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d225"),moment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("c1df"),moment__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__),axios__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__),vue_underscore__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("f2ef"),uiv_src_components_button_BtnGroup__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("29aa"),_HistoryCMP__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("150f"),ChangeDataDTO=function t(e,i,n,s){Object(_home_radeksq_IdeaProjects_Scada_LTS_Radek_scadalts_ui_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["a"])(this,t),this.xid=e,this.value=i,this.resultOperationSave=n,this.error=s},ApiCMP=function(){function t(){Object(_home_radeksq_IdeaProjects_Scada_LTS_Radek_scadalts_ui_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__["a"])(this,t)}return Object(_home_radeksq_IdeaProjects_Scada_LTS_Radek_scadalts_ui_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__["a"])(t,[{key:"get",value:function(t){return new Promise((function(e,i){try{var n="./api/cmp/get/".concat(t);if(t.length>0)axios__WEBPACK_IMPORTED_MODULE_5___default.a.get(n,{timeout:5e3}).then((function(t){e(t)})).catch((function(t){i(t)}));else{var s=new Error("Probably not have data");i(s)}}catch(a){i(a)}}))}},{key:"set",value:function(t,e,i){return new Promise((function(n,s){try{if(t.length>0)axios__WEBPACK_IMPORTED_MODULE_5___default()({method:"post",url:"./api/cmp/set/".concat(e,"/").concat(i),headers:{},timeout:5e3,data:t}).then((function(t){n(t)})).catch((function(t){s(t)}));else{var a=new Error("Probably not have data");s(a)}}catch(o){s(o)}}))}}]),t}();__webpack_exports__["a"]={components:{BtnGroup:uiv_src_components_button_BtnGroup__WEBPACK_IMPORTED_MODULE_7__["a"],HistoryCMP:_HistoryCMP__WEBPACK_IMPORTED_MODULE_8__["a"]},props:["pConfig","pLabel","pTimeRefresh","pxIdViewAndIdCmp"],data:function(){return{openModalWithHistory:!1,show:!1,errors:[],newErrors:[],errorResultingFromOperationControl:"",errorsNotification:!1,strConfig:this.pConfig,config:{},insideState:"NOT-CHECKED",label:this.pLabel,timeRefresh:this.pTimeRefresh,controlsLevel0:[],controlsLevel1:[],selectActionLevel0:"",selectActionLevel1:"",disabledChange:!1,processOfCheckingTheStatus:!1,counterForAnaliseInOrder:-1,showFaultV:!1,checkIfThereAreSharesToConfirmValue:!0,xIdViewAndIdCmp:this.pxIdViewAndIdCmp}},methods:{endChecking:function(){this.insideState=this.config.state.analiseInOrder[this.counterForAnaliseInOrder].name,this.disabledChange=!!this.config.state.analiseInOrder[this.counterForAnaliseInOrder].disable,this.disabledChange&&(this.show=!1,1==this.showFaultV&&(this.showFaultV=!1,this.newErrors=[])),this.processOfCheckingTheStatus=!1,this.counterForAnaliseInOrder=-1,this.checkToNotificationError()},checkToNotificationError:function(){this.errorsNotification==this.newErrors.length>0&&this.errorsNotification==this.errorResultingFromOperationControl.length>0||(this.errorsNotification=this.newErrors.length>0||this.errorResultingFromOperationControl.length>0),this.errors=this.newErrors,this.errorResultingFromOperationControl.length>0&&this.errors.push(this.errorResultingFromOperationControl),this.newErrors=[],this.errorResultingFromOperationControl=""},setErrorAndStopAnaliseInOrder:function(t){this.newErrors.push(t),this.insideState="Error",this.processOfCheckingTheStatus=!1,this.counterForAnaliseInOrder=-1},setErrorAndNotification:function(t){this.errorResultingFromOperationControl=t,this.insideState="Error",this.checkToNotificationError()},showFault:function(){this.showFaultV=!this.showFaultV,this.checkStatus()},checkStatus:function(){this.newErros=[],this.counterForAnaliseInOrder=0,this.processOfCheckingTheStatus=!1},setActionLeve0:function(t){var e=this,i=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(this.controlsLevel0,{name:t}),n=!!i.runDirectlyBeforeShowSubMenu;if(1==n){for(var s=[],a=i.save,o=0;o<a.length;o++){var r=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(this.config.control.definitionPointToSaveValue,{def:a[o].refDefPoint}),c=new ChangeDataDTO(r.xid,a[o].value,"","");s.push(c)}s.length>0&&(new ApiCMP).set(s,this.xIdViewAndIdCmp,t).then((function(i){var n=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(e.controlsLevel0,{name:t});void 0!=n.toChange?e.controlsLevel1!=n.toChange&&(e.controlsLevel1=n.toChange):e.controlsLevel1=[],e.selectActionLevel1=""})).catch((function(t){e.setErrorAndNotification(t.message)}))}else if(this.selectActionLevel0==t)this.selectActionLevel0="";else{this.selectActionLevel0=t;var l=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(this.controlsLevel0,{name:t});void 0!=l.toChange?this.controlsLevel1=l.toChange:this.controlsLevel1=[],this.selectActionLevel1=""}},setActionLevel1:function(t){this.selectActionLevel1==t?this.selectActionLevel1="":this.selectActionLevel1=t},tryChangeModePLC:function(){var t=this,e=[],i=null,n=null;if(""!=this.selectActionLevel1?(i=this.selectActionLevel1,n=this.controlsLevel1):""!=this.selectActionLevel0&&(i=this.selectActionLevel0,n=this.controlsLevel0),null!=i){for(var s=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(n,{name:i}),a=s.save,o=0;o<a.length;o++){var r=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(this.config.control.definitionPointToSaveValue,{def:a[o].refDefPoint}),c=new ChangeDataDTO(r.xid,a[o].value,"","");e.push(c)}e.length>0&&(new ApiCMP).set(e,this.xIdViewAndIdCmp,i).then((function(e){t.show=!1})).catch((function(e){t.setErrorAndNotification(e.message)}))}},checkIfThereAreSharesToConfirm:function(){var t=!1;if("object"===Object(_home_radeksq_IdeaProjects_Scada_LTS_Radek_scadalts_ui_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["a"])(this.controlsLevel1)&&this.controlsLevel1.length>0)t=!0;else for(var e=0;e<this.controlsLevel0.length;e++){var i=!!this.controlsLevel0[e].runDirectlyBeforeShowSubMenu;if(0==i){t=!0;break}}return t},close:function(){this.show=!1}},created:function(){try{this.config=JSON.parse(this.strConfig),this.controlsLevel0=this.config.control.toChange}catch(t){this.setErrorAndNotification(t.message)}this.timeRefresh&&setInterval(function(){try{this.checkStatus()}catch(t){console.log(t)}}.bind(this),this.timeRefresh)},mounted:function(){console.log("CMP pxIdViewAndIdCmp:".concat(this.xIdViewAndIdCmp)),this.checkStatus()},filters:{moment:function(t){return moment__WEBPACK_IMPORTED_MODULE_4___default()(t).format(" hh:mm:ss")}},watch:{show:function(t,e){if(1==t){var i=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(this.controlsLevel0,{name:this.insideState});void 0!=i&&(void 0!=i.toChange?this.controlsLevel1=i.toChange:this.controlsLevel1=[],this.selectActionLevel0=i.name,this.selectActionLevel1="")}},insideState:function(t,e){if(t!=e){var i=vue_underscore__WEBPACK_IMPORTED_MODULE_6__["a"].findWhere(this.controlsLevel0,{name:this.insideState});void 0!=i&&(void 0!=i.toChange?this.controlsLevel1=i.toChange:this.controlsLevel1=[],this.selectActionLevel0=i.name,this.selectActionLevel1="")}},counterForAnaliseInOrder:function counterForAnaliseInOrder(val,oldVal){var _this3=this;if(this.counterForAnaliseInOrder>=0){this.processOfCheckingTheStatus=!0;var points=this.config.state.analiseInOrder[this.counterForAnaliseInOrder].toChecked,name=this.config.state.analiseInOrder[this.counterForAnaliseInOrder].name;if(void 0!=points&&points.length>0){for(var xIDs=[],j=0;j<points.length;j++){if("true"==points[j].last){this.insideState!=name&&(this.insideState=name),this.endChecking();break}xIDs.push(points[j].xid)}xIDs.length>0&&(new ApiCMP).get(xIDs).then((function(response){if(response.data.length>0){for(var toCheck=[],k=0;k<points.length;k++){var entry=points[k];try{for(var z=0;z<response.data.length;z++)if(response.data[z].xid.toUpperCase().trim()==entry.xid.toUpperCase().trim()){entry.value=response.data[z].value,toCheck.push(entry);break}if(void 0==entry.value)return void _this3.setErrorAndStopAnaliseInOrder("The device did not retain data")}catch(e){return void _this3.setErrorAndStopAnaliseInOrder(e.message)}}for(var condition="",e=0;e<toCheck.length;e++){if(1==!!toCheck[e].toNoteError)if(_this3.showFaultV)_this3.newErrors.push(toCheck[e].describe);else{var check=eval("("+toCheck[e].value+toCheck[e].equals+")");1==!!check&&_this3.newErrors.push(toCheck[e].describe)}var bitOperator=void 0!=toCheck[e].bitOperatorToThePreviousCondition?toCheck[e].bitOperatorToThePreviousCondition:"";condition+=bitOperator+"("+toCheck[e].value+toCheck[e].equals+")"}var resultCondition=eval(condition);1==!!resultCondition?_this3.endChecking():_this3.config.state.analiseInOrder.length>_this3.counterForAnaliseInOrder-1&&_this3.counterForAnaliseInOrder++}})).catch((function(t){_this3.setErrorAndNotification(t.message)}))}}},controlsLevel0:function(t,e){this.checkIfThereAreSharesToConfirmValue=this.checkIfThereAreSharesToConfirm()},controlsLevel1:function(t,e){this.checkIfThereAreSharesToConfirmValue=this.checkIfThereAreSharesToConfirm()}}}},a838:function(t,e,i){},a953:function(t,e,i){},ae1b:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"cmp-flex-container"},[i("div",{attrs:{id:"cmp"}},[i("div",{staticClass:"cmp-flex-container"},[i("div",{staticClass:"cmp-flex-label"},[i("div",[t._v(t._s(t.label))]),t.processOfCheckingTheStatus?i("svg",{attrs:{width:"20",height:"10"}},[i("circle",{attrs:{cx:"10",cy:"5",r:"2",fill:"red"}})]):t._e()]),i("div",{staticClass:"cmp-flex-state"},[t._v(t._s(t.insideState))]),t.disabledChange?t._e():i("btn",{staticClass:"cmp-flex-button",on:{click:function(e){t.show=!t.show}}},[i("svg",{staticStyle:{"enable-background":"new 0 0 932.179 932.179"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",width:"17px",height:"17px",viewBox:"0 0 900 900","xml:space":"preserve"}},[i("g",[i("path",{attrs:{d:"M61.2,341.538c4.9,16.8,11.7,33,20.3,48.2l-24.5,30.9c-8,10.1-7.1,24.5,1.9,33.6l42.2,42.2c9.1,9.1,23.5,9.899,33.6,1.899   l30.7-24.3c15.8,9.101,32.6,16.2,50.1,21.2l4.6,39.5c1.5,12.8,12.3,22.4,25.1,22.4h59.7c12.8,0,23.6-9.601,25.1-22.4l4.4-38.1   c18.8-4.9,36.8-12.2,53.7-21.7l29.7,23.5c10.1,8,24.5,7.1,33.6-1.9l42.2-42.2c9.1-9.1,9.9-23.5,1.9-33.6l-23.1-29.3   c9.6-16.601,17.1-34.3,22.1-52.8l35.6-4.1c12.801-1.5,22.4-12.3,22.4-25.1v-59.7c0-12.8-9.6-23.6-22.4-25.1l-35.1-4.1   c-4.801-18.3-12-35.8-21.199-52.2l21.6-27.3c8-10.1,7.1-24.5-1.9-33.6l-42.1-42.1c-9.1-9.1-23.5-9.9-33.6-1.9l-26.5,21   c-17.2-10.1-35.601-17.8-54.9-23l-4-34.3c-1.5-12.8-12.3-22.4-25.1-22.4h-59.7c-12.8,0-23.6,9.6-25.1,22.4l-4,34.3   c-19.8,5.3-38.7,13.3-56.3,23.8l-27.5-21.8c-10.1-8-24.5-7.1-33.6,1.9l-42.2,42.2c-9.1,9.1-9.9,23.5-1.9,33.6l23,29.1   c-9.2,16.6-16.2,34.3-20.8,52.7l-36.8,4.2c-12.8,1.5-22.4,12.3-22.4,25.1v59.7c0,12.8,9.6,23.6,22.4,25.1L61.2,341.538z    M277.5,180.038c54.4,0,98.7,44.3,98.7,98.7s-44.3,98.7-98.7,98.7c-54.399,0-98.7-44.3-98.7-98.7S223.1,180.038,277.5,180.038z",fill:"#FFFFFF"}}),i("path",{attrs:{d:"M867.699,356.238l-31.5-26.6c-9.699-8.2-24-7.8-33.199,0.9l-17.4,16.3c-14.699-7.1-30.299-12.1-46.4-15l-4.898-24   c-2.5-12.4-14-21-26.602-20l-41.1,3.5c-12.6,1.1-22.5,11.4-22.9,24.1l-0.799,24.4c-15.801,5.7-30.701,13.5-44.301,23.3   l-20.799-13.8c-10.602-7-24.701-5-32.9,4.7l-26.6,31.7c-8.201,9.7-7.801,24,0.898,33.2l18.201,19.399   c-6.301,14.2-10.801,29.101-13.4,44.4l-26,5.3c-12.4,2.5-21,14-20,26.601l3.5,41.1c1.1,12.6,11.4,22.5,24.1,22.9l28.1,0.899   c5.102,13.4,11.801,26.101,19.9,38l-15.699,23.7c-7,10.6-5,24.7,4.699,32.9l31.5,26.6c9.701,8.2,24,7.8,33.201-0.9l20.6-19.3   c13.5,6.3,27.699,11,42.299,13.8l5.701,28.2c2.5,12.4,14,21,26.6,20l41.1-3.5c12.6-1.1,22.5-11.399,22.9-24.1l0.9-27.601   c15-5.3,29.199-12.5,42.299-21.399l22.701,15c10.6,7,24.699,5,32.9-4.7l26.6-31.5c8.199-9.7,7.799-24-0.9-33.2l-18.301-19.399   c6.701-14.2,11.602-29.2,14.4-44.601l25-5.1c12.4-2.5,21-14,20-26.601l-3.5-41.1c-1.1-12.6-11.4-22.5-24.1-22.9l-25.1-0.8   c-5.201-14.6-12.201-28.399-20.9-41.2l13.699-20.6C879.4,378.638,877.4,364.438,867.699,356.238z M712.801,593.837   c-44.4,3.801-83.602-29.3-87.301-73.699c-3.801-44.4,29.301-83.601,73.699-87.301c44.4-3.8,83.602,29.301,87.301,73.7   C790.301,550.938,757.199,590.138,712.801,593.837z",fill:"#FFFFFF"}}),i("path",{attrs:{d:"M205,704.438c-12.6,1.3-22.3,11.899-22.4,24.6l-0.3,25.3c-0.2,12.7,9.2,23.5,21.8,25.101l18.6,2.399   c3.1,11.301,7.5,22.101,13.2,32.301l-12,14.8c-8,9.899-7.4,24.1,1.5,33.2l17.7,18.1c8.9,9.1,23.1,10.1,33.2,2.3l14.899-11.5   c10.5,6.2,21.601,11.101,33.2,14.5l2,19.2c1.3,12.6,11.9,22.3,24.6,22.4l25.301,0.3c12.699,0.2,23.5-9.2,25.1-21.8l2.3-18.2   c12.601-3.101,24.601-7.8,36-14l14,11.3c9.9,8,24.101,7.4,33.201-1.5l18.1-17.7c9.1-8.899,10.1-23.1,2.301-33.2L496.6,818.438   c6.6-11,11.701-22.7,15.201-35l16.6-1.7c12.6-1.3,22.299-11.9,22.4-24.6l0.299-25.301c0.201-12.699-9.199-23.5-21.799-25.1   l-16.201-2.1c-3.1-12.2-7.699-24-13.699-35l10.1-12.4c8-9.9,7.4-24.1-1.5-33.2l-17.699-18.1c-8.9-9.101-23.102-10.101-33.201-2.3   l-12.101,9.3c-11.399-6.9-23.6-12.2-36.399-15.8l-1.601-15.7c-1.3-12.601-11.899-22.3-24.6-22.4l-25.3-0.3   c-12.7-0.2-23.5,9.2-25.101,21.8l-2,15.601c-13.199,3.399-25.899,8.6-37.699,15.399l-12.5-10.2c-9.9-8-24.101-7.399-33.201,1.5   l-18.2,17.801c-9.1,8.899-10.1,23.1-2.3,33.199l10.7,13.801c-6.2,11-11.1,22.699-14.3,35L205,704.438z M368.3,675.837   c36.3,0.4,65.399,30.301,65,66.601c-0.4,36.3-30.301,65.399-66.601,65c-36.3-0.4-65.399-30.3-65-66.601   C302.1,704.538,332,675.438,368.3,675.837z",fill:"#FFFFFF"}})])])])],1)])]),i("div",{staticClass:"cmp-flex-container-columns"},[i("collapse",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("div",{staticClass:"cmp-well"},[i("btn-group",[i("btn",{staticClass:"close cmp_close",attrs:{"arial-label":"Close"},on:{click:t.close}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])],1),i("section",[i("btn-group",t._l(t.controlsLevel0,(function(e){return i("div",{key:e.xid},[i("btn",{staticClass:"cmp-flex-container-columns",class:[{cmp_selected:t.selectActionLevel0==e.name&&!!e.runDirectlyBeforeShowSubMenu},{cmp_selected_to_confirm:t.selectActionLevel0==e.name&&!e.runDirectlyBeforeShowSubMenu}],attrs:{block:""},on:{click:function(i){return t.setActionLeve0(e.name)}}},[t._v(" "+t._s(e.name)+" "),e.runDirectlyBeforeShowSubMenu?i("span",{staticClass:"cmp-small-info"},[t._v("Don't need confirmation")]):t._e()])],1)})),0),t.controlsLevel1.length>0?i("btn-group",t._l(t.controlsLevel1,(function(e){return i("div",{key:e.xid},[i("btn",{class:{cmp_selected_to_confirm:t.selectActionLevel1==e.name},attrs:{block:""},on:{click:function(i){return t.setActionLevel1(e.name)}}},[t._v(t._s(e.name)+" ")])],1)})),0):t._e(),i("btn-group",[t.checkIfThereAreSharesToConfirmValue?i("btn",{attrs:{type:"primary"},on:{click:t.tryChangeModePLC}},[t._v("Confirm changes ")]):t._e()],1),i("hr"),i("p",{staticClass:"cmp-small-info"},[t._v("v0.0.6")]),i("btn",{attrs:{size:"xs",type:"primary"},on:{click:function(e){t.openModalWithHistory=!0}}},[t._v("History")]),i("modal",{attrs:{title:"History","auto-focus":""},model:{value:t.openModalWithHistory,callback:function(e){t.openModalWithHistory=e},expression:"openModalWithHistory"}},[i("HistoryCMP",{attrs:{pxIdViewAndIdCmp:t.xIdViewAndIdCmp},model:{value:t.openModalWithHistory,callback:function(e){t.openModalWithHistory=e},expression:"openModalWithHistory"}})],1)],1)],1)]),i("collapse",{model:{value:t.errorsNotification,callback:function(e){t.errorsNotification=e},expression:"errorsNotification"}},[i("div",{staticClass:"cmp-well"},[i("section",t._l(t.errors,(function(e){return i("div",{key:e.index},[i("alert",{attrs:{type:"danger"}},[i("b",[t._v(t._s(e))])])],1)})),0)])])],1)])},s=[],a=i("a833"),o=a["a"],r=(i("e3af"),i("0c7c")),c=Object(r["a"])(o,n,s,!1,null,"09c8b0a0",null);e["a"]=c.exports},aeba:function(t,e,i){"use strict";i("0354")},aec4:function(t,e,i){"use strict";i("af16")},af16:function(t,e,i){},b25c:function(t,e,i){"use strict";i("37ea")},b45b:function(t,e,i){},b641:function(t,e,i){"use strict";i("8477")},bdad:function(t,e,i){},bdf1:function(t,e,i){"use strict";i("3e3b")},c0af:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"col-md-4",staticStyle:{"background-color":"white",padding:"2em"}},[i("v-jsoneditor",{staticStyle:{height:"200px"},attrs:{options:t.options,plus:!0},model:{value:t.json,callback:function(e){t.json=e},expression:"json"}}),i("br"),i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.doExport()}}},[t._v(" Export ")]),i("button",{staticClass:"btn btn-warning",attrs:{color:"warning",type:"button"},on:{click:function(e){return t.doImport()}}},[t._v(" Import ")]),i("h4",{staticClass:"progress-label"},[t._v(" "+t._s(t.base.status)+" "),t.base.canceled?i("span",{staticClass:"badge badge-danger"},[t._v("CANCELED")]):t._e()]),i("h5",{staticClass:"progress-label"},[t._v(" "+t._s(t.base.statusGroup))]),i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar progress-bar-striped",class:{active:t.base.progressImport.isActive},style:{width:t.base.progressImport.group.percent+"%"},attrs:{id:"group-progress",role:"progressbar"}},[t.base.canceled?i("span",[t._v("canceled")]):i("span",[t._v(t._s(t.base.progressImport.group.percent)+"%")])])]),i("h5",{staticClass:"progress-label"},[t._v(t._s(t.base.statusDetail))]),i("div",{staticClass:"table-responsive"},[i("table",{staticClass:"table table-striped table-bordered"},[i("tr",[i("td",{attrs:{colspan:"2"}},[i("span",{domProps:{innerHTML:t._s(t.base.status)}})])]),i("tr",[i("td",{attrs:{colspan:"2"}},[t._v("Import time: "+t._s(t._f("moment")(t.timer.timeImport)))])]),i("tr",[i("td",{attrs:{colspan:"2"}},[t._v("To be imported: "+t._s(t.base.counterToParse))])]),i("tr",[i("td",[t._v("To be created: "+t._s(t.toCreate.xidFolderToCreate.length))]),i("td",[t._v("Created: "+t._s(t.toCreate.xidFolderCreated.length))])]),i("tr",[i("td",[t._v("Folders to be moved: "+t._s(t.toMoveFolder.xidFolderToMoveTo.length))]),i("td",[t._v("Moved folders: "+t._s(t.toMoveFolder.xidFolderMoved.length))])]),i("tr",[i("td",[t._v(" Points to be moved: "+t._s(Object.keys(t.toMovePoints.xidPointsMoveFromTo).length)+" ")]),i("td",[t._v("Moved points: "+t._s(t.toMovePoints.xidPointMoved.length))])]),i("tr",[i("td",[t._v(" Folder to be deleted: "+t._s(t.toDeleteFolder.xidFolderToDelete.length)+" ")]),i("td",[t._v("Deleted: "+t._s(t.toDeleteFolder.xidFolderDeleted.length))])]),i("tr",[i("td",[t._v(" Folder names to be changed: "+t._s(t.toChangeNameFolder.xidFolderToNameChange.length)+" ")]),i("td",[t._v(" Names changed: "+t._s(t.toChangeNameFolder.xidFolderNameChanged.length)+" ")])]),i("tr",[i("td",{attrs:{colspan:"2"}},[t._v(" Errors: "+t._s(t.base.xidErrors.length)+" "),t.base.xidErrors.length>0?i("span",{staticClass:"badge badge-danger"},[t._v("Check console")]):t._e()])])])]),i("button",{staticClass:"btn btn-danger btn-sm",attrs:{color:"danger",type:"button"},on:{click:function(e){return t.doCancel()}}},[t._v(" Cancel ")])],1)])},s=[],a=(i("ac6a"),i("456d"),i("7f7f"),i("4460")),o=i.n(a),r=i("bc3a"),c=i.n(r),l=i("c1df"),d=i.n(l),u=i("783b"),m=i.n(u),h={name:"export-import-point-hierarchy",components:{VJsoneditor:o.a},filters:{moment:function(t){return d()(t).format(" mm:ss")}},data:function(){return{options:{mode:"text",modes:[]},constants:{SCHEMA:{folders:{type:"array",items:{type:"object",properties:{parentXid:{type:"string"},name:{type:"string"},xidFolder:{type:"string"},pointXids:[{type:"string"}],toDelete:{enum:["true","false"]}},required:["parentXid","name","xidFolder","pointXids"]}},required:["folders"]},ROOT:"_",STATUS:0,STATUS_INFO:{RUN:0,WARNING:1,ERROR:2,END:3},STATUS_GROUP:1,STATUS_GROUP_INFO:{PARSE:1,CHECK:2,CHECK_TO_CREATE:3,CHECK_TO_MOVE_FOLDER:4,CHECK_TO_MOVE_POINTS:5,CHECK_FOLDERS_TO_DELETE:6,CHECK_TO_CHANGE_FOLDER_NAME:7,CREATE_FOLDERS:8,MOVE_FOLDERS:9,MOVE_POINTS:10,DELETE_FOLDERS:11,CHANGE_NAME_FOLDERS:12,REFRESH_CACHE:13},STATUS_DETAIL:2,STATUS_DETAIL_INFO:{}},json:{},timer:{startImport:0,endImport:0,timeImport:0},base:{progressImport:{group:{percent:0,elementToDo:13,elementDoing:1},detail:{percent:0,elementToDo:0,elementDoing:1},isActive:!1},canceled:!1,statusGroup:"",statusDetail:"",counterToParse:0,xidFolderAfter:[],xidFolderBefore:[],xidFolderExists:[],xidErrors:[],xidFolderToCheck:[]},toCreate:{xidFolderNotExists:[],xidFolderToCreate:[],xidFolderCreated:[]},toMoveFolder:{xidFolderToMoveTo:[],xidFolderMoved:[]},toMovePoints:{xidMapPointsExist:{},xidMapPointsAfter:{},xidMapPointsInCreateFolder:{},xidPointsMoveFromTo:{},xidPointsNotMove:{},xidPointMoved:[]},toDeleteFolder:{xidFolderToDelete:[],xidFolderDeleted:[]},toChangeNameFolder:{xidFolderToNameChange:[],xidFolderNameChanged:[]}}},methods:{doExport:function(){var t=this,e="./api/pointHierarchy/export";c.a.get(e).then((function(e){t.json=e.data})).catch((function(t){console.log(t)}))},doImport:function(){this.clearData(),this.timer.startImport=performance.now(),this.parse()},doCancel:function(){this.base.canceled=!0},clearData:function(){this.timer.startImport=0,this.timer.endImport=0,this.timer.timeImport=0,this.base.statusGroup="",this.base.statusDetail="",this.base.counterToParse=0,this.base.xidFolderAfter=[],this.base.xidFolderBefore=[],this.base.xidFolderExists=[],this.base.xidErrors=[],this.base.canceled=!1,this.base.xidFolderToCheck=[],this.toCreate.xidFolderNotExists=[],this.toCreate.xidFolderToCreate=[],this.toCreate.xidFolderCreated=[],this.toMoveFolder.xidFolderToMoveTo=[],this.toMoveFolder.xidFolderMoved=[],this.toMovePoints.xidMapPointsExist={},this.toMovePoints.xidMapPointsAfter={},this.toMovePoints.xidPointsMoveFromTo={},this.toMovePoints.xidPointsNotMove={},this.toMovePoints.xidPointMoved=[],this.toDeleteFolder.xidFolderToDelete=[],this.toDeleteFolder.xidFolderDeleted=[],this.toChangeNameFolder.xidFolderToNameChange=[],this.toChangeNameFolder.xidFolderNameChanged=[]},showStatus:function(t,e,i,n,s){t==this.constants.STATUS?(this.base.status=i,e==this.constants.STATUS_INFO.WARNING||e==this.constants.STATUS_INFO.ERROR||e==this.constants.STATUS_INFO.END?(console.log("STATUS INFO:"+e),this.base.progressImport.isActive=!1,this.base.progressImport.detail.percent=0,this.base.statusDetail="",this.base.statusGroup=""):e==this.constants.STATUS_INFO.RUN&&(this.base.progressImport.isActive=!0,this.base.progressImport.detail.percent=0)):t==this.constants.STATUS_GROUP?(this.base.statusGroup=i,this.calculateProgressGroup(e),this.base.progressImport.detail.percent=0):t==this.constants.STATUS_DETAIL&&(this.calculateProgressDetail(n,s),this.base.statusDetail=i),this.timer.stopImport=performance.now(),this.timer.timeImport=this.timer.stopImport-this.timer.startImport},parse:function(){this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.RUN,"Start"),this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.PARSE,"Validate");var t=new m.a,e=t.compile(this.constants.SCHEMA),i=e(this.json);if(i)try{var n=this.json.folders;this.base.xidFolderAfter=n.slice(),this.base.counterToParse=this.base.xidFolderAfter.length,void 0==n?this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.WARNING,"Folders information required"):(this.base.xidFolderToCheck=n,this.check())}catch(s){this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.ERROR,"Incorrect date format:"+s)}else console.log(e.errors),this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.ERROR,e.errors)},check:function(){var t=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK,"Check folders"),0==this.base.xidFolderToCheck.length)this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.WARNING,"Nothing to import");else{this.showStatus(this.constants.STATUS_DETAIL,0,"Check folder:"+this.base.xidFolderToCheck[0].xidFolder,this.base.xidFolderExists.length+this.toCreate.xidFolderNotExists.length,this.base.xidFolderToCheck.length+this.base.xidFolderExists.length+this.toCreate.xidFolderNotExists.length);var e="./api/pointHierarchy/folderCheckExist/".concat(this.base.xidFolderToCheck[0].xidFolder);c.a.get(e).then((function(e){void 0!==e.data?(console.log("FOLDER exist:"+t.base.xidFolderToCheck[0]),t.base.xidFolderExists.push(t.base.xidFolderToCheck[0]),t.base.xidFolderBefore.push(e.data)):void 0!=t.base.xidFolderToCheck[0]&&0==e.data&&(console.log("FOLDER not exist:"+t.base.xidFolderToCheck[0]),t.toCreate.xidFolderNotExists.push(t.base.xidFolderToCheck[0])),t.base.xidFolderToCheck.splice(0,1),t.base.xidFolderToCheck.length>0?t.check():t.validToCreate()})).catch((function(e){console.log("FOLDER not exist:"+t.base.xidFolderToCheck[0]),console.log(e),t.toCreate.xidFolderNotExists.push(t.base.xidFolderToCheck[0]),t.base.xidFolderToCheck.splice(0,1),t.base.xidFolderToCheck.length>0?t.check():t.validToCreate()}))}},validToCreate:function(){if(!this.canceled()){if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_CREATE,"Check folders to be created"),this.toCreate.xidFolderNotExists.length>0)for(var t in this.toCreate.xidFolderNotExists)if(null!=this.toCreate.xidFolderNotExists[t]){this.showStatus(this.constants.STATUS_DETAIL,0,"Validation folder to be created:"+this.toCreate.xidFolderNotExists[t].xidFolder,this.toCreate.xidFolderToCreate.length,this.toCreate.xidFolderNotExists.length);var e=void 0==this.toCreate.xidFolderNotExists[t].xidFolder||void 0==this.toCreate.xidFolderNotExists[t].name||1==this.toCreate.xidFolderNotExists[t].toDelete||"true"==this.toCreate.xidFolderNotExists[t].toDelete;e?this.base.xidErrors.push(this.toCreate.xidFolderNotExists[t]):this.toCreate.xidFolderToCreate.push(this.toCreate.xidFolderNotExists[t])}this.prepareDataToMoveFolders()}},prepareDataToMoveFolders:function(){if(!this.canceled()){for(var t in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_MOVE_FOLDER,"Check to-be-moved folders"),this.base.xidFolderExists)for(var e in this.base.xidFolderBefore)if(this.base.xidFolderExists[t].xidFolder==this.base.xidFolderBefore[e].xid&&(this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.base.xidFolderExists[t].xidFolder,t+e,this.base.xidFolderExists.length+this.base.xidFolderBefore.length),this.base.xidFolderExists[t].parentXid!==this.base.xidFolderBefore[e].parentXid)){var i={};i.newParentXid=this.base.xidFolderExists[t].parentXid,i.xidFolder=this.base.xidFolderExists[t].xidFolder,this.toMoveFolder.xidFolderToMoveTo.push(i)}this.prepareDataToMovePoints()}},prepareDataToMovePoints:function(){if(!this.canceled()){for(var t in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_MOVE_POINTS,"Check points to be moved"),this.toCreate.xidFolderToCreate)for(var e in this.toCreate.xidFolderToCreate[t].pointXids)this.toMovePoints.xidMapPointsInCreateFolder[this.toCreate.xidFolderToCreate[t].pointXids[e]]={xidPoint:this.toCreate.xidFolderToCreate[t].pointXids[e],xidFolder:this.toCreate.xidFolderToCreate[t].xidFolder};for(var i in this.base.xidFolderBefore)for(var n in this.base.xidFolderBefore[i].pointXids)this.toMovePoints.xidMapPointsExist[this.base.xidFolderBefore[i].pointXids[n]]={xidPoint:this.base.xidFolderBefore[i].pointXids[n],xidFolder:this.base.xidFolderBefore[i].xid};for(var s in this.base.xidFolderAfter)for(var a in this.base.xidFolderAfter[s].pointXids)this.toMovePoints.xidMapPointsAfter[this.base.xidFolderAfter[s].pointXids[a]]={xidPoint:this.base.xidFolderAfter[s].pointXids[a],xidFolder:this.base.xidFolderAfter[s].xidFolder,delete:this.base.xidFolderAfter[s].delete};for(var o in this.toMovePoints.xidMapPointsAfter){var r=this.toMovePoints.xidMapPointsAfter[o],c=this.toMovePoints.xidMapPointsExist[o],l=this.toMovePoints.xidMapPointsInCreateFolder[o];if(void 0==l&&void 0==c){var d={xidPoint:r.xidPoint,oldParent:"?",newParent:r.xidFolder};this.toMovePoints.xidPointsMoveFromTo[r.xidPoint]=d}}for(var o in this.toMovePoints.xidMapPointsExist){var u=this.toMovePoints.xidMapPointsAfter[o],m=this.toMovePoints.xidMapPointsExist[o],h=this.toMovePoints.xidMapPointsInCreateFolder[o];if(void 0==h)if(void 0==u){var p={xidPoint:m.xidPoint,oldParent:"?",newParent:this.constants.ROOT};this.toMovePoints.xidPointsMoveFromTo[m.xidPoint]=p}else if(u.xidFolder!==m.xidFolder){var g={xidPoint:m.xidPoint,oldParent:m.xidFolder,newParent:u.xidFolder};this.toMovePoints.xidPointsMoveFromTo[m.xidPoint]=g}else u.xidFolder==m.xidFolder&&this.toMovePoints.xidPointsNotMove[m.xidPoint]}this.prepareDataToDeleteFolders()}},prepareDataToDeleteFolders:function(){if(!this.canceled()){for(var t in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_FOLDERS_TO_DELETE,"Check folders to be deleted"),this.base.xidFolderAfter)if(void 0!=this.base.xidFolderAfter[t].toDelete&&"true"==this.base.xidFolderAfter[t].toDelete){var e=this.base.xidFolderAfter[t],i=!1;for(var n in this.base.xidErrors)if(i=!(this.base.xidErrors[n].xidFolder==e),i)break;i||this.toDeleteFolder.xidFolderToDelete.push(e)}this.prepareFolderToNameChange()}},prepareFolderToNameChange:function(){if(!this.canceled()){for(var t in this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHECK_TO_CHANGE_FOLDER_NAME,"Check folders to be updated"),this.base.xidFolderAfter)for(var e in this.base.xidFolderBefore)this.base.xidFolderAfter[t].xidFolder==this.base.xidFolderBefore[e].xid&&this.base.xidFolderAfter[t].name!=this.base.xidFolderBefore[e].name&&this.toChangeNameFolder.xidFolderToNameChange.push(this.base.xidFolderAfter[t]);this.createFolders()}},createFolders:function(){var t=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CREATE_FOLDERS,"Create folders"),this.toCreate.xidFolderToCreate.length>0){var e={};e.name=this.toCreate.xidFolderToCreate[0].name,e.xid=this.toCreate.xidFolderToCreate[0].xidFolder,e.parentXid=this.toCreate.xidFolderToCreate[0].parentXid,e.pointXids=this.toCreate.xidFolderToCreate[0].pointXids,this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toCreate.xidFolderToCreate[0].xidFolder,this.toCreate.xidFolderCreated.length,this.toCreate.xidFolderToCreate.length+this.toCreate.xidFolderCreated.length);var i="./api/pointHierarchy/folderAdd/";c.a.post(i,e).then((function(e){var i=t.toCreate.xidFolderToCreate[0];t.toCreate.xidFolderCreated.push(i),t.toCreate.xidFolderToCreate.splice(0,1),t.toCreate.xidFolderToCreate.length>0?t.createFolders():t.moveFolders()})).catch((function(e){console.log(e),t.toCreate.xidFolderToCreate.splice(0,1),t.toCreate.xidFolderToCreate.length>0?t.createFolders():t.moveFolders()}))}else this.moveFolders()},moveFolders:function(){var t=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.MOVE_FOLDERS,"Move folders"),this.toMoveFolder.xidFolderToMoveTo.length>0){this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toMoveFolder.xidFolderToMoveTo[0].xidFolder,this.toMoveFolder.xidFolderMoved.length,this.toMoveFolder.xidFolderToMoveTo.length+this.toMoveFolder.xidFolderMoved.length);var e="./api/pointHierarchy/folderMoveTo/".concat(this.toMoveFolder.xidFolderToMoveTo[0].xidFolder,"/").concat(this.toMoveFolder.xidFolderToMoveTo[0].newParentXid);c.a.put(e).then((function(e){console.log(e);var i=t.toMoveFolder.xidFolderToMoveTo[0];t.toMoveFolder.xidFolderMoved.push(i),t.toMoveFolder.xidFolderToMoveTo.splice(0,1),t.toMoveFolder.xidFolderToMoveTo.length>0?t.moveFolders():t.movePoints()})).catch((function(e){console.log(e),t.toMoveFolder.xidFolderToMoveTo.splice(0,1),t.toMoveFolder.xidFolderToMoveTo.length>0?t.moveFolders():t.movePoints()}))}else this.movePoints()},movePoints:function(){var t=this;if(!this.canceled()){this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.MOVE_POINTS,"Move points");var e=Object.keys(this.toMovePoints.xidPointsMoveFromTo).map((function(e){return t.toMovePoints.xidPointsMoveFromTo[e]}));if(e.length>0){var i=this.constants.ROOT;""==!e[0].newParent.trim()&&(i=e[0].newParent),this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+e[0].xidPoint,this.toMovePoints.xidPointMoved.length,this.toMovePoints.xidPointsMoveFromTo.length+this.toMovePoints.xidPointMoved.length);var n="./api/pointHierarchy/pointMoveTo/".concat(e[0].xidPoint,"/").concat(i);c.a.put(n).then((function(i){console.log(i);var n=e[0];t.toMovePoints.xidPointMoved.push(n),delete t.toMovePoints.xidPointsMoveFromTo[e[0].xidPoint],e.splice(0,1),e.length>0?t.movePoints():t.deleteFolders()})).catch((function(i){console.log(i),delete t.toMovePoints.xidPointsMoveFromTo[e[0].xidPoint],e.splice(0,1),e.length>0?t.movePoints():t.deleteFolders()}))}else this.deleteFolders()}},deleteFolders:function(){var t=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.DELETE_FOLDERS,"Delete folders"),this.toDeleteFolder.xidFolderToDelete.length>0){this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toDeleteFolder.xidFolderToDelete[0].xidFolder,this.toDeleteFolder.xidFolderDeleted.length,this.toDeleteFolder.xidFolderToDelete.length+this.toDeleteFolder.xidFolderDeleted.length);var e="./api/pointHierarchy/deleteFolder/".concat(this.toDeleteFolder.xidFolderToDelete[0].xidFolder);c.a.post(e).then((function(e){var i=t.toDeleteFolder.xidFolderToDelete[0];t.toDeleteFolder.xidFolderDeleted.push(i),t.toDeleteFolder.xidFolderToDelete.splice(0,1),t.toDeleteFolder.xidFolderToDelete.length>0?t.deleteFolders():t.changeNameFolders()})).catch((function(e){console.log(e),t.toDeleteFolder.xidFolderToDelete.splice(0,1),t.toDeleteFolder.xidFolderToDelete.length>0?t.deleteFolders():t.changeNameFolders()}))}else this.changeNameFolders()},changeNameFolders:function(){var t=this;if(!this.canceled())if(this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.CHANGE_NAME_FOLDERS,"Change folders' names"),this.toChangeNameFolder.xidFolderToNameChange.length>0){this.showStatus(this.constants.STATUS_DETAIL,0,"xid:"+this.toChangeNameFolder.xidFolderToNameChange[0].xidFolder,this.toChangeNameFolder.xidFolderNameChanged.length,this.toChangeNameFolder.xidFolderToNameChange.length+this.toChangeNameFolder.xidFolderNameChanged.length);var e="./api/pointHierarchy/changeName/".concat(this.toChangeNameFolder.xidFolderToNameChange[0].xidFolder,"/").concat(this.toChangeNameFolder.xidFolderToNameChange[0].name);c.a.put(e).then((function(e){var i=t.toChangeNameFolder.xidFolderToNameChange[0];t.toChangeNameFolder.xidFolderNameChanged.push(i),t.toChangeNameFolder.xidFolderToNameChange.splice(0,1),t.toChangeNameFolder.xidFolderToNameChange.length>0?t.changeNameFolders():t.createFolderAndMovePoints()})).catch((function(e){console.log(e),t.toChangeNameFolder.xidFolderToNameChange.splice(0,1),t.toChangeNameFolder.xidFolderToNameChange.length>0?t.changeNameFolders():t.refreshCache()}))}else this.refreshCache()},refreshCache:function(){var t=this;this.showStatus(this.constants.STATUS_GROUP,this.constants.STATUS_GROUP_INFO.REFRESH_CACHE,"Refresh cache");var e="./api/pointHierarchy/cacheRefresh/";c.a.post(e).then((function(e){t.timer.stopImport=performance.now(),t.timer.timeImport=t.timer.stopImport-t.timer.startImport,reload()})).catch((function(e){console.log(e),t.showStatus(t.constants.STATUS,t.constants.STATUS_INFO.ERROR,"End import"),reload()})),this.showStatus(this.constants.STATUS,this.constants.STATUS_INFO.END,"End import")},calculateProgressGroup:function(t){this.base.progressImport.group.elementDoing=t,this.base.progressImport.group.percent=(this.base.progressImport.group.elementDoing/this.base.progressImport.group.elementToDo*100).toFixed(0)},calculateProgressDetail:function(t,e){this.base.progressImport.detail.elementDoing=t,this.base.progressImport.detail.elementToDo=e,(void 0==t||void 0==e||0==e)&&(this.base.progressImport.detail.percent=100),this.base.progressImport.detail.percent=0==t?0:(this.base.progressImport.detail.elementDoing/this.base.progressImport.detail.elementToDo*100).toFixed(0),isNaN(this.base.progressImport.detail.percent)&&(this.base.progressImport.detail.percent=100)},canceled:function(){return this.base.canceled&&this.refreshCache(),this.base.canceled}}},p=h,g=i("0c7c"),v=Object(g["a"])(p,n,s,!1,null,null,null);e["a"]=v.exports},d08a:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.danger?i("alert",{attrs:{id:"p_is_alive_bdanger",type:"danger"}},[i("b",[t._v("Error")]),t._v(" - time of the latest server response: "+t._s(t._f("moment")(t.timeFromServerEpoch))+" ")]):t._e(),t.warning?i("alert",{attrs:{id:"p_is_alive_bwarning",type:"warning"}},[i("b",[t._v("Warning")]),t._v(" - time of the latest server response: "+t._s(t._f("moment")(t.timeFromServerEpoch))+" ")]):t._e(),t.success?i("alert",{attrs:{id:"p_is_alive",type:"success"}},[t._v(t._s(t.label))]):t._e(),i("popover",{attrs:{title:"Is Alive",target:"#p_is_alive",trigger:"hover"}},[i("template",{slot:"popover"},[i("p",{staticClass:"p_is_now"},[t._v(" Time from web browser: "),i("b",[t._v(t._s(t._f("moment")(t.timeInWebEpoch)))])]),i("p",{staticClass:"p_is_last_time_modyfication"},[t._v(" Time of the latest server response: "),i("b",[t._v(t._s(t._f("moment")(t.timeFromServerEpoch)))])]),i("p",[t._v("Refresh time: "+t._s(t.timeRefresh)+" [ms]")]),i("p",[t._v("Time before warning: "+t._s(t.timeWarningEpoch)+" [ms]")]),i("p",[t._v("Time before error: "+t._s(t.timeErrorEpoch)+" [ms]")])])],2)],1)},s=[],a=i("c1df"),o=i.n(a),r=2e3,c=1e3,l=1,d={name:"is-alive",props:["plabel","ptimeWarning","ptimeError","ptimeRefresh"],data:function(){return{label:"",timeInWebEpoch:-1,timeFromServerEpoch:-1,timeRefresh:r,timeWarningEpoch:-1,timeErrorEpoch:-1,danger:!1,warning:!1,success:!0}},methods:{setData:function(){this.timeInWebEpoch=this.$store.getters.timeInWebIsAlive,this.timeFromServerEpoch=this.$store.getters.timeFromServerIsAlive,this.danger=this.$store.getters.dangerIsAlive,this.warning=this.$store.getters.warningIsAlive,this.success=this.$store.getters.successIsAlive},check:function(){var t=this;this.$store.dispatch("isAlive").then((function(){t.setData()})).catch((function(){t.setData()}))}},created:function(){this.label=this.plabel,this.ptimeUpdate<c?this.timeRefresh=r:this.timeRefresh=this.ptimeRefresh,this.timeWarningEpoch=this.ptimeWarning,this.timeErrorEpoch=this.ptimeError,void 0==this.timeRefresh&&(this.timeRefresh=DEFAULT_UPDATE_IS_ALIVE),this.$store.dispatch("setInitIsAlive",{tw:this.timeWarningEpoch,te:this.timeErrorEpoch,tr:this.timeRefresh})},mounted:function(){setInterval(function(){this.check()}.bind(this),this.timeRefresh)},filters:{moment:function(t){if(t>l){var e=new Date(1e3*t);return o()(e).format(" hh:mm:ss")}return"waiting for data"}}},u=d,m=i("0c7c"),h=Object(m["a"])(u,n,s,!1,null,null,null);e["a"]=h.exports},d2c6:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[t._v(t._s(t.label))]),i("div",{ref:"chartdiv",staticClass:"hello",style:{height:this.height+"px",width:this.width+"px"}}),t.errorMessage?i("div",[i("p",{staticClass:"error"},[t._v(t._s(t.errorMessage))])]):t._e(),t.showReload?i("div",[i("button",{on:{click:function(e){return t.reload()}}},[t._v("Reload")])]):t._e()])},s=[],a=(i("ac4d"),i("8a81"),i("1c4c"),i("6b54"),i("2397"),i("28a5"),i("c5f6"),i("768b")),o=(i("ac6a"),i("5df3"),i("f400"),i("7f7f"),i("d225")),r=i("b0b4"),c=i("2a88"),l=i("4e2b"),d=i("308d"),u=i("6bb5"),m=i("71c9"),h=(i("c497"),i("5a54")),p=(i("bc3a"),i("2bf5"));function g(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=v(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw a}}}}function v(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function y(t){var e=b();return function(){var i,n=Object(u["a"])(t);if(e){var s=Object(u["a"])(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Object(d["a"])(this,i)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}m["g"](h["a"]);var _=function(t){Object(l["a"])(i,t);var e=y(i);function i(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";return Object(o["a"])(this,i),e.call(this,t,"XYChart",n,s)}return Object(r["a"])(i,[{key:"displayControls",value:function(t,e,i){void 0!==t&&"true"==t?this.showScrollbarX=!0:void 0!==t&&"false"==t&&(this.showScrollbarX=!1),void 0!==e&&"true"==e?this.showScrollbarY=!0:void 0!==e&&"false"==e&&(this.showScrollbarY=!1),void 0!==i&&"true"==i?this.showLegend=!0:void 0!==i&&"false"==i&&(this.showLegend=!1)}},{key:"loadData",value:function(t,e,n,s){var a=this;return new Promise((function(o,r){Object(c["a"])(Object(u["a"])(i.prototype),"loadData",a).call(a,t,e,n,s).then((function(e){if(void 0==a.pointCurrentValue.get(t)&&a.pointCurrentValue.set(t,{name:e.name,suffix:e.textRenderer.suffix,type:e.type,labels:new Map}),"Multistate"===e.type){var i=e.textRenderer.multistateValues;if("textRendererMultistate"===e.textRenderer.typeName&&void 0!==i){for(var n=new Map,s=0;s<i.length;s++)n.set(String(i[s].key),i[s].text);a.pointCurrentValue.get(t).labels=n}}if("Binary"===e.type&&"textRendererBinary"===e.textRenderer.typeName){var r=new Map;r.set("0",e.textRenderer.zeroLabel),r.set("1",e.textRenderer.oneLabel),a.pointCurrentValue.get(t).labels=r}e.values.forEach((function(t){a.addValue(t,e.name,a.pointPastValues)})),o("done")}))}))}},{key:"setupChart",value:function(){this.chart.data=p["a"].prepareChartData(p["a"].sortMapKeys(this.pointPastValues)),this.createAxisX("DateAxis",null),this.createAxisY(),this.createScrollBarsAndLegend(this.showScrollbarX,this.showScrollbarY,this.showLegend),this.createExportMenu(!0,"Scada_LineChart");var t,e=g(this.pointCurrentValue);try{for(e.s();!(t=e.n()).done;){var i=Object(a["a"])(t.value,2),n=(i[0],i[1]),s=this.createSeries(n.name,n.name,n.suffix);if("Multistate"===n.type){var o=this.createAxisY(n.labels);s.yAxis=o,o.renderer.line.stroke=s.stroke,o.title.text=n.name}if("Binary"===n.type&&n.labels.size>0){var r=this.createAxisY(n.labels);s.yAxis=r,r.renderer.line.stroke=s.stroke,r.title.text=n.name}}}catch(c){e.e(c)}finally{e.f()}}},{key:"createSeries",value:function(t,e,n){return Object(c["a"])(Object(u["a"])(i.prototype),"createSeries",this).call(this,"Line","date",t,e,n)}}]),i}(p["a"]),S={name:"LineChartComponent",props:["pointId","pointXid","color","label","startDate","endDate","refreshRate","width","height","polylineStep","rangeValue","rangeColor","rangeLabel","showScrollbarX","showScrollbarY","showLegend","showReload"],data:function(){return{errorMessage:void 0,chartClass:void 0,isExportId:!1}},mounted:function(){this.generateChart()},methods:{generateChart:function(){var t=this;Number(this.polylineStep)>1&&_.setPolylineStep(Number(this.polylineStep)),this.chartClass=new _(this.$refs.chartdiv,this.color),this.chartClass.displayControls(this.showScrollbarX,this.showScrollbarY,this.showLegend),void 0===this.pointXid||null===this.pointXid||null!==this.pointId&&void 0!==this.pointId||(this.isExportId=!0);var e,i=[];e=this.isExportId?this.pointXid.split(","):this.pointId.split(",");for(var n=0;n<e.length;n++)i.push(this.chartClass.loadData(e[n],this.startDate,this.endDate,this.isExportId));Promise.all(i).then((function(e){for(var i=0;i<e.length;i++)"done"!==e[i]&&(t.errorMessage="Point given with index ["+i+"] has not been loaded!");t.chartClass.showChart(),void 0!==t.rangeValue&&t.chartClass.addRangeValue(Number(t.rangeValue),t.rangeColor,t.rangeLabel),void 0!=t.refreshRate&&t.chartClass.startLiveUpdate(Number(t.refreshRate),t.isExportId)}))},reload:function(){this.generateChart()}}},w=S,x=(i("bdf1"),i("0c7c")),T=Object(x["a"])(w,n,s,!1,null,"7d9ad880",null);e["a"]=T.exports},dbaa:function(t,e,i){"use strict";i("2be7")},e3af:function(t,e,i){"use strict";i("f969")},e9c3:function(t,e,i){"use strict";i("1d5b")},edd4:function(t){t.exports=JSON.parse('{"uiv.enable":"Enable","uiv.disable":"Disable","uiv.modal.ok":"OK","uiv.modal.cancel":"Cancel","plcalarms.fault.inactive":"Fault has gone","plcalarms.fault.active":"Fault comes","plcalarms.fault.acknowledge":"Fault acknowledge","plcalarms.alarm.inactive":"Alarm is gone","plcalarms.alarm.active":"Alarm triggered","plcalarms.alarm.acknowledge":"Alarm acknowledge","plcalarms.notification":"Alarms Notifications","plcalarms.notification.title":"PLC Alarms Notification List","plcalarms.notification.select.mailinglist":"Select mailing list","plcalarms.notification.select.mailinglist.hint.1":"Notify users using mailing list","plcalarms.notification.select.mailinglist.hint.2":"Compare configuration","plcalarms.notification.settings.title":"Settings","plcalarms.notification.settings.ped.title":"Point Event Detector template","plcalarms.notification.settings.ped.alias":"Point Event Detector Alias","plcalarms.notification.settings.ped.alarmLevel":"Alarm Level","plcalarms.notification.settings.ped.duration":"Duration to rise the event","plcalarms.notification.settings.ped.duration.type":"Duration type","plcalarms.notification.settings.ped.binary":"Binary state","plcalarms.notification.settings.eh.title":"Event Handler template","plcalarms.notification.settings.eh.xid":"Event Handler Export ID","plcalarms.notification.settings.eh.alias":"Event Handler Alias","plcalarms.notification.settings.eh.disable":"Disable when created","plcalarms.notification.save":"Saved Successfully","plcalarms.notification.help":"PLC Alarms Notification list is a page to create a specific EventHandler type for Alarm ( AL ) or Warning ( ST ) datapoints in Scada-LTS. Using notification sheme defined for specific mailing list user is able to recive notification via selected channel (SMS or Email).","modernwatchlist.chart.panel.live":"Live","modernwatchlist.chart.panel.live.tooltip":"Display chart with live update for each Data Point","modernwatchlist.chart.panel.static":"Static","modernwatchlist.chart.panel.static.tooltip":"Display static chart from a specific time period.","modernwatchlist.chart.panel.compare":"Compare","modernwatchlist.chart.panel.compare.tooltip":"Compare two Data Points charts on the same chart.","modernwatchlist.chart.panel.apply.tooltip":"Apply changes to the Chart","modernwatchlist.chartseries.aggregation.all":"All Data","modernwatchlist.chartseries.aggregation.aggregate":"Aggregate Data","modernwatchlist.chartseries.name":"Name:","modernwatchlist.chartseries.series":"Series Type:","modernwatchlist.chartseries.series.stepline":"Step Line Series","modernwatchlist.chartseries.series.line":"Line Series","modernwatchlist.chartseries.yaxis":"Y-Axis:","modernwatchlist.chartseries.yaxis.logarithmic":"Logarithmic","modernwatchlist.chartseries.yaxis.binary":"Binary","modernwatchlist.chartseries.xaxis":"X-Axis:","modernwatchlist.chartseries.stroke.color":"Stroke color:","modernwatchlist.chartseries.stroke.width":"Stroke width:","modernwatchlist.chartseries.stroke.tension":"Stroke tension:","modernwatchlist.chartseries.fill.color":"Fill color:","modernwatchlist.chartseries.fill.opacity":"Fill opacity:","modernwatchlist.chartseries.bullets":"Bullets","modernwatchlist.chartseries.show":"Show","modernwatchlist.chartseries.hide":"Hide","modernwatchlist.chartseries.close":"Close","modernwatchlist.chartseries.restore":"Restore","modernwatchlist.chartseries.save":"Save","modernwatchlist.settings.live.time.label":"Values from last...","modernwatchlist.settings.live.time.hour":"Hour(s)","modernwatchlist.settings.live.time.day":"Day(s)","modernwatchlist.settings.live.time.week":"Week(s)","modernwatchlist.settings.live.time.month":"Month(s)","modernwatchlist.settings.live.performance.1":"Update every 1 second","modernwatchlist.settings.live.performance.2":"Update every 2 seconds","modernwatchlist.settings.live.performance.5":"Update every 5 seconds","modernwatchlist.settings.live.performance.10":"Update every 10 seconds","modernwatchlist.settings.live.performance.30":"Update every 30 seconds","modernwatchlist.settings.live.performance.60":"Update every 60 seconds","modernwatchlist.settings.compare.point1.tooltip":"Select first datapoint to compare and assign this to 1-st x-axis.","modernwatchlist.settings.compare.point2.tooltip":"Remember to assign this datapoint to 2nd X-Axis in \'More Settings\' menu!","modernwatchlist.settings.date.start":"Start date","modernwatchlist.settings.date.end":"End date","about":"This is an about page (i18n test) locales","systemsettings.title":"System settings","systemsettings.info.title":"System Information","systemsettings.info.systemtime":"Scada-LTS uptime","systemsettings.info.uiversion":"User Interface version","systemsettings.info.tag":"Scada-LTS latest GitHub release","systemsettings.info.milestone":"Scada-LTS build version","systemsettings.info.branch":"Build from GitHub branch","systemsettings.info.instance":"Instance description","systemsettings.info.language":"System language","systemsettings.event.title":"System event alarm levels","systemsettings.event.system":"System startup","systemsettings.audit.title":"Audit event alarm levels","systemsettings.http.title":"Http settings","systemsettings.http.proxy.useProxy":"Proxy","systemsettings.http.proxy.enable":"Enable proxy","systemsettings.http.proxy.disable":"Disable proxy","systemsettings.http.proxy.host":"Proxy host","systemsettings.http.proxy.port":"Proxy port","systemsettings.http.proxy.username":"Proxy username","systemsettings.http.proxy.password":"Proxy password","systemsettings.database.title":"Database Information","systemsettings.database":"Using Database","systemsettings.database.mysql":"MySQL","systemsettings.database.derby":"Derby","systemsettings.database.size":"Database size","systemsettings.database.file":"Filedata size","systemsettings.database.total":"Total size","systemsettings.database.histroy":"History count","systemsettings.database.top":"Top points","systemsettings.database.event":"Event count","systemsettings.database.schemaVersion":"Database schema version","systemsettings.email.title":"Email settings","systemsettings.email.host":"SMTP host","systemsettings.email.port":"SMTP port","systemsettings.email.address":"\'From\' address","systemsettings.email.name":"\'From\' name","systemsettings.email.auth":"Authorization","systemsettings.email.auth.enable":"Use authorization","systemsettings.email.auth.disable":"Disable authorization","systemsettings.email.username":"Username","systemsettings.email.password":"Password","systemsettings.email.tls":"TLS","systemsettings.email.tls.enable":"Enable TLS","systemsettings.email.tls.disable":"Disable TLS","systemsettings.email.contentType":"Content type","systemsettings.email.contenttype.htmltext":"HTML and text","systemsettings.email.contenttype.html":"HTML only","systemsettings.email.contenttype.text":"Text only","systemsettings.misc.title":"Other settings","systemsettings.misc.uiPerformance":"UI performance","systemsettings.misc.performance.high":"High","systemsettings.misc.performance.medium":"Medium","systemsettings.misc.performance.low":"Low","systemsettings.misc.purge.events":"Purge events older than","systemsettings.misc.purge.reports":"Purge report instances older than","systemsettings.misc.purge.future":"Discard point values future dated more than","systemsettings.misc.eventPurgePeriodType":"Purge event period type","systemsettings.misc.eventPurgePeriods":"Purge event time","systemsettings.misc.reportPurgePeriodType":"Purge report period type","systemsettings.misc.reportPurgePeriods":"Purge report time","systemsettings.misc.futureDateLimitPeriodType":"Future date limit period type","systemsettings.misc.futureDateLimitPeriods":"Future date limit","systemsettings.smsdomain.title":"SMS Domain","systemsettings.smsdomain.label":"SMS-Gateway server address","systemsettings.scadaconf.title":"Scada-LTS environment settings","systemsettings.scadaconf.apiReplaceAlertOnView":"Replace alert on view","systemsettings.scadaconf.cacheEnable":"Event cache","systemsettings.scadaconf.startUpdateUnsilencedAlarmLevel":"Start update unsilenced alarm level","systemsettings.scadaconf.startUpdateEventDetectors":"Start update event detectors","systemsettings.scadaconf.startUpdatePendingEvents":"Start update pending events","systemsettings.scadaconf.millisSecondsPeriodUpdateUnsilencedAlarmLevel":"Period update for unsilenced alarm level (ms)","systemsettings.scadaconf.millisSecondsPeriodUpdateEventDetectors":"Period update for event detectors (ms)","systemsettings.scadaconf.millisSecondsPeriodUpdatePendingEvents":"Period update for penging events (ms)","systemsettings.scadaconf.croneUpdateCachePointHierarchy":"Period update for point hierarchy (crone)","systemsettings.scadaconf.croneUpdateDataSourcesPoints":"Period update for data sources points (crone)","systemsettings.scadaconf.useCacheDataSourcePointsWhenSystemIsReady":"Use cache data sources points when the system is ready","systemsettings.scadaconf.useAcl":"Use Access Control List","systemsettings.scadaconf.aclServer":"Access Control List server","systemsettings.scadaconf.doNotCreateEventsForEmailError":"Do not create Events for email error","systemsettings.scadaconf.httpRetriverSleepCheckToReactivationWhenStart":"HTTP Retriver - sleep check to reactivation when start","systemsettings.scadaconf.httpRetriverDoNotAllowEnableReactivation":"HTTP Retriver - do not allow to enable reactivation","systemsettings.loggingtype.title":"Default Data Point logging type","systemsettings.loggingtype.value":"Logging type:","systemsettings.notification.fail":"Something went wrong!","systemsettings.notification.purgedata":"Successfully cleared data!","systemsettings.notification.send.email":"Email has been sent to ","systemsettings.notification.save.systeminfo":"System info settings saved!","systemsettings.notification.save.email":"Email settings saved!","systemsettings.notification.save.http":"Http settings saved!","systemsettings.notification.save.misc":"Other settings saved!","systemsettings.notification.save.smsdomain":"SMS Domain saved!","systemsettings.notification.save.systemevent":"System Event Types settings saved!","systemsettings.notification.save.auditevent":"Audit Event Types settings saved!","systemsettings.notification.save.database":"Database changed!","systemsettings.notification.save.logging":"Default logging type saved!","systemsettings.alert.purgedata.title":"Purge data?","systemsettings.alert.purgedata":"This operation will permanently delete datapoint history content. Continue?","systemsettings.tooltip.derbydatabase":"Derby database is unavailable in this ScadaLTS version!","systemsettings.tooltip.purgedata":"Delete historical datapoint concent","systemsettings.tooltip.sendtestemail":"Send a test message with last saved configuration to your own email address.","systemsettings.tooltip.scadaconf":"Scada-LTS configuration loaded from \'env.properties\' file. Modify file and restart application server to apply changes","systemsettings.label.save":"Save","systemsettings.label.saveall":"Save all changes","systemsettings.label.restoreall":"Restore All","systemsettings.label.restore":"Restore","systemsettings.label.summary":"Summary","event.system.startup":"System startup","event.system.shutdown":"System shutdown","event.system.maxAlarmChanged":"Maximum alarm level changed","event.system.userLogin":"User login","event.system.compound":"Compound detector failure","event.system.setPoint":"Set point event handler failure","event.system.email":"Email send failure","event.system.pointLink":"Point link failure","event.system.process":"Process event handler failure","event.audit.dataSource":"Data source","event.audit.dataPoint":"Data point","event.audit.pointEventDetector":"Point event detector","event.audit.compoundEventDetector":"Compound event detector","event.audit.scheduledEvent":"Scheduled event","event.audit.eventHandler":"Event handler","event.audit.pointLink":"Point link","event.audit.maintenanceEvent":"Maintenance event","alarmlevels.none":"None","alarmlevels.information":"Information","alarmlevels.urgent":"Urgent","alarmlevels.critical":"Critical","alarmlevels.lifesafety":"Life safety","timeperiod.seconds":"second(s)","timeperiod.minutes":"minute(s)","timeperiod.hours":"hour(s)","timeperiod.days":"day(s)","timeperiod.weeks":"week(s)","timeperiod.months":"month(s)","timeperiod.years":"year(s)","pointEdit.logging.type.change":"When point value changes","pointEdit.logging.type.all":"All data","pointEdit.logging.type.never":"Do not log","pointEdit.logging.type.interval":"Interval","pointEdit.logging.type.tsChange":"When point timestamp changes"}')},ee0e:function(t,e,i){},f1e7:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container move-top format_font"},[i("div",{staticClass:"panel panel-default col-ld-4, col-md-4, col-sm-6"},[i("div",{staticClass:"panel-body"},[i("div",[i("btn-group",{staticStyle:{display:"inline"},attrs:{"aria-describedby":"sleepHelp"}},[i("btn",{attrs:{"input-type":"radio","input-value":t.STR_REACTIVATION_TYPE_STOP},model:{value:t.reactivation,callback:function(e){t.reactivation=e},expression:"reactivation"}},[t._v("Stop")]),i("btn",{attrs:{"input-type":"radio","input-value":t.STR_REACTIVATION_TYPE_SLEEP},model:{value:t.reactivation,callback:function(e){t.reactivation=e},expression:"reactivation"}},[t._v("Sleep")]),i("btn",{attrs:{"input-type":"radio","input-value":t.STR_REACTIVATION_TYPE_NONE},model:{value:t.reactivation,callback:function(e){t.reactivation=e},expression:"reactivation"}},[t._v("None")])],1),i("small",{staticClass:"form-text text-muted",staticStyle:{margin:"10px"},attrs:{id:"sleepHelp"}},[t._v("It will disable the datasource when the attempted connections fail and try reconnect according to the reactivity configuration")])],1),"sleep"==t.reactivation?i("div",{staticStyle:{padding:"0px",margin:"30px"}},[i("table",[i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.reactivationTimeValue,expression:"reactivationTimeValue"}],staticClass:"form-control number-width",staticStyle:{display:"inline"},attrs:{type:"number",min:"1",max:"31"},domProps:{value:t.reactivationTimeValue},on:{input:function(e){e.target.composing||(t.reactivationTimeValue=e.target.value)}}})]),i("td",[i("btn-group",{staticStyle:{display:"inline"}},[i("btn",{attrs:{"input-type":"radio","input-value":t.STR_REACTIVATION_TYPE_TIME_MIN},model:{value:t.reactivationTimeType,callback:function(e){t.reactivationTimeType=e},expression:"reactivationTimeType"}},[t._v("Minute")]),i("btn",{attrs:{"input-type":"radio","input-value":t.STR_REACTIVATION_TYPE_TIME_HOUR},model:{value:t.reactivationTimeType,callback:function(e){t.reactivationTimeType=e},expression:"reactivationTimeType"}},[t._v("Hour")]),i("btn",{attrs:{"input-type":"radio","input-value":t.STR_REACTIVATION_TYPE_TIME_DAY},model:{value:t.reactivationTimeType,callback:function(e){t.reactivationTimeType=e},expression:"reactivationTimeType"}},[t._v("Day")])],1)],1)]),i("tr",[i("td"),i("td",[i("div",[t.runingReactivation?t._e():i("btn",{attrs:{size:"xs",type:"success"},on:{click:function(e){return t.startReactivation()}}},[t._v("Start reactivation")]),t.runingReactivation?i("btn",{attrs:{size:"xs",type:"danger"},on:{click:function(e){return t.stopReactivation()}}},[t._v("Stop reactivation")]):t._e()],1)])])]),i("div",[i("p",[t._v(" time to next attempt to enable data source: "+t._s(t._f("infoTime")(t.timeToNextTryEnableDs))+" ")])])]):t._e()])])])},s=[],a=i("bc3a"),o=i.n(a),r={data:function(){return{STR_REACTIVATION_TYPE_TIME_MIN:"min",STR_REACTIVATION_TYPE_TIME_HOUR:"hour",STR_REACTIVATION_TYPE_TIME_DAY:"day",INT_REACTIVATION_TYPE_TIME_MIN:0,INT_REACTIVATION_TYPE_TIME_HOUR:1,INT_REACTIVATION_TYPE_TIME_DAY:2,INT_REACTIVATION_NO_TIME:-1,STR_REACTIVATION_TYPE_NONE:"none",STR_REACTIVATION_TYPE_SLEEP:"sleep",STR_REACTIVATION_TYPE_STOP:"stop",TIME_REFRESH:1e3,STR_REACTIVATION_RESPONSE_STARTED:"started",STR_REACTIVATION_RESPONSE_STOPED:"stoped",STR_REACTIVATION_RESPONSE_NO_CHANGE:"nothing_changed",reactivation:this.defaultReactivation(),reactivationTimeType:this.defaultTimeType(),reactivationTimeValue:this.defaultTimeValue(),idDs:0,sleep:!1,runingReactivation:!1,timeToNextTryEnableDs:0}},methods:{defaultReactivation:function(){return this.STR_REACTIVATION_TYPE_NONE},defaultTimeType:function(){return this.STR_REACTIVATION_TYPE_TIME_MIN},defaultTimeValue:function(){return 1},checkWhenNextTryEnableDs:function(){var t=this,e="./api/check-time-reactivation/".concat(this.idDs);o.a.get(e).then((function(e){e.data==t.INT_REACTIVATION_NO_TIME?(t.runingReactivation=!1,t.timeToNextTryEnableDs=0):(t.timeToNextTryEnableDs=e.data,t.runingReactivation=!0)})).catch((function(e){t.runingReactivation=!1,console.log(e)}))},startReactivation:function(){var t=this,e="./api/enable-reactivation/".concat(this.idDs);o.a.post(e).then((function(e){e.data!=t.STR_REACTIVATION_RESPONSE_STARTED&&e.data!=t.STR_REACTIVATION_RESPONSE_NO_CHANGE||(t.runingReactivation=!0)})).catch((function(t){console.log(t)}))},stopReactivation:function(){var t=this,e="./api/disable-reactivation/".concat(this.idDs);o.a.post(e).then((function(e){e.data!=t.STR_REACTIVATION_RESPONSE_STOPED&&e.data!=t.STR_REACTIVATION_RESPONSE_NO_CHANGE||(t.runingReactivation=!1,t.timeToNextTryEnableDs=0)})).catch((function(t){console.log(t)}))}},created:function(){void 0!==editDSNewUI&&(editDSNewUI.reactivation.sleep?this.reactivation=this.STR_REACTIVATION_TYPE_SLEEP:editDSNewUI.stop?this.reactivation=this.STR_REACTIVATION_TYPE_STOP:this.reactivation=this.STR_REACTIVATION_TYPE_NONE,editDSNewUI.reactivation.type==this.INT_REACTIVATION_TYPE_TIME_MIN?this.reactivationTimeType=this.STR_REACTIVATION_TYPE_TIME_MIN:editDSNewUI.reactivation.type==this.INT_REACTIVATION_TYPE_TIME_HOUR?this.reactivationTimeType=this.STR_REACTIVATION_TYPE_TIME_HOUR:editDSNewUI.reactivation.type==this.INT_REACTIVATION_TYPE_TIME_DAY&&(this.reactivationTimeType=this.STR_REACTIVATION_TYPE_TIME_DAY),this.reactivationTimeValue=editDSNewUI.reactivation.value,this.idDs=editDSNewUI.id,setInterval(function(){this.checkWhenNextTryEnableDs()}.bind(this),this.TIME_REFRESH))},watch:{reactivation:function(){void 0!==editDSNewUI&&(this.reactivation==this.STR_REACTIVATION_TYPE_SLEEP?(editDSNewUI.stop=!1,editDSNewUI.reactivation.sleep=!0):this.reactivation==this.STR_REACTIVATION_TYPE_STOP?(editDSNewUI.stop=!0,editDSNewUI.reactivation.sleep=!1):(editDSNewUI.stop=!1,editDSNewUI.reactivation.sleep=!1))},reactivationTimeType:function(){void 0!==editDSNewUI&&(this.reactivationTimeType==this.STR_REACTIVATION_TYPE_TIME_MIN?editDSNewUI.reactivation.type=this.INT_REACTIVATION_TYPE_TIME_MIN:this.reactivationTimeType==this.STR_REACTIVATION_TYPE_TIME_HOUR?editDSNewUI.reactivation.type=this.INT_REACTIVATION_TYPE_TIME_HOUR:this.reactivationTimeType==this.STR_REACTIVATION_TYPE_TIME_DAY&&(editDSNewUI.reactivation.type=this.INT_REACTIVATION_TYPE_TIME_DAY))},reactivationTimeValue:function(){void 0!==editDSNewUI&&(editDSNewUI.reactivation.value=this.reactivationTimeValue)}},filters:{infoTime:function(t){var e=parseInt(t/1e3),i=Math.floor(e/86400);e-=3600*i*24;var n=Math.floor(e/3600);e-=3600*n;var s=Math.floor(e/60);return e-=60*s,i+" days, "+n+" Hrs, "+s+" Minutes, "+e+" Seconds"}}},c=r,l=(i("008c"),i("0c7c")),d=Object(l["a"])(c,n,s,!1,null,"24e77858",null);e["a"]=d.exports},f969:function(t,e,i){}});
//# sourceMappingURL=app.js.map